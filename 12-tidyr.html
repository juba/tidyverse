<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Partie 12 Mettre en ordre avec tidyr | Introduction à R et au tidyverse</title>
  <meta name="description" content="Une introduction à R et aux extensions du tidyverse" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Partie 12 Mettre en ordre avec tidyr | Introduction à R et au tidyverse" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Une introduction à R et aux extensions du tidyverse" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Partie 12 Mettre en ordre avec tidyr | Introduction à R et au tidyverse" />
  
  <meta name="twitter:description" content="Une introduction à R et aux extensions du tidyverse" />
  

<meta name="author" content="Julien Barnier" />


<meta name="date" content="2022-03-24" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="11-stringr.html"/>
<link rel="next" href="13-rmarkdown.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Introduction à R et au <em>tidyverse</em></a></li>

<li class="divider"></li>
<li><a href="index.html#à-propos-de-ce-document">À propos de ce document<span></span></a><ul>
<li><a href="index.html#remerciements">Remerciements<span></span></a></li>
<li><a href="index.html#licence">Licence<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="01-presentation.html"><a href="01-presentation.html"><i class="fa fa-check"></i><b>1</b> Présentation<span></span></a><ul>
<li class="chapter" data-level="1.1" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-de-r"><i class="fa fa-check"></i><b>1.1</b> À propos de R<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="01-presentation.html"><a href="01-presentation.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> À propos de RStudio<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-du-tidyverse"><i class="fa fa-check"></i><b>1.3</b> À propos du <em>tidyverse</em><span></span></a></li>
<li class="chapter" data-level="1.4" data-path="01-presentation.html"><a href="01-presentation.html#structure-du-document"><i class="fa fa-check"></i><b>1.4</b> Structure du document<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="01-presentation.html"><a href="01-presentation.html#prérequis"><i class="fa fa-check"></i><b>1.5</b> Prérequis<span></span></a></li>
</ul></li>
<li class="part"><span><b>I Introduction à R<span></span></b></span></li>
<li class="chapter" data-level="2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html"><i class="fa fa-check"></i><b>2</b> Prise en main<span></span></a><ul>
<li class="chapter" data-level="2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#la-console"><i class="fa fa-check"></i><b>2.1</b> La console<span></span></a><ul>
<li class="chapter" data-level="2.1.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#linvite-de-commandes"><i class="fa fa-check"></i><b>2.1.1</b> L’invite de commandes<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#précisions-concernant-la-saisie-des-commandes"><i class="fa fa-check"></i><b>2.1.2</b> Précisions concernant la saisie des commandes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets"><i class="fa fa-check"></i><b>2.2</b> Objets<span></span></a><ul>
<li class="chapter" data-level="2.2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets-simples"><i class="fa fa-check"></i><b>2.2.1</b> Objets simples<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#introvecteurs"><i class="fa fa-check"></i><b>2.2.2</b> Vecteurs<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#fonctions"><i class="fa fa-check"></i><b>2.3</b> Fonctions<span></span></a><ul>
<li class="chapter" data-level="2.3.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#principe"><i class="fa fa-check"></i><b>2.3.1</b> Principe<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#arguments"><i class="fa fa-check"></i><b>2.3.2</b> Arguments<span></span></a></li>
<li class="chapter" data-level="2.3.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#aide-sur-une-fonction"><i class="fa fa-check"></i><b>2.3.3</b> Aide sur une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#regrouper-ses-commandes-dans-des-scripts"><i class="fa fa-check"></i><b>2.4</b> Regrouper ses commandes dans des scripts<span></span></a><ul>
<li class="chapter" data-level="2.4.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#commentaires"><i class="fa fa-check"></i><b>2.4.1</b> Commentaires<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#packages"><i class="fa fa-check"></i><b>2.5</b> Installer et charger des extensions (<em>packages</em>)<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#exercices"><i class="fa fa-check"></i><b>2.6</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-premier_travail.html"><a href="03-premier_travail.html"><i class="fa fa-check"></i><b>3</b> Premier travail avec des données<span></span></a><ul>
<li class="chapter" data-level="3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#jeu-de-données-dexemple"><i class="fa fa-check"></i><b>3.1</b> Jeu de données d’exemple<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#tableau-de-données-data-frame"><i class="fa fa-check"></i><b>3.2</b> Tableau de données (<em>data frame</em>)<span></span></a><ul>
<li class="chapter" data-level="3.2.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#structure-du-tableau"><i class="fa fa-check"></i><b>3.2.1</b> Structure du tableau<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#accéder-aux-variables-dun-tableau"><i class="fa fa-check"></i><b>3.2.2</b> Accéder aux variables d’un tableau<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#créer-une-nouvelle-variable"><i class="fa fa-check"></i><b>3.2.3</b> Créer une nouvelle variable<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyse-univariée"><i class="fa fa-check"></i><b>3.3</b> Analyse univariée<span></span></a><ul>
<li class="chapter" data-level="3.3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-quantitative"><i class="fa fa-check"></i><b>3.3.1</b> Analyser une variable quantitative<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-qualitative"><i class="fa fa-check"></i><b>3.3.2</b> Analyser une variable qualitative<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="03-premier_travail.html"><a href="03-premier_travail.html#exercices-1"><i class="fa fa-check"></i><b>3.4</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-bivarie.html"><a href="04-bivarie.html"><i class="fa fa-check"></i><b>4</b> Analyse bivariée<span></span></a><ul>
<li class="chapter" data-level="4.1" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-qualitatives"><i class="fa fa-check"></i><b>4.1</b> Croisement de deux variables qualitatives<span></span></a><ul>
<li class="chapter" data-level="4.1.1" data-path="04-bivarie.html"><a href="04-bivarie.html#tableaux-croisés"><i class="fa fa-check"></i><b>4.1.1</b> Tableaux croisés<span></span></a></li>
<li class="chapter" data-level="4.1.2" data-path="04-bivarie.html"><a href="04-bivarie.html#test-du-χ²"><i class="fa fa-check"></i><b>4.1.2</b> Test du χ²<span></span></a></li>
<li class="chapter" data-level="4.1.3" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-1"><i class="fa fa-check"></i><b>4.1.3</b> Représentation graphique<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-dune-variable-quantitative-et-dune-variable-qualitative"><i class="fa fa-check"></i><b>4.2</b> Croisement d’une variable quantitative et d’une variable qualitative<span></span></a><ul>
<li class="chapter" data-level="4.2.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-2"><i class="fa fa-check"></i><b>4.2.1</b> Représentation graphique<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="04-bivarie.html"><a href="04-bivarie.html#tapply"><i class="fa fa-check"></i><b>4.2.2</b> Calculs d’indicateurs<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="04-bivarie.html"><a href="04-bivarie.html#tests-statistiques"><i class="fa fa-check"></i><b>4.2.3</b> Tests statistiques<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-quantitatives"><i class="fa fa-check"></i><b>4.3</b> Croisement de deux variables quantitatives<span></span></a><ul>
<li class="chapter" data-level="4.3.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-3"><i class="fa fa-check"></i><b>4.3.1</b> Représentation graphique<span></span></a></li>
<li class="chapter" data-level="4.3.2" data-path="04-bivarie.html"><a href="04-bivarie.html#calcul-dindicateurs"><i class="fa fa-check"></i><b>4.3.2</b> Calcul d’indicateurs<span></span></a></li>
<li class="chapter" data-level="4.3.3" data-path="04-bivarie.html"><a href="04-bivarie.html#régression-linéaire"><i class="fa fa-check"></i><b>4.3.3</b> Régression linéaire<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="04-bivarie.html"><a href="04-bivarie.html#exercices-2"><i class="fa fa-check"></i><b>4.4</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-organiser.html"><a href="05-organiser.html"><i class="fa fa-check"></i><b>5</b> Organiser ses scripts<span></span></a><ul>
<li class="chapter" data-level="5.1" data-path="05-organiser.html"><a href="05-organiser.html#projets"><i class="fa fa-check"></i><b>5.1</b> Les projets dans RStudio<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="05-organiser.html"><a href="05-organiser.html#créer-des-sections-dans-un-script"><i class="fa fa-check"></i><b>5.2</b> Créer des sections dans un script<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="05-organiser.html"><a href="05-organiser.html#répartir-son-travail-entre-plusieurs-scripts"><i class="fa fa-check"></i><b>5.3</b> Répartir son travail entre plusieurs scripts<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="05-organiser.html"><a href="05-organiser.html#désactiver-la-sauvegarde-de-lespace-de-travail"><i class="fa fa-check"></i><b>5.4</b> Désactiver la sauvegarde de l’espace de travail<span></span></a></li>
</ul></li>
<li class="part"><span><b>II Introduction au tidyverse<span></span></b></span></li>
<li class="chapter" data-level="6" data-path="06-tidyverse.html"><a href="06-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Le tidyverse<span></span></a><ul>
<li class="chapter" data-level="6.1" data-path="06-tidyverse.html"><a href="06-tidyverse.html#extensions"><i class="fa fa-check"></i><b>6.1</b> Extensions<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="06-tidyverse.html"><a href="06-tidyverse.html#installation"><i class="fa fa-check"></i><b>6.2</b> Installation<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tidydata"><i class="fa fa-check"></i><b>6.3</b> tidy data<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tibbles"><i class="fa fa-check"></i><b>6.4</b> tibbles<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-import.html"><a href="07-import.html"><i class="fa fa-check"></i><b>7</b> Importer et exporter des données<span></span></a><ul>
<li class="chapter" data-level="7.1" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-textes"><i class="fa fa-check"></i><b>7.1</b> Import de fichiers textes<span></span></a><ul>
<li class="chapter" data-level="7.1.1" data-path="07-import.html"><a href="07-import.html#interface-interactive-dimport-de-fichiers"><i class="fa fa-check"></i><b>7.1.1</b> Interface interactive d’import de fichiers<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="07-import.html"><a href="07-import.html#import-depuis-un-fichier-excel"><i class="fa fa-check"></i><b>7.2</b> Import depuis un fichier Excel<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-sas-spss-et-stata"><i class="fa fa-check"></i><b>7.3</b> Import de fichiers SAS, SPSS et Stata<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-dbase"><i class="fa fa-check"></i><b>7.4</b> Import de fichiers dBase<span></span></a></li>
<li class="chapter" data-level="7.5" data-path="07-import.html"><a href="07-import.html#connexion-à-des-bases-de-données"><i class="fa fa-check"></i><b>7.5</b> Connexion à des bases de données<span></span></a><ul>
<li class="chapter" data-level="7.5.1" data-path="07-import.html"><a href="07-import.html#interfaçage-via-lextension-dbi"><i class="fa fa-check"></i><b>7.5.1</b> Interfaçage via l’extension <code>DBI</code><span></span></a></li>
<li class="chapter" data-level="7.5.2" data-path="07-import.html"><a href="07-import.html#utilisation-de-dplyr-et-dbplyr"><i class="fa fa-check"></i><b>7.5.2</b> Utilisation de <code>dplyr</code> et <code>dbplyr</code><span></span></a></li>
<li class="chapter" data-level="7.5.3" data-path="07-import.html"><a href="07-import.html#ressources"><i class="fa fa-check"></i><b>7.5.3</b> Ressources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="07-import.html"><a href="07-import.html#export-de-données"><i class="fa fa-check"></i><b>7.6</b> Export de données<span></span></a><ul>
<li class="chapter" data-level="7.6.1" data-path="07-import.html"><a href="07-import.html#export-de-tableaux-de-données"><i class="fa fa-check"></i><b>7.6.1</b> Export de tableaux de données<span></span></a></li>
<li class="chapter" data-level="7.6.2" data-path="07-import.html"><a href="07-import.html#sauvegarder-des-objets"><i class="fa fa-check"></i><b>7.6.2</b> Sauvegarder des objets<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="08-ggplot2.html"><a href="08-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Visualiser avec <code>ggplot2</code><span></span></a><ul>
<li class="chapter" data-level="8.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#préparation"><i class="fa fa-check"></i><b>8.1</b> Préparation<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#initialisation"><i class="fa fa-check"></i><b>8.2</b> Initialisation<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-geom"><i class="fa fa-check"></i><b>8.3</b> Exemples de <code>geom</code><span></span></a><ul>
<li class="chapter" data-level="8.3.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_boxplot"><i class="fa fa-check"></i><b>8.3.1</b> <code>geom_boxplot</code><span></span></a></li>
<li class="chapter" data-level="8.3.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_violin"><i class="fa fa-check"></i><b>8.3.2</b> <code>geom_violin</code><span></span></a></li>
<li class="chapter" data-level="8.3.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-geom_col"><i class="fa fa-check"></i><b>8.3.3</b> <code>geom_bar</code> et <code>geom_col</code><span></span></a></li>
<li class="chapter" data-level="8.3.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_text"><i class="fa fa-check"></i><b>8.3.4</b> <code>geom_text</code><span></span></a></li>
<li class="chapter" data-level="8.3.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_label"><i class="fa fa-check"></i><b>8.3.5</b> <code>geom_label</code><span></span></a></li>
<li class="chapter" data-level="8.3.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_density"><i class="fa fa-check"></i><b>8.3.6</b> <code>geom_density</code><span></span></a></li>
<li class="chapter" data-level="8.3.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_line"><i class="fa fa-check"></i><b>8.3.7</b> <code>geom_line</code><span></span></a></li>
<li class="chapter" data-level="8.3.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_hex-et-geom_bin2d"><i class="fa fa-check"></i><b>8.3.8</b> <code>geom_hex</code> et <code>geom_bin2d</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#mappages"><i class="fa fa-check"></i><b>8.4</b> Mappages<span></span></a><ul>
<li class="chapter" data-level="8.4.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-mappages"><i class="fa fa-check"></i><b>8.4.1</b> Exemples de mappages<span></span></a></li>
<li class="chapter" data-level="8.4.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#aes-or-not-aes"><i class="fa fa-check"></i><b>8.4.2</b> <code>aes()</code> or not <code>aes()</code> ?<span></span></a></li>
<li class="chapter" data-level="8.4.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-position"><i class="fa fa-check"></i><b>8.4.3</b> <code>geom_bar</code> et <code>position</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#représentation-de-plusieurs-geom"><i class="fa fa-check"></i><b>8.5</b> Représentation de plusieurs <code>geom</code><span></span></a><ul>
<li class="chapter" data-level="8.5.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#plusieurs-sources-de-données"><i class="fa fa-check"></i><b>8.5.1</b> Plusieurs sources de données<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#faceting"><i class="fa fa-check"></i><b>8.6</b> Faceting<span></span></a></li>
<li class="chapter" data-level="8.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scales"><i class="fa fa-check"></i><b>8.7</b> Scales<span></span></a><ul>
<li class="chapter" data-level="8.7.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_size"><i class="fa fa-check"></i><b>8.7.1</b> <code>scale_size</code><span></span></a></li>
<li class="chapter" data-level="8.7.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_x-scale_y"><i class="fa fa-check"></i><b>8.7.2</b> <code>scale_x</code>, <code>scale_y</code><span></span></a></li>
<li class="chapter" data-level="8.7.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scalecolor"><i class="fa fa-check"></i><b>8.7.3</b> <code>scale_color</code>, <code>scale_fill</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#thèmes"><i class="fa fa-check"></i><b>8.8</b> Thèmes<span></span></a></li>
<li class="chapter" data-level="8.9" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ladd-in-esquisse"><i class="fa fa-check"></i><b>8.9</b> L’add-in <code>esquisse</code><span></span></a></li>
<li class="chapter" data-level="8.10" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ressources-1"><i class="fa fa-check"></i><b>8.10</b> Ressources<span></span></a></li>
<li class="chapter" data-level="8.11" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exercices-3"><i class="fa fa-check"></i><b>8.11</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="09-recodages.html"><a href="09-recodages.html"><i class="fa fa-check"></i><b>9</b> Recoder des variables<span></span></a><ul>
<li class="chapter" data-level="9.1" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs"><i class="fa fa-check"></i><b>9.1</b> Rappel sur les variables et les vecteurs<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="09-recodages.html"><a href="09-recodages.html#tests"><i class="fa fa-check"></i><b>9.2</b> Tests et comparaison<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="09-recodages.html"><a href="09-recodages.html#recoder-une-variable-qualitative"><i class="fa fa-check"></i><b>9.3</b> Recoder une variable qualitative<span></span></a><ul>
<li class="chapter" data-level="9.3.1" data-path="09-recodages.html"><a href="09-recodages.html#facteurs"><i class="fa fa-check"></i><b>9.3.1</b> Facteurs et <code>forcats</code><span></span></a></li>
<li class="chapter" data-level="9.3.2" data-path="09-recodages.html"><a href="09-recodages.html#recode"><i class="fa fa-check"></i><b>9.3.2</b> Modifier les modalités d’une variable qualitative<span></span></a></li>
<li class="chapter" data-level="9.3.3" data-path="09-recodages.html"><a href="09-recodages.html#ordonner-les-modalités-dune-variable-qualitative"><i class="fa fa-check"></i><b>9.3.3</b> Ordonner les modalités d’une variable qualitative<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables"><i class="fa fa-check"></i><b>9.4</b> Combiner plusieurs variables<span></span></a><ul>
<li class="chapter" data-level="9.4.1" data-path="09-recodages.html"><a href="09-recodages.html#if-else"><i class="fa fa-check"></i><b>9.4.1</b> <code>ifelse</code><span></span></a></li>
<li class="chapter" data-level="9.4.2" data-path="09-recodages.html"><a href="09-recodages.html#case_when"><i class="fa fa-check"></i><b>9.4.2</b> <code>case_when</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique-en-classes"><i class="fa fa-check"></i><b>9.5</b> Découper une variable numérique en classes<span></span></a><ul>
<li class="chapter" data-level="9.5.1" data-path="09-recodages.html"><a href="09-recodages.html#interface-graphique"><i class="fa fa-check"></i><b>9.5.1</b> Interface graphique<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="09-recodages.html"><a href="09-recodages.html#exercices-4"><i class="fa fa-check"></i><b>9.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="9.6.1" data-path="09-recodages.html"><a href="09-recodages.html#préparation-1"><i class="fa fa-check"></i><b>9.6.1</b> Préparation<span></span></a></li>
<li class="chapter" data-level="9.6.2" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs-et-tests"><i class="fa fa-check"></i><b>9.6.2</b> Vecteurs et tests<span></span></a></li>
<li class="chapter" data-level="9.6.3" data-path="09-recodages.html"><a href="09-recodages.html#recodages-de-variable-qualitative"><i class="fa fa-check"></i><b>9.6.3</b> Recodages de variable qualitative<span></span></a></li>
<li class="chapter" data-level="9.6.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables-1"><i class="fa fa-check"></i><b>9.6.4</b> Combiner plusieurs variables<span></span></a></li>
<li class="chapter" data-level="9.6.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique"><i class="fa fa-check"></i><b>9.6.5</b> Découper une variable numérique<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-dplyr.html"><a href="10-dplyr.html"><i class="fa fa-check"></i><b>10</b> Manipuler les données avec <code>dplyr</code><span></span></a><ul>
<li class="chapter" data-level="10.1" data-path="10-dplyr.html"><a href="10-dplyr.html#préparation-2"><i class="fa fa-check"></i><b>10.1</b> Préparation<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-dplyr"><i class="fa fa-check"></i><b>10.2</b> Les verbes de <code>dplyr</code><span></span></a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice"><i class="fa fa-check"></i><b>10.2.1</b> <code>slice</code><span></span></a></li>
<li class="chapter" data-level="10.2.2" data-path="10-dplyr.html"><a href="10-dplyr.html#filter"><i class="fa fa-check"></i><b>10.2.2</b> <code>filter</code><span></span></a></li>
<li class="chapter" data-level="10.2.3" data-path="10-dplyr.html"><a href="10-dplyr.html#select-rename"><i class="fa fa-check"></i><b>10.2.3</b> <code>select</code> et <code>rename</code><span></span></a></li>
<li class="chapter" data-level="10.2.4" data-path="10-dplyr.html"><a href="10-dplyr.html#arrange"><i class="fa fa-check"></i><b>10.2.4</b> <code>arrange</code><span></span></a></li>
<li class="chapter" data-level="10.2.5" data-path="10-dplyr.html"><a href="10-dplyr.html#mutate"><i class="fa fa-check"></i><b>10.2.5</b> <code>mutate</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-dplyr.html"><a href="10-dplyr.html#pipe"><i class="fa fa-check"></i><b>10.3</b> Enchaîner les opérations avec le <em>pipe</em><span></span></a></li>
<li class="chapter" data-level="10.4" data-path="10-dplyr.html"><a href="10-dplyr.html#opérations-groupées"><i class="fa fa-check"></i><b>10.4</b> Opérations groupées<span></span></a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by"><i class="fa fa-check"></i><b>10.4.1</b> <code>group_by</code><span></span></a></li>
<li class="chapter" data-level="10.4.2" data-path="10-dplyr.html"><a href="10-dplyr.html#summarise-et-count"><i class="fa fa-check"></i><b>10.4.2</b> <code>summarise</code> et <code>count</code><span></span></a></li>
<li class="chapter" data-level="10.4.3" data-path="10-dplyr.html"><a href="10-dplyr.html#grouper-selon-plusieurs-variables"><i class="fa fa-check"></i><b>10.4.3</b> Grouper selon plusieurs variables<span></span></a></li>
<li class="chapter" data-level="10.4.4" data-path="10-dplyr.html"><a href="10-dplyr.html#dégroupage"><i class="fa fa-check"></i><b>10.4.4</b> Dégroupage<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-dplyr.html"><a href="10-dplyr.html#autres-fonctions-utiles"><i class="fa fa-check"></i><b>10.5</b> Autres fonctions utiles<span></span></a><ul>
<li class="chapter" data-level="10.5.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice_sample"><i class="fa fa-check"></i><b>10.5.1</b> <code>slice_sample</code><span></span></a></li>
<li class="chapter" data-level="10.5.2" data-path="10-dplyr.html"><a href="10-dplyr.html#lead-et-lag"><i class="fa fa-check"></i><b>10.5.2</b> <code>lead</code> et <code>lag</code><span></span></a></li>
<li class="chapter" data-level="10.5.3" data-path="10-dplyr.html"><a href="10-dplyr.html#distinct-et-n_distinct"><i class="fa fa-check"></i><b>10.5.3</b> <code>distinct</code> et <code>n_distinct</code><span></span></a></li>
<li class="chapter" data-level="10.5.4" data-path="10-dplyr.html"><a href="10-dplyr.html#relocate"><i class="fa fa-check"></i><b>10.5.4</b> <code>relocate</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="10-dplyr.html"><a href="10-dplyr.html#tables-multiples"><i class="fa fa-check"></i><b>10.6</b> Tables multiples<span></span></a><ul>
<li class="chapter" data-level="10.6.1" data-path="10-dplyr.html"><a href="10-dplyr.html#concaténation-bind_rows-et-bind_cols"><i class="fa fa-check"></i><b>10.6.1</b> Concaténation : <code>bind_rows</code> et <code>bind_cols</code><span></span></a></li>
<li class="chapter" data-level="10.6.2" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures"><i class="fa fa-check"></i><b>10.6.2</b> Jointures<span></span></a></li>
<li class="chapter" data-level="10.6.3" data-path="10-dplyr.html"><a href="10-dplyr.html#types-de-jointures"><i class="fa fa-check"></i><b>10.6.3</b> Types de jointures<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="10-dplyr.html"><a href="10-dplyr.html#ressources-2"><i class="fa fa-check"></i><b>10.7</b> Ressources<span></span></a></li>
<li class="chapter" data-level="10.8" data-path="10-dplyr.html"><a href="10-dplyr.html#exercices-5"><i class="fa fa-check"></i><b>10.8</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="10.8.1" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-base-de-dplyr"><i class="fa fa-check"></i><b>10.8.1</b> Les verbes de base de <code>dplyr</code><span></span></a></li>
<li class="chapter" data-level="10.8.2" data-path="10-dplyr.html"><a href="10-dplyr.html#enchaîner-des-opérations"><i class="fa fa-check"></i><b>10.8.2</b> Enchaîner des opérations<span></span></a></li>
<li class="chapter" data-level="10.8.3" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by-et-summarise"><i class="fa fa-check"></i><b>10.8.3</b> <code>group_by</code> et <code>summarise</code><span></span></a></li>
<li class="chapter" data-level="10.8.4" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures-1"><i class="fa fa-check"></i><b>10.8.4</b> Jointures<span></span></a></li>
<li class="chapter" data-level="10.8.5" data-path="10-dplyr.html"><a href="10-dplyr.html#bonus"><i class="fa fa-check"></i><b>10.8.5</b> Bonus<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-stringr.html"><a href="11-stringr.html"><i class="fa fa-check"></i><b>11</b> Manipuler du texte avec <code>stringr</code><span></span></a><ul>
<li class="chapter" data-level="11.1" data-path="11-stringr.html"><a href="11-stringr.html#expressions-régulières"><i class="fa fa-check"></i><b>11.1</b> Expressions régulières<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="11-stringr.html"><a href="11-stringr.html#concat"><i class="fa fa-check"></i><b>11.2</b> Concaténer des chaînes<span></span></a></li>
<li class="chapter" data-level="11.3" data-path="11-stringr.html"><a href="11-stringr.html#convertir-en-majuscules-minuscules"><i class="fa fa-check"></i><b>11.3</b> Convertir en majuscules / minuscules<span></span></a></li>
<li class="chapter" data-level="11.4" data-path="11-stringr.html"><a href="11-stringr.html#découper-des-chaînes"><i class="fa fa-check"></i><b>11.4</b> Découper des chaînes<span></span></a></li>
<li class="chapter" data-level="11.5" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-sous-chaînes-par-position"><i class="fa fa-check"></i><b>11.5</b> Extraire des sous-chaînes par position<span></span></a></li>
<li class="chapter" data-level="11.6" data-path="11-stringr.html"><a href="11-stringr.html#str-detect"><i class="fa fa-check"></i><b>11.6</b> Détecter des motifs<span></span></a></li>
<li class="chapter" data-level="11.7" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-motifs"><i class="fa fa-check"></i><b>11.7</b> Extraire des motifs<span></span></a></li>
<li class="chapter" data-level="11.8" data-path="11-stringr.html"><a href="11-stringr.html#remplacer-des-motifs"><i class="fa fa-check"></i><b>11.8</b> Remplacer des motifs<span></span></a></li>
<li class="chapter" data-level="11.9" data-path="11-stringr.html"><a href="11-stringr.html#modificateurs"><i class="fa fa-check"></i><b>11.9</b> Modificateurs de motifs<span></span></a></li>
<li class="chapter" data-level="11.10" data-path="11-stringr.html"><a href="11-stringr.html#ressources-3"><i class="fa fa-check"></i><b>11.10</b> Ressources<span></span></a></li>
<li class="chapter" data-level="11.11" data-path="11-stringr.html"><a href="11-stringr.html#exercices-6"><i class="fa fa-check"></i><b>11.11</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-tidyr.html"><a href="12-tidyr.html"><i class="fa fa-check"></i><b>12</b> Mettre en ordre avec <code>tidyr</code><span></span></a><ul>
<li class="chapter" data-level="12.1" data-path="12-tidyr.html"><a href="12-tidyr.html#tidy-data"><i class="fa fa-check"></i><b>12.1</b> Tidy data<span></span></a></li>
<li class="chapter" data-level="12.2" data-path="12-tidyr.html"><a href="12-tidyr.html#trois-règles-pour-des-données-bien-rangées"><i class="fa fa-check"></i><b>12.2</b> Trois règles pour des données bien rangées<span></span></a></li>
<li class="chapter" data-level="12.3" data-path="12-tidyr.html"><a href="12-tidyr.html#les-verbes-de-tidyr"><i class="fa fa-check"></i><b>12.3</b> Les verbes de <code>tidyr</code><span></span></a><ul>
<li class="chapter" data-level="12.3.1" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_longer-transformer-des-colonnes-en-lignes"><i class="fa fa-check"></i><b>12.3.1</b> <code>pivot_longer</code> : transformer des colonnes en lignes<span></span></a></li>
<li class="chapter" data-level="12.3.2" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_wider-transformer-des-lignes-en-colonnes"><i class="fa fa-check"></i><b>12.3.2</b> <code>pivot_wider</code> : transformer des lignes en colonnes<span></span></a></li>
<li class="chapter" data-level="12.3.3" data-path="12-tidyr.html"><a href="12-tidyr.html#separate"><i class="fa fa-check"></i><b>12.3.3</b> <code>separate</code> : séparer une colonne en plusieurs colonnes<span></span></a></li>
<li class="chapter" data-level="12.3.4" data-path="12-tidyr.html"><a href="12-tidyr.html#separate-rows"><i class="fa fa-check"></i><b>12.3.4</b> <code>separate_rows</code> : séparer une colonne en plusieurs lignes<span></span></a></li>
<li class="chapter" data-level="12.3.5" data-path="12-tidyr.html"><a href="12-tidyr.html#unite-regrouper-plusieurs-colonnes-en-une-seule"><i class="fa fa-check"></i><b>12.3.5</b> <code>unite</code> : regrouper plusieurs colonnes en une seule<span></span></a></li>
<li class="chapter" data-level="12.3.6" data-path="12-tidyr.html"><a href="12-tidyr.html#extract"><i class="fa fa-check"></i><b>12.3.6</b> <code>extract</code> : créer de nouvelles colonnes à partir d’une colonne de texte<span></span></a></li>
<li class="chapter" data-level="12.3.7" data-path="12-tidyr.html"><a href="12-tidyr.html#complete-compléter-des-combinaisons-de-variables-manquantes"><i class="fa fa-check"></i><b>12.3.7</b> <code>complete</code> : compléter des combinaisons de variables manquantes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="12-tidyr.html"><a href="12-tidyr.html#ressources-4"><i class="fa fa-check"></i><b>12.4</b> Ressources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html"><i class="fa fa-check"></i><b>13</b> Diffuser et publier avec <code>rmarkdown</code><span></span></a><ul>
<li class="chapter" data-level="13.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#créer-un-nouveau-document"><i class="fa fa-check"></i><b>13.1</b> Créer un nouveau document<span></span></a></li>
<li class="chapter" data-level="13.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#éléments-dun-document-r-markdown"><i class="fa fa-check"></i><b>13.2</b> Éléments d’un document R Markdown<span></span></a><ul>
<li class="chapter" data-level="13.2.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#en-tête-préambule"><i class="fa fa-check"></i><b>13.2.1</b> En-tête (préambule)<span></span></a></li>
<li class="chapter" data-level="13.2.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#texte-du-document"><i class="fa fa-check"></i><b>13.2.2</b> Texte du document<span></span></a></li>
<li class="chapter" data-level="13.2.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#blocs-de-code-r"><i class="fa fa-check"></i><b>13.2.3</b> Blocs de code R<span></span></a></li>
<li class="chapter" data-level="13.2.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#compiler-un-document-knit"><i class="fa fa-check"></i><b>13.2.4</b> Compiler un document (<em>Knit</em>)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#personnaliser-le-document-généré"><i class="fa fa-check"></i><b>13.3</b> Personnaliser le document généré<span></span></a></li>
<li class="chapter" data-level="13.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-des-blocs-de-code-r"><i class="fa fa-check"></i><b>13.4</b> Options des blocs de code R<span></span></a><ul>
<li class="chapter" data-level="13.4.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#nom-du-bloc"><i class="fa fa-check"></i><b>13.4.1</b> Nom du bloc<span></span></a></li>
<li class="chapter" data-level="13.4.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options"><i class="fa fa-check"></i><b>13.4.2</b> Options<span></span></a></li>
<li class="chapter" data-level="13.4.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#modifier-les-options"><i class="fa fa-check"></i><b>13.4.3</b> Modifier les options<span></span></a></li>
<li class="chapter" data-level="13.4.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-globales"><i class="fa fa-check"></i><b>13.4.4</b> Options globales<span></span></a></li>
<li class="chapter" data-level="13.4.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#mise-en-cache-des-résultats"><i class="fa fa-check"></i><b>13.4.5</b> Mise en cache des résultats<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#rendu-des-tableaux"><i class="fa fa-check"></i><b>13.5</b> Rendu des tableaux<span></span></a><ul>
<li class="chapter" data-level="13.5.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-croisés-1"><i class="fa fa-check"></i><b>13.5.1</b> Tableaux croisés<span></span></a></li>
<li class="chapter" data-level="13.5.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-de-données-et-tris-à-plat"><i class="fa fa-check"></i><b>13.5.2</b> Tableaux de données et tris à plat<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates"><i class="fa fa-check"></i><b>13.6</b> Modèles de documents<span></span></a><ul>
<li class="chapter" data-level="13.6.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#slides"><i class="fa fa-check"></i><b>13.6.1</b> Slides<span></span></a></li>
<li class="chapter" data-level="13.6.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates-1"><i class="fa fa-check"></i><b>13.6.2</b> Templates<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#ressources-5"><i class="fa fa-check"></i><b>13.7</b> Ressources<span></span></a></li>
</ul></li>
<li class="part"><span><b>III Aller plus loin<span></span></b></span></li>
<li class="chapter" data-level="14" data-path="14-fonctions.html"><a href="14-fonctions.html"><i class="fa fa-check"></i><b>14</b> Écrire ses propres fonctions<span></span></a><ul>
<li class="chapter" data-level="14.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples"><i class="fa fa-check"></i><b>14.1</b> Introduction et exemples<span></span></a><ul>
<li class="chapter" data-level="14.1.1" data-path="14-fonctions.html"><a href="14-fonctions.html#structure-dune-fonction"><i class="fa fa-check"></i><b>14.1.1</b> Structure d’une fonction<span></span></a></li>
<li class="chapter" data-level="14.1.2" data-path="14-fonctions.html"><a href="14-fonctions.html#exemple-de-fonction"><i class="fa fa-check"></i><b>14.1.2</b> Exemple de fonction<span></span></a></li>
<li class="chapter" data-level="14.1.3" data-path="14-fonctions.html"><a href="14-fonctions.html#effets-de-bord-et-affichage-de-messages"><i class="fa fa-check"></i><b>14.1.3</b> Effets de bord et affichage de messages<span></span></a></li>
<li class="chapter" data-level="14.1.4" data-path="14-fonctions.html"><a href="14-fonctions.html#utilité-des-fonctions"><i class="fa fa-check"></i><b>14.1.4</b> Utilité des fonctions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat-dune-fonction"><i class="fa fa-check"></i><b>14.2</b> Arguments et résultat d’une fonction<span></span></a><ul>
<li class="chapter" data-level="14.2.1" data-path="14-fonctions.html"><a href="14-fonctions.html#définition-des-arguments"><i class="fa fa-check"></i><b>14.2.1</b> Définition des arguments<span></span></a></li>
<li class="chapter" data-level="14.2.2" data-path="14-fonctions.html"><a href="14-fonctions.html#valeurs-par-défaut"><i class="fa fa-check"></i><b>14.2.2</b> Valeurs par défaut<span></span></a></li>
<li class="chapter" data-level="14.2.3" data-path="14-fonctions.html"><a href="14-fonctions.html#arg-oblig"><i class="fa fa-check"></i><b>14.2.3</b> Arguments obligatoires et arguments facultatifs<span></span></a></li>
<li class="chapter" data-level="14.2.4" data-path="14-fonctions.html"><a href="14-fonctions.html#largument-..."><i class="fa fa-check"></i><b>14.2.4</b> L’argument <code>...</code><span></span></a></li>
<li class="chapter" data-level="14.2.5" data-path="14-fonctions.html"><a href="14-fonctions.html#resfunc"><i class="fa fa-check"></i><b>14.2.5</b> Résultat d’une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables"><i class="fa fa-check"></i><b>14.3</b> Portée des variables<span></span></a><ul>
<li class="chapter" data-level="14.3.1" data-path="14-fonctions.html"><a href="14-fonctions.html#une-fonction-peut-accéder-à-un-objet-extérieur"><i class="fa fa-check"></i><b>14.3.1</b> Une fonction peut accéder à un objet extérieur<span></span></a></li>
<li class="chapter" data-level="14.3.2" data-path="14-fonctions.html"><a href="14-fonctions.html#les-arguments-et-les-objets-créés-dans-la-fonction-sont-prioritaires"><i class="fa fa-check"></i><b>14.3.2</b> Les arguments et les objets créés dans la fonction sont prioritaires<span></span></a></li>
<li class="chapter" data-level="14.3.3" data-path="14-fonctions.html"><a href="14-fonctions.html#un-objet-créé-dans-une-fonction-nexiste-que-dans-cette-fonction"><i class="fa fa-check"></i><b>14.3.3</b> Un objet créé dans une fonction n’existe que dans cette fonction<span></span></a></li>
<li class="chapter" data-level="14.3.4" data-path="14-fonctions.html"><a href="14-fonctions.html#on-ne-peut-pas-modifier-un-objet-global-dans-une-fonction"><i class="fa fa-check"></i><b>14.3.4</b> On ne peut pas modifier un objet global dans une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets"><i class="fa fa-check"></i><b>14.4</b> Les fonctions comme objets<span></span></a><ul>
<li class="chapter" data-level="14.4.1" data-path="14-fonctions.html"><a href="14-fonctions.html#passer-des-fonctions-comme-argument"><i class="fa fa-check"></i><b>14.4.1</b> Passer des fonctions comme argument<span></span></a></li>
<li class="chapter" data-level="14.4.2" data-path="14-fonctions.html"><a href="14-fonctions.html#fonctions-anonymes"><i class="fa fa-check"></i><b>14.4.2</b> Fonctions anonymes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="14-fonctions.html"><a href="14-fonctions.html#ressources-6"><i class="fa fa-check"></i><b>14.5</b> Ressources<span></span></a></li>
<li class="chapter" data-level="14.6" data-path="14-fonctions.html"><a href="14-fonctions.html#exercices-7"><i class="fa fa-check"></i><b>14.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="14.6.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples-1"><i class="fa fa-check"></i><b>14.6.1</b> Introduction et exemples<span></span></a></li>
<li class="chapter" data-level="14.6.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat"><i class="fa fa-check"></i><b>14.6.2</b> Arguments et résultat<span></span></a></li>
<li class="chapter" data-level="14.6.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables-1"><i class="fa fa-check"></i><b>14.6.3</b> Portée des variables<span></span></a></li>
<li class="chapter" data-level="14.6.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets-1"><i class="fa fa-check"></i><b>14.6.4</b> Les fonctions comme objets<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html"><i class="fa fa-check"></i><b>15</b> <code>dplyr</code> avancé<span></span></a><ul>
<li class="chapter" data-level="15.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions"><i class="fa fa-check"></i><b>15.1</b> Appliquer ses propres fonctions<span></span></a><ul>
<li class="chapter" data-level="15.1.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-mutate"><i class="fa fa-check"></i><b>15.1.1</b> Exemple avec <code>mutate</code><span></span></a></li>
<li class="chapter" data-level="15.1.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-summarise"><i class="fa fa-check"></i><b>15.1.2</b> Exemple avec <code>summarise</code><span></span></a></li>
<li class="chapter" data-level="15.1.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-rename_with"><i class="fa fa-check"></i><b>15.1.3</b> Exemple avec <code>rename_with</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across"><i class="fa fa-check"></i><b>15.2</b> <code>across()</code> : appliquer des fonctions à plusieurs colonnes<span></span></a><ul>
<li class="chapter" data-level="15.2.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-une-fonction-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.1</b> Appliquer une fonction à plusieurs colonnes<span></span></a></li>
<li class="chapter" data-level="15.2.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#passer-des-arguments-supplémentaires-à-la-fonction-appliquée"><i class="fa fa-check"></i><b>15.2.2</b> Passer des arguments supplémentaires à la fonction appliquée<span></span></a></li>
<li class="chapter" data-level="15.2.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#noms-des-colonnes-créées-par-un-mutate"><i class="fa fa-check"></i><b>15.2.3</b> Noms des colonnes créées par un <code>mutate</code><span></span></a></li>
<li class="chapter" data-level="15.2.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-plusieurs-fonctions-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.4</b> Appliquer plusieurs fonctions à plusieurs colonnes<span></span></a></li>
<li class="chapter" data-level="15.2.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#renommer-plusieurs-colonnes-avec-une-fonction"><i class="fa fa-check"></i><b>15.2.5</b> Renommer plusieurs colonnes avec une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#syntaxes-abregees"><i class="fa fa-check"></i><b>15.3</b> Fonctions anonymes et syntaxes abrégées<span></span></a></li>
<li class="chapter" data-level="15.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across-appliquer-une-transformation-ligne-par-ligne"><i class="fa fa-check"></i><b>15.4</b> <code>rowwise()</code> et <code>c_across()</code> : appliquer une transformation ligne par ligne<span></span></a></li>
<li class="chapter" data-level="15.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#ressources-7"><i class="fa fa-check"></i><b>15.5</b> Ressources<span></span></a></li>
<li class="chapter" data-level="15.6" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exercices-8"><i class="fa fa-check"></i><b>15.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="15.6.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions-1"><i class="fa fa-check"></i><b>15.6.1</b> Appliquer ses propres fonctions<span></span></a></li>
<li class="chapter" data-level="15.6.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across-1"><i class="fa fa-check"></i><b>15.6.2</b> <code>across()</code><span></span></a></li>
<li class="chapter" data-level="15.6.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#fonctions-anonymes-et-notations-abrégées"><i class="fa fa-check"></i><b>15.6.3</b> Fonctions anonymes et notations abrégées<span></span></a></li>
<li class="chapter" data-level="15.6.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across"><i class="fa fa-check"></i><b>15.6.4</b> <code>rowwise()</code> et <code>c_across()</code><span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html"><i class="fa fa-check"></i><b>16</b> Structures de données<span></span></a><ul>
<li class="chapter" data-level="16.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques"><i class="fa fa-check"></i><b>16.1</b> Vecteurs atomiques<span></span></a><ul>
<li class="chapter" data-level="16.1.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-dun-vecteur"><i class="fa fa-check"></i><b>16.1.1</b> Création d’un vecteur<span></span></a></li>
<li class="chapter" data-level="16.1.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-nommés"><i class="fa fa-check"></i><b>16.1.2</b> Vecteurs nommés<span></span></a></li>
<li class="chapter" data-level="16.1.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#types-de-vecteurs"><i class="fa fa-check"></i><b>16.1.3</b> Types de vecteurs<span></span></a></li>
<li class="chapter" data-level="16.1.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments"><i class="fa fa-check"></i><b>16.1.4</b> Sélection d’éléments<span></span></a></li>
<li class="chapter" data-level="16.1.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification"><i class="fa fa-check"></i><b>16.1.5</b> Modification<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes"><i class="fa fa-check"></i><b>16.2</b> Listes<span></span></a><ul>
<li class="chapter" data-level="16.2.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création"><i class="fa fa-check"></i><b>16.2.1</b> Création<span></span></a></li>
<li class="chapter" data-level="16.2.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ajout-déléments"><i class="fa fa-check"></i><b>16.2.2</b> Ajout d’éléments<span></span></a></li>
<li class="chapter" data-level="16.2.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments-1"><i class="fa fa-check"></i><b>16.2.3</b> Sélection d’éléments<span></span></a></li>
<li class="chapter" data-level="16.2.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-1"><i class="fa fa-check"></i><b>16.2.4</b> Modification<span></span></a></li>
<li class="chapter" data-level="16.2.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#utilisation"><i class="fa fa-check"></i><b>16.2.5</b> Utilisation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#data-frame-tibbles"><i class="fa fa-check"></i><b>16.3</b> Tableaux de données (<em>data frame</em> et <em>tibble</em>)<span></span></a><ul>
<li class="chapter" data-level="16.3.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-1"><i class="fa fa-check"></i><b>16.3.1</b> Création<span></span></a></li>
<li class="chapter" data-level="16.3.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#noms-de-colonnes-et-de-lignes"><i class="fa fa-check"></i><b>16.3.2</b> Noms de colonnes et de lignes<span></span></a></li>
<li class="chapter" data-level="16.3.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#df-sel"><i class="fa fa-check"></i><b>16.3.3</b> Sélection de lignes et de colonnes<span></span></a></li>
<li class="chapter" data-level="16.3.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-2"><i class="fa fa-check"></i><b>16.3.4</b> Modification<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ressources-8"><i class="fa fa-check"></i><b>16.4</b> Ressources<span></span></a></li>
<li class="chapter" data-level="16.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#exercices-9"><i class="fa fa-check"></i><b>16.5</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="16.5.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques-1"><i class="fa fa-check"></i><b>16.5.1</b> Vecteurs atomiques<span></span></a></li>
<li class="chapter" data-level="16.5.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes-1"><i class="fa fa-check"></i><b>16.5.2</b> Listes<span></span></a></li>
<li class="chapter" data-level="16.5.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#tableaux-de-données"><i class="fa fa-check"></i><b>16.5.3</b> Tableaux de données<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="17-if-boucles.html"><a href="17-if-boucles.html"><i class="fa fa-check"></i><b>17</b> Exécution conditionnelle et boucles<span></span></a><ul>
<li class="chapter" data-level="17.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else-exécuter-du-code-sous-certaines-conditions"><i class="fa fa-check"></i><b>17.1</b> <code>if</code> et <code>else</code> : exécuter du code sous certaines conditions<span></span></a><ul>
<li class="chapter" data-level="17.1.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if"><i class="fa fa-check"></i><b>17.1.1</b> <code>if</code><span></span></a></li>
<li class="chapter" data-level="17.1.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-1"><i class="fa fa-check"></i><b>17.1.2</b> <code>if</code> / <code>else</code><span></span></a></li>
<li class="chapter" data-level="17.1.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-if-else"><i class="fa fa-check"></i><b>17.1.3</b> “<code>if</code>” / “<code>else if</code>” / “<code>else</code>”<span></span></a></li>
<li class="chapter" data-level="17.1.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#construction-de-conditions-complexes"><i class="fa fa-check"></i><b>17.1.4</b> Construction de conditions complexes<span></span></a></li>
<li class="chapter" data-level="17.1.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#différence-entre-if-else-et-ifelse"><i class="fa fa-check"></i><b>17.1.5</b> Différence entre <code>if</code> / <code>else</code> et <code>ifelse</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution-et-gestion-des-erreurs"><i class="fa fa-check"></i><b>17.2</b> Contrôle de l’exécution et gestion des erreurs<span></span></a><ul>
<li class="chapter" data-level="17.2.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#utilisation-de-return-pour-sortir-de-la-fonction"><i class="fa fa-check"></i><b>17.2.1</b> Utilisation de <code>return</code> pour sortir de la fonction<span></span></a></li>
<li class="chapter" data-level="17.2.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#warning"><i class="fa fa-check"></i><b>17.2.2</b> <code>warning</code><span></span></a></li>
<li class="chapter" data-level="17.2.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#stop-et-stopifnot"><i class="fa fa-check"></i><b>17.2.3</b> <code>stop</code> et <code>stopifnot</code><span></span></a></li>
<li class="chapter" data-level="17.2.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#test-arg"><i class="fa fa-check"></i><b>17.2.4</b> Tester la présence d’un argument facultatif<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for-et-while-répéter-des-instructions-dans-une-boucle"><i class="fa fa-check"></i><b>17.3</b> <code>for</code> et <code>while</code> : répéter des instructions dans une boucle<span></span></a><ul>
<li class="chapter" data-level="17.3.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for"><i class="fa fa-check"></i><b>17.3.1</b> <code>for</code><span></span></a></li>
<li class="chapter" data-level="17.3.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#while"><i class="fa fa-check"></i><b>17.3.2</b> <code>while</code><span></span></a></li>
<li class="chapter" data-level="17.3.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#next-et-break"><i class="fa fa-check"></i><b>17.3.3</b> <code>next</code> et <code>break</code><span></span></a></li>
<li class="chapter" data-level="17.3.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#no-boucles"><i class="fa fa-check"></i><b>17.3.4</b> Quand (ne pas) utiliser des boucles<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#ressources-boucles"><i class="fa fa-check"></i><b>17.4</b> Ressources<span></span></a></li>
<li class="chapter" data-level="17.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#exercices-10"><i class="fa fa-check"></i><b>17.5</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="17.5.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else"><i class="fa fa-check"></i><b>17.5.1</b> <code>if</code> et <code>else</code><span></span></a></li>
<li class="chapter" data-level="17.5.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution"><i class="fa fa-check"></i><b>17.5.2</b> Contrôle de l’exécution<span></span></a></li>
<li class="chapter" data-level="17.5.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#boucles"><i class="fa fa-check"></i><b>17.5.3</b> Boucles<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="18-purrr.html"><a href="18-purrr.html"><i class="fa fa-check"></i><b>18</b> Itérer avec <code>purrr</code><span></span></a><ul>
<li class="chapter" data-level="18.1" data-path="18-purrr.html"><a href="18-purrr.html#exemple-dapplication"><i class="fa fa-check"></i><b>18.1</b> Exemple d’application<span></span></a></li>
<li class="chapter" data-level="18.2" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes"><i class="fa fa-check"></i><b>18.2</b> <code>map</code> et ses variantes<span></span></a><ul>
<li class="chapter" data-level="18.2.1" data-path="18-purrr.html"><a href="18-purrr.html#modes-dappel-de-map"><i class="fa fa-check"></i><b>18.2.1</b> Modes d’appel de <code>map</code><span></span></a></li>
<li class="chapter" data-level="18.2.2" data-path="18-purrr.html"><a href="18-purrr.html#variantes-de-map"><i class="fa fa-check"></i><b>18.2.2</b> Variantes de <code>map</code><span></span></a></li>
<li class="chapter" data-level="18.2.3" data-path="18-purrr.html"><a href="18-purrr.html#map_dfr-et-map_dfc"><i class="fa fa-check"></i><b>18.2.3</b> <code>map_dfr()</code> et <code>map_dfc()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="18-purrr.html"><a href="18-purrr.html#itérer-sur-les-colonnes-dun-tableau-de-données"><i class="fa fa-check"></i><b>18.3</b> Itérer sur les colonnes d’un tableau de données<span></span></a></li>
<li class="chapter" data-level="18.4" data-path="18-purrr.html"><a href="18-purrr.html#modify"><i class="fa fa-check"></i><b>18.4</b> <code>modify</code><span></span></a></li>
<li class="chapter" data-level="18.5" data-path="18-purrr.html"><a href="18-purrr.html#imap"><i class="fa fa-check"></i><b>18.5</b> <code>imap</code><span></span></a></li>
<li class="chapter" data-level="18.6" data-path="18-purrr.html"><a href="18-purrr.html#walk"><i class="fa fa-check"></i><b>18.6</b> <code>walk</code><span></span></a></li>
<li class="chapter" data-level="18.7" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap-itérer-sur-plusieurs-vecteurs-en-parallèle"><i class="fa fa-check"></i><b>18.7</b> <code>map2</code> et <code>pmap</code> : itérer sur plusieurs vecteurs en parallèle<span></span></a></li>
<li class="chapter" data-level="18.8" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération"><i class="fa fa-check"></i><b>18.8</b> Répéter une opération<span></span></a></li>
<li class="chapter" data-level="18.9" data-path="18-purrr.html"><a href="18-purrr.html#quand-ne-pas-utiliser-map"><i class="fa fa-check"></i><b>18.9</b> Quand (ne pas) utiliser <code>map</code><span></span></a></li>
<li class="chapter" data-level="18.10" data-path="18-purrr.html"><a href="18-purrr.html#purrr-vs-apply"><i class="fa fa-check"></i><b>18.10</b> <code>purrr</code> vs <code>*apply</code><span></span></a></li>
<li class="chapter" data-level="18.11" data-path="18-purrr.html"><a href="18-purrr.html#ressources-9"><i class="fa fa-check"></i><b>18.11</b> Ressources<span></span></a></li>
<li class="chapter" data-level="18.12" data-path="18-purrr.html"><a href="18-purrr.html#exercices-11"><i class="fa fa-check"></i><b>18.12</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="18.12.1" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes-1"><i class="fa fa-check"></i><b>18.12.1</b> <code>map</code> et ses variantes<span></span></a></li>
<li class="chapter" data-level="18.12.2" data-path="18-purrr.html"><a href="18-purrr.html#modify-et-itération-sur-les-colonnes-dun-tableau"><i class="fa fa-check"></i><b>18.12.2</b> <code>modify</code> et itération sur les colonnes d’un tableau<span></span></a></li>
<li class="chapter" data-level="18.12.3" data-path="18-purrr.html"><a href="18-purrr.html#imap-et-walk"><i class="fa fa-check"></i><b>18.12.3</b> <code>imap</code> et <code>walk</code><span></span></a></li>
<li class="chapter" data-level="18.12.4" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap"><i class="fa fa-check"></i><b>18.12.4</b> <code>map2</code> et <code>pmap</code><span></span></a></li>
<li class="chapter" data-level="18.12.5" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération-1"><i class="fa fa-check"></i><b>18.12.5</b> Répéter une opération<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html"><i class="fa fa-check"></i><b>19</b> Programmer avec le <em>tidyverse</em><span></span></a><ul>
<li class="chapter" data-level="19.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#spécificités-du-tidyverse"><i class="fa fa-check"></i><b>19.1</b> Spécificités du <em>tidyverse</em><span></span></a><ul>
<li class="chapter" data-level="19.1.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#data-masking"><i class="fa fa-check"></i><b>19.1.1</b> <em>data masking</em><span></span></a></li>
<li class="chapter" data-level="19.1.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#tidy-selection"><i class="fa fa-check"></i><b>19.1.2</b> <em>tidy selection</em><span></span></a></li>
<li class="chapter" data-level="19.1.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utilisation-dans-des-fonctions"><i class="fa fa-check"></i><b>19.1.3</b> Utilisation dans des fonctions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.2</b> Programmer avec <code>dplyr</code> et <code>tidyr</code><span></span></a><ul>
<li class="chapter" data-level="19.2.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-colonne-passée-en-argument"><i class="fa fa-check"></i><b>19.2.1</b> Utiliser une colonne passée en argument<span></span></a></li>
<li class="chapter" data-level="19.2.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-sélection-de-colonnes-passée-en-argument"><i class="fa fa-check"></i><b>19.2.2</b> Utiliser une sélection de colonnes passée en argument<span></span></a></li>
<li class="chapter" data-level="19.2.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#nommer-de-nouvelles-colonnes-à-partir-dun-argument"><i class="fa fa-check"></i><b>19.2.3</b> Nommer de nouvelles colonnes à partir d’un argument<span></span></a></li>
<li class="chapter" data-level="19.2.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#désambiguïser-data-et-env"><i class="fa fa-check"></i><b>19.2.4</b> Désambiguïser data et env<span></span></a></li>
<li class="chapter" data-level="19.2.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#quand-les-arguments-sont-des-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.2.5</b> Quand les arguments sont des chaînes de caractères<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-ggplot2"><i class="fa fa-check"></i><b>19.3</b> Programmer avec <code>ggplot2</code><span></span></a><ul>
<li class="chapter" data-level="19.3.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#sélection-de-colonnes-avec-aes"><i class="fa fa-check"></i><b>19.3.1</b> Sélection de colonnes avec <code>aes()</code><span></span></a></li>
<li class="chapter" data-level="19.3.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#faceting-1"><i class="fa fa-check"></i><b>19.3.2</b> Faceting<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#aide-mémoire"><i class="fa fa-check"></i><b>19.4</b> Aide-mémoire<span></span></a></li>
<li class="chapter" data-level="19.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ressources-10"><i class="fa fa-check"></i><b>19.5</b> Ressources<span></span></a></li>
<li class="chapter" data-level="19.6" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#exercices-12"><i class="fa fa-check"></i><b>19.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="19.6.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.6.1</b> <code>dplyr</code> et <code>tidyr</code><span></span></a></li>
<li class="chapter" data-level="19.6.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#noms-de-colonnes-en-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.6.2</b> Noms de colonnes en chaînes de caractères<span></span></a></li>
<li class="chapter" data-level="19.6.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ambiguïté-data-env"><i class="fa fa-check"></i><b>19.6.3</b> Ambiguïté <code>data</code> / <code>env</code><span></span></a></li>
<li class="chapter" data-level="19.6.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ggplot2-1"><i class="fa fa-check"></i><b>19.6.4</b> <code>ggplot2</code><span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html"><i class="fa fa-check"></i><b>20</b> Débuggage et performance<span></span></a><ul>
<li class="chapter" data-level="20.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#débugguer-une-fonction"><i class="fa fa-check"></i><b>20.1</b> Débugguer une fonction<span></span></a><ul>
<li class="chapter" data-level="20.1.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#print"><i class="fa fa-check"></i><b>20.1.1</b> print()<span></span></a></li>
<li class="chapter" data-level="20.1.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#localiser-une-erreur"><i class="fa fa-check"></i><b>20.1.2</b> Localiser une erreur<span></span></a></li>
<li class="chapter" data-level="20.1.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#browser"><i class="fa fa-check"></i><b>20.1.3</b> browser()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#benchmarking-mesurer-et-comparer-les-temps-dexécution"><i class="fa fa-check"></i><b>20.2</b> benchmarking : mesurer et comparer les temps d’exécution<span></span></a></li>
<li class="chapter" data-level="20.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#quelques-conseils-doptimisation"><i class="fa fa-check"></i><b>20.3</b> Quelques conseils d’optimisation<span></span></a><ul>
<li class="chapter" data-level="20.3.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#privilégier-les-fonctions-vectorisées"><i class="fa fa-check"></i><b>20.3.1</b> Privilégier les fonctions vectorisées<span></span></a></li>
<li class="chapter" data-level="20.3.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-le-minimum-dopérations-dans-les-boucles"><i class="fa fa-check"></i><b>20.3.2</b> Mettre le minimum d’opérations dans les boucles<span></span></a></li>
<li class="chapter" data-level="20.3.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#choisir-un-format-de-fichier-adapté"><i class="fa fa-check"></i><b>20.3.3</b> Choisir un format de fichier adapté<span></span></a></li>
<li class="chapter" data-level="20.3.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#repérer-les-opérations-coûteuses-avec-du-profiling"><i class="fa fa-check"></i><b>20.3.4</b> Repérer les opérations coûteuses avec du <em>profiling</em><span></span></a></li>
<li class="chapter" data-level="20.3.5" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-en-cache-des-résultats-intermédiaires"><i class="fa fa-check"></i><b>20.3.5</b> Mettre en cache des résultats intermédiaires<span></span></a></li>
<li class="chapter" data-level="20.3.6" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#utiliser-dautres-extensions"><i class="fa fa-check"></i><b>20.3.6</b> Utiliser d’autres extensions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#ressources-11"><i class="fa fa-check"></i><b>20.4</b> Ressources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="21-targets.html"><a href="21-targets.html"><i class="fa fa-check"></i><b>21</b> Organiser un projet avec <code>targets</code><span></span></a><ul>
<li class="chapter" data-level="21.1" data-path="21-targets.html"><a href="21-targets.html#définition-du-pipeline"><i class="fa fa-check"></i><b>21.1</b> Définition du pipeline<span></span></a><ul>
<li class="chapter" data-level="21.1.1" data-path="21-targets.html"><a href="21-targets.html#projet-dexemple"><i class="fa fa-check"></i><b>21.1.1</b> Projet d’exemple<span></span></a></li>
<li class="chapter" data-level="21.1.2" data-path="21-targets.html"><a href="21-targets.html#targets.r"><i class="fa fa-check"></i><b>21.1.2</b> <code>_targets.R</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="21-targets.html"><a href="21-targets.html#exécution-du-pipeline"><i class="fa fa-check"></i><b>21.2</b> Exécution du pipeline<span></span></a></li>
<li class="chapter" data-level="21.3" data-path="21-targets.html"><a href="21-targets.html#modification-du-pipeline"><i class="fa fa-check"></i><b>21.3</b> Modification du pipeline<span></span></a></li>
<li class="chapter" data-level="21.4" data-path="21-targets.html"><a href="21-targets.html#rmarkdown"><i class="fa fa-check"></i><b>21.4</b> RMarkdown<span></span></a></li>
<li class="chapter" data-level="21.5" data-path="21-targets.html"><a href="21-targets.html#gestion-des-données-en-cache"><i class="fa fa-check"></i><b>21.5</b> Gestion des données en cache<span></span></a></li>
<li class="chapter" data-level="21.6" data-path="21-targets.html"><a href="21-targets.html#avantages-et-limites"><i class="fa fa-check"></i><b>21.6</b> Avantages et limites<span></span></a><ul>
<li class="chapter" data-level="21.6.1" data-path="21-targets.html"><a href="21-targets.html#avantages"><i class="fa fa-check"></i><b>21.6.1</b> Avantages<span></span></a></li>
<li class="chapter" data-level="21.6.2" data-path="21-targets.html"><a href="21-targets.html#interactivité-et-développement-du-pipeline"><i class="fa fa-check"></i><b>21.6.2</b> Interactivité et développement du pipeline<span></span></a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="21-targets.html"><a href="21-targets.html#ressources-12"><i class="fa fa-check"></i><b>21.7</b> Ressources<span></span></a></li>
</ul></li>
<li class="appendix"><span><b>Annexes<span></span></b></span></li>
<li class="chapter" data-level="A" data-path="22-ressources.html"><a href="22-ressources.html"><i class="fa fa-check"></i><b>A</b> Ressources<span></span></a><ul>
<li class="chapter" data-level="A.1" data-path="22-ressources.html"><a href="22-ressources.html#aide"><i class="fa fa-check"></i><b>A.1</b> Aide<span></span></a><ul>
<li class="chapter" data-level="A.1.1" data-path="22-ressources.html"><a href="22-ressources.html#aide-de-r-et-rstudio"><i class="fa fa-check"></i><b>A.1.1</b> Aide de R et RStudio<span></span></a></li>
<li class="chapter" data-level="A.1.2" data-path="22-ressources.html"><a href="22-ressources.html#aide-en-ligne"><i class="fa fa-check"></i><b>A.1.2</b> Aide en ligne<span></span></a></li>
<li class="chapter" data-level="A.1.3" data-path="22-ressources.html"><a href="22-ressources.html#antisèches"><i class="fa fa-check"></i><b>A.1.3</b> Antisèches<span></span></a></li>
<li class="chapter" data-level="A.1.4" data-path="22-ressources.html"><a href="22-ressources.html#où-poser-des-questions"><i class="fa fa-check"></i><b>A.1.4</b> Où poser des questions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="22-ressources.html"><a href="22-ressources.html#ouvrages-blogs-moocs"><i class="fa fa-check"></i><b>A.2</b> Ouvrages, blogs, MOOCs…<span></span></a><ul>
<li class="chapter" data-level="A.2.1" data-path="22-ressources.html"><a href="22-ressources.html#francophones"><i class="fa fa-check"></i><b>A.2.1</b> Francophones<span></span></a></li>
<li class="chapter" data-level="A.2.2" data-path="22-ressources.html"><a href="22-ressources.html#anglophones"><i class="fa fa-check"></i><b>A.2.2</b> Anglophones<span></span></a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="22-ressources.html"><a href="22-ressources.html#extensions-1"><i class="fa fa-check"></i><b>A.3</b> Extensions<span></span></a><ul>
<li class="chapter" data-level="A.3.1" data-path="22-ressources.html"><a href="22-ressources.html#où-trouver-des-extensions-intéressantes"><i class="fa fa-check"></i><b>A.3.1</b> Où trouver des extensions intéressantes ?<span></span></a></li>
<li class="chapter" data-level="A.3.2" data-path="22-ressources.html"><a href="22-ressources.html#lextension-questionr"><i class="fa fa-check"></i><b>A.3.2</b> L’extension <code>questionr</code><span></span></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction à R et au tidyverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidyr" class="section level1 hasAnchor">
<h1><span class="header-section-number">Partie 12</span> Mettre en ordre avec <code>tidyr</code><a href="12-tidyr.html#tidyr" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="tidy-data" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.1</span> Tidy data<a href="12-tidyr.html#tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Comme indiqué dans la section <a href="06-tidyverse.html#tidydata">6.3</a>, les extensions du <em>tidyverse</em> comme <code>dplyr</code> ou <code>ggplot2</code> partent du principe que les données sont “bien rangées” sous forme de <em>tidy data</em>.</p>
<p>Prenons un exemple avec les données suivantes, qui indique la population de trois pays pour quatre années différentes :</p>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">1992</th>
<th align="right">1997</th>
<th align="right">2002</th>
<th align="right">2007</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Belgium</td>
<td align="right">10045622</td>
<td align="right">10199787</td>
<td align="right">10311970</td>
<td align="right">10392226</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="right">57374179</td>
<td align="right">58623428</td>
<td align="right">59925035</td>
<td align="right">61083916</td>
</tr>
<tr class="odd">
<td align="left">Germany</td>
<td align="right">80597764</td>
<td align="right">82011073</td>
<td align="right">82350671</td>
<td align="right">82400996</td>
</tr>
</tbody>
</table>
<p>Imaginons qu’on souhaite représenter avec <code>ggplot2</code> l’évolution de la population pour chaque pays sous forme de lignes : c’est impossible avec les données sous ce format. On a besoin d’arranger le tableau de la manière suivante :</p>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">annee</th>
<th align="right">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Belgium</td>
<td align="right">1992</td>
<td align="right">10045622</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="right">1997</td>
<td align="right">10199787</td>
</tr>
<tr class="odd">
<td align="left">Belgium</td>
<td align="right">2002</td>
<td align="right">10311970</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="right">2007</td>
<td align="right">10392226</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="right">1992</td>
<td align="right">57374179</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="right">1997</td>
<td align="right">58623428</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="right">2002</td>
<td align="right">59925035</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="right">2007</td>
<td align="right">61083916</td>
</tr>
<tr class="odd">
<td align="left">Germany</td>
<td align="right">1992</td>
<td align="right">80597764</td>
</tr>
<tr class="even">
<td align="left">Germany</td>
<td align="right">1997</td>
<td align="right">82011073</td>
</tr>
<tr class="odd">
<td align="left">Germany</td>
<td align="right">2002</td>
<td align="right">82350671</td>
</tr>
<tr class="even">
<td align="left">Germany</td>
<td align="right">2007</td>
<td align="right">82400996</td>
</tr>
</tbody>
</table>
<p>C’est seulement avec les données dans ce format qu’on peut réaliser le graphique :</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="12-tidyr.html#cb546-1"></a><span class="kw">ggplot</span>(d) <span class="op">+</span></span>
<span id="cb546-2"><a href="12-tidyr.html#cb546-2"></a><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> annee, <span class="dt">y =</span> population, <span class="dt">color =</span> country)) <span class="op">+</span></span>
<span id="cb546-3"><a href="12-tidyr.html#cb546-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">breaks =</span> <span class="kw">unique</span>(d<span class="op">$</span>annee))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-549-1.png" width="672" /></p>
<p>C’est la même chose pour <code>dplyr</code>, par exemple si on voulait calculer la population minimale pour chaque pays avec <code>summarise</code> :</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="12-tidyr.html#cb547-1"></a>d <span class="op">%&gt;%</span></span>
<span id="cb547-2"><a href="12-tidyr.html#cb547-2"></a><span class="st">  </span><span class="kw">group_by</span>(country) <span class="op">%&gt;%</span></span>
<span id="cb547-3"><a href="12-tidyr.html#cb547-3"></a><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">pop_min =</span> <span class="kw">min</span>(population))</span>
<span id="cb547-4"><a href="12-tidyr.html#cb547-4"></a><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span id="cb547-5"><a href="12-tidyr.html#cb547-5"></a><span class="co">#&gt;   country  pop_min</span></span>
<span id="cb547-6"><a href="12-tidyr.html#cb547-6"></a><span class="co">#&gt;   &lt;fct&gt;      &lt;int&gt;</span></span>
<span id="cb547-7"><a href="12-tidyr.html#cb547-7"></a><span class="co">#&gt; 1 Belgium 10045622</span></span>
<span id="cb547-8"><a href="12-tidyr.html#cb547-8"></a><span class="co">#&gt; 2 France  57374179</span></span>
<span id="cb547-9"><a href="12-tidyr.html#cb547-9"></a><span class="co">#&gt; 3 Germany 80597764</span></span></code></pre></div>
</div>
<div id="trois-règles-pour-des-données-bien-rangées" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.2</span> Trois règles pour des données bien rangées<a href="12-tidyr.html#trois-règles-pour-des-données-bien-rangées" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Le concept de <em>tidy data</em> repose sur trois règles interdépendantes. Des données sont considérées comme <em>tidy</em> si :</p>
<ol style="list-style-type: decimal">
<li>chaque ligne correspond à une observation</li>
<li>chaque colonne correspond à une variable</li>
<li>chaque valeur est présente dans une unique case de la table ou, de manière équivalente, des unités d’observations différentes sont présentes dans des tables différentes</li>
</ol>
<p>Ces règles ne sont pas forcément très intuitives. De plus, il y a une infinité de manières pour un tableau de données de ne pas être <em>tidy</em>.</p>
<p>Prenons par exemple les règles 1 et 2 et le tableau de notre premier exemple :</p>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">1992</th>
<th align="right">1997</th>
<th align="right">2002</th>
<th align="right">2007</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Belgium</td>
<td align="right">10045622</td>
<td align="right">10199787</td>
<td align="right">10311970</td>
<td align="right">10392226</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="right">57374179</td>
<td align="right">58623428</td>
<td align="right">59925035</td>
<td align="right">61083916</td>
</tr>
<tr class="odd">
<td align="left">Germany</td>
<td align="right">80597764</td>
<td align="right">82011073</td>
<td align="right">82350671</td>
<td align="right">82400996</td>
</tr>
</tbody>
</table>
<p>Pourquoi ce tableau n’est pas <em>tidy</em> ? Parce que si on essaie d’identifier les variables mesurées dans le tableau, il y en a trois : le pays, l’année et la population. Or elles ne correspondent pas aux colonnes de la table. C’est le cas par contre pour la table transformée :</p>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="left">annee</th>
<th align="right">population</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Belgium</td>
<td align="left">1992</td>
<td align="right">10045622</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="left">1997</td>
<td align="right">10199787</td>
</tr>
<tr class="odd">
<td align="left">Belgium</td>
<td align="left">2002</td>
<td align="right">10311970</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="left">2007</td>
<td align="right">10392226</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="left">1992</td>
<td align="right">57374179</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="left">1997</td>
<td align="right">58623428</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="left">2002</td>
<td align="right">59925035</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="left">2007</td>
<td align="right">61083916</td>
</tr>
<tr class="odd">
<td align="left">Germany</td>
<td align="left">1992</td>
<td align="right">80597764</td>
</tr>
<tr class="even">
<td align="left">Germany</td>
<td align="left">1997</td>
<td align="right">82011073</td>
</tr>
<tr class="odd">
<td align="left">Germany</td>
<td align="left">2002</td>
<td align="right">82350671</td>
</tr>
<tr class="even">
<td align="left">Germany</td>
<td align="left">2007</td>
<td align="right">82400996</td>
</tr>
</tbody>
</table>
<p>On peut remarquer qu’en modifiant notre table pour satisfaire à la deuxième règle, on a aussi réglé la première : chaque ligne correspond désormais à une observation, en l’occurrence l’observation de trois pays à plusieurs moments dans le temps. Dans notre table d’origine, chaque ligne comportait en réalité quatre observations différentes.</p>
<p>Ce point permet d’illustrer le fait que les règles sont interdépendantes.</p>
<p>Autre exemple, généré depuis le jeu de données <code>nycflights13</code>, permettant cette fois d’illustrer la troisième règle :</p>
<table>
<thead>
<tr class="header">
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">dep_time</th>
<th align="left">carrier</th>
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">517</td>
<td align="left">UA</td>
<td align="left">United Air Lines Inc.</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">533</td>
<td align="left">UA</td>
<td align="left">United Air Lines Inc.</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">542</td>
<td align="left">AA</td>
<td align="left">American Airlines Inc.</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">554</td>
<td align="left">UA</td>
<td align="left">United Air Lines Inc.</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">558</td>
<td align="left">AA</td>
<td align="left">American Airlines Inc.</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">558</td>
<td align="left">UA</td>
<td align="left">United Air Lines Inc.</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">558</td>
<td align="left">UA</td>
<td align="left">United Air Lines Inc.</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">559</td>
<td align="left">AA</td>
<td align="left">American Airlines Inc.</td>
</tr>
</tbody>
</table>
<p>Dans ce tableau on a bien une observation par ligne (un vol), et une variable par colonne. Mais on a une “infraction” à la troisième règle, qui est que chaque valeur doit être présente dans une unique case : si on regarde la colonne <code>name</code>, on a en effet une duplication de l’information concernant le nom des compagnies aériennes. Notre tableau mêle en fait deux types d’observations différents : des observations sur les vols, et des observations sur les compagnies aériennes.</p>
<p>Pour “arranger” ce tableau, il faut séparer les deux types d’observations en deux tables différentes :</p>
<table>
<thead>
<tr class="header">
<th align="right">year</th>
<th align="right">month</th>
<th align="right">day</th>
<th align="right">dep_time</th>
<th align="left">carrier</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">517</td>
<td align="left">UA</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">533</td>
<td align="left">UA</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">542</td>
<td align="left">AA</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">554</td>
<td align="left">UA</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">558</td>
<td align="left">AA</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">558</td>
<td align="left">UA</td>
</tr>
<tr class="odd">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">558</td>
<td align="left">UA</td>
</tr>
<tr class="even">
<td align="right">2013</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">559</td>
<td align="left">AA</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr class="header">
<th align="left">carrier</th>
<th align="left">name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">UA</td>
<td align="left">United Air Lines Inc.</td>
</tr>
<tr class="even">
<td align="left">AA</td>
<td align="left">American Airlines Inc.</td>
</tr>
</tbody>
</table>
<p>On a désormais deux tables distinctes, l’information n’est pas dupliquée, et on peut facilement faire une jointure si on a besoin de récupérer l’information d’une table dans une autre.</p>
</div>
<div id="les-verbes-de-tidyr" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.3</span> Les verbes de <code>tidyr</code><a href="12-tidyr.html#les-verbes-de-tidyr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>L’objectif de <code>tidyr</code> est de fournir des fonctions pour arranger ses données et les convertir dans un format <em>tidy</em>. Ces fonctions prennent la forme de verbes qui viennent compléter ceux de <code>dplyr</code> et s’intègrent parfaitement dans les séries de <em>pipes</em> (<code>%&gt;%</code>), les <em>pipelines</em>, permettant d’enchaîner les opérations.</p>
<div id="pivot_longer-transformer-des-colonnes-en-lignes" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.3.1</span> <code>pivot_longer</code> : transformer des colonnes en lignes<a href="12-tidyr.html#pivot_longer-transformer-des-colonnes-en-lignes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Prenons le tableau <code>d</code> suivant, qui liste la population de 6 pays en 2002 et 2007 :</p>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">2002</th>
<th align="right">2007</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Belgium</td>
<td align="right">10311970</td>
<td align="right">10392226</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="right">59925035</td>
<td align="right">61083916</td>
</tr>
<tr class="odd">
<td align="left">Germany</td>
<td align="right">82350671</td>
<td align="right">82400996</td>
</tr>
<tr class="even">
<td align="left">Italy</td>
<td align="right">57926999</td>
<td align="right">58147733</td>
</tr>
<tr class="odd">
<td align="left">Spain</td>
<td align="right">40152517</td>
<td align="right">40448191</td>
</tr>
<tr class="even">
<td align="left">Switzerland</td>
<td align="right">7361757</td>
<td align="right">7554661</td>
</tr>
</tbody>
</table>
<p>Dans ce tableau, une même variable (la population) est répartie sur plusieurs colonnes, chacune représentant une observation à un moment différent. On souhaite que la variable ne représente plus qu’une seule colonne, et que les observations soient réparties sur plusieurs lignes.</p>
<p>Pour cela on va utiliser la fonction <code>pivot_longer</code><a href="#fn19" class="footnote-ref" id="fnref19"><sup>19</sup></a> :</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="12-tidyr.html#cb548-1"></a>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="kw">c</span>(<span class="st">`</span><span class="dt">2002</span><span class="st">`</span>, <span class="st">`</span><span class="dt">2007</span><span class="st">`</span>))</span>
<span id="cb548-2"><a href="12-tidyr.html#cb548-2"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb548-3"><a href="12-tidyr.html#cb548-3"></a><span class="co">#&gt;    country     name     value</span></span>
<span id="cb548-4"><a href="12-tidyr.html#cb548-4"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;chr&gt;    &lt;int&gt;</span></span>
<span id="cb548-5"><a href="12-tidyr.html#cb548-5"></a><span class="co">#&gt;  1 Belgium     2002  10311970</span></span>
<span id="cb548-6"><a href="12-tidyr.html#cb548-6"></a><span class="co">#&gt;  2 Belgium     2007  10392226</span></span>
<span id="cb548-7"><a href="12-tidyr.html#cb548-7"></a><span class="co">#&gt;  3 France      2002  59925035</span></span>
<span id="cb548-8"><a href="12-tidyr.html#cb548-8"></a><span class="co">#&gt;  4 France      2007  61083916</span></span>
<span id="cb548-9"><a href="12-tidyr.html#cb548-9"></a><span class="co">#&gt;  5 Germany     2002  82350671</span></span>
<span id="cb548-10"><a href="12-tidyr.html#cb548-10"></a><span class="co">#&gt;  6 Germany     2007  82400996</span></span>
<span id="cb548-11"><a href="12-tidyr.html#cb548-11"></a><span class="co">#&gt;  7 Italy       2002  57926999</span></span>
<span id="cb548-12"><a href="12-tidyr.html#cb548-12"></a><span class="co">#&gt;  8 Italy       2007  58147733</span></span>
<span id="cb548-13"><a href="12-tidyr.html#cb548-13"></a><span class="co">#&gt;  9 Spain       2002  40152517</span></span>
<span id="cb548-14"><a href="12-tidyr.html#cb548-14"></a><span class="co">#&gt; 10 Spain       2007  40448191</span></span>
<span id="cb548-15"><a href="12-tidyr.html#cb548-15"></a><span class="co">#&gt; 11 Switzerland 2002   7361757</span></span>
<span id="cb548-16"><a href="12-tidyr.html#cb548-16"></a><span class="co">#&gt; 12 Switzerland 2007   7554661</span></span></code></pre></div>
<p>La fonction <code>pivot_longer</code> prend comme premier argument la liste des colonnes à rassembler (ici on a mis <code>2002</code> et <code>2007</code> entre <em>backticks</em> (<code>`2002`</code>) pour indiquer à <code>pivot_longer</code> qu’il s’agit d’un nom de colonne et pas d’un nombre). Ces colonnes peuvent être spécifiées avec la même syntaxe que celle de la fonction <code>select</code> de <code>dplyr</code>.</p>
<p>Par exemple, il est parfois plus rapide d’indiquer à <code>pivot_longer</code> les colonnes qu’on ne souhaite pas “rassembler”. On peut le faire avec la syntaxe suivante :</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb549-1"><a href="12-tidyr.html#cb549-1"></a>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(<span class="op">-</span>country)</span>
<span id="cb549-2"><a href="12-tidyr.html#cb549-2"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb549-3"><a href="12-tidyr.html#cb549-3"></a><span class="co">#&gt;    country     name     value</span></span>
<span id="cb549-4"><a href="12-tidyr.html#cb549-4"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;chr&gt;    &lt;int&gt;</span></span>
<span id="cb549-5"><a href="12-tidyr.html#cb549-5"></a><span class="co">#&gt;  1 Belgium     2002  10311970</span></span>
<span id="cb549-6"><a href="12-tidyr.html#cb549-6"></a><span class="co">#&gt;  2 Belgium     2007  10392226</span></span>
<span id="cb549-7"><a href="12-tidyr.html#cb549-7"></a><span class="co">#&gt;  3 France      2002  59925035</span></span>
<span id="cb549-8"><a href="12-tidyr.html#cb549-8"></a><span class="co">#&gt;  4 France      2007  61083916</span></span>
<span id="cb549-9"><a href="12-tidyr.html#cb549-9"></a><span class="co">#&gt;  5 Germany     2002  82350671</span></span>
<span id="cb549-10"><a href="12-tidyr.html#cb549-10"></a><span class="co">#&gt;  6 Germany     2007  82400996</span></span>
<span id="cb549-11"><a href="12-tidyr.html#cb549-11"></a><span class="co">#&gt;  7 Italy       2002  57926999</span></span>
<span id="cb549-12"><a href="12-tidyr.html#cb549-12"></a><span class="co">#&gt;  8 Italy       2007  58147733</span></span>
<span id="cb549-13"><a href="12-tidyr.html#cb549-13"></a><span class="co">#&gt;  9 Spain       2002  40152517</span></span>
<span id="cb549-14"><a href="12-tidyr.html#cb549-14"></a><span class="co">#&gt; 10 Spain       2007  40448191</span></span>
<span id="cb549-15"><a href="12-tidyr.html#cb549-15"></a><span class="co">#&gt; 11 Switzerland 2002   7361757</span></span>
<span id="cb549-16"><a href="12-tidyr.html#cb549-16"></a><span class="co">#&gt; 12 Switzerland 2007   7554661</span></span></code></pre></div>
<p>Par défaut, les colonnes qui contiennent les noms des colonnes d’origine et leurs valeurs sont nommées <code>name</code> et <code>value</code>. Si cela ne convient pas, on peut indiquer les noms à utiliser via les arguments <code>names_to</code> et <code>values_to</code> :</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="12-tidyr.html#cb550-1"></a>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_longer</span>(</span>
<span id="cb550-2"><a href="12-tidyr.html#cb550-2"></a>    <span class="kw">c</span>(<span class="st">`</span><span class="dt">2002</span><span class="st">`</span>, <span class="st">`</span><span class="dt">2007</span><span class="st">`</span>), </span>
<span id="cb550-3"><a href="12-tidyr.html#cb550-3"></a>    <span class="dt">names_to =</span> <span class="st">&quot;annee&quot;</span>, </span>
<span id="cb550-4"><a href="12-tidyr.html#cb550-4"></a>    <span class="dt">values_to =</span> <span class="st">&quot;population&quot;</span></span>
<span id="cb550-5"><a href="12-tidyr.html#cb550-5"></a>)</span>
<span id="cb550-6"><a href="12-tidyr.html#cb550-6"></a><span class="co">#&gt; # A tibble: 12 × 3</span></span>
<span id="cb550-7"><a href="12-tidyr.html#cb550-7"></a><span class="co">#&gt;    country     annee population</span></span>
<span id="cb550-8"><a href="12-tidyr.html#cb550-8"></a><span class="co">#&gt;    &lt;fct&gt;       &lt;chr&gt;      &lt;int&gt;</span></span>
<span id="cb550-9"><a href="12-tidyr.html#cb550-9"></a><span class="co">#&gt;  1 Belgium     2002    10311970</span></span>
<span id="cb550-10"><a href="12-tidyr.html#cb550-10"></a><span class="co">#&gt;  2 Belgium     2007    10392226</span></span>
<span id="cb550-11"><a href="12-tidyr.html#cb550-11"></a><span class="co">#&gt;  3 France      2002    59925035</span></span>
<span id="cb550-12"><a href="12-tidyr.html#cb550-12"></a><span class="co">#&gt;  4 France      2007    61083916</span></span>
<span id="cb550-13"><a href="12-tidyr.html#cb550-13"></a><span class="co">#&gt;  5 Germany     2002    82350671</span></span>
<span id="cb550-14"><a href="12-tidyr.html#cb550-14"></a><span class="co">#&gt;  6 Germany     2007    82400996</span></span>
<span id="cb550-15"><a href="12-tidyr.html#cb550-15"></a><span class="co">#&gt;  7 Italy       2002    57926999</span></span>
<span id="cb550-16"><a href="12-tidyr.html#cb550-16"></a><span class="co">#&gt;  8 Italy       2007    58147733</span></span>
<span id="cb550-17"><a href="12-tidyr.html#cb550-17"></a><span class="co">#&gt;  9 Spain       2002    40152517</span></span>
<span id="cb550-18"><a href="12-tidyr.html#cb550-18"></a><span class="co">#&gt; 10 Spain       2007    40448191</span></span>
<span id="cb550-19"><a href="12-tidyr.html#cb550-19"></a><span class="co">#&gt; 11 Switzerland 2002     7361757</span></span>
<span id="cb550-20"><a href="12-tidyr.html#cb550-20"></a><span class="co">#&gt; 12 Switzerland 2007     7554661</span></span></code></pre></div>
<p>Au final, la nom de <code>pivot_longer</code> s’explique par le fait qu’on fait “pivoter” notre tableau de départ d’un format “large” (avec plus de colonnes) vers un format “long” (avec plus de lignes).</p>
</div>
<div id="pivot_wider-transformer-des-lignes-en-colonnes" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.3.2</span> <code>pivot_wider</code> : transformer des lignes en colonnes<a href="12-tidyr.html#pivot_wider-transformer-des-lignes-en-colonnes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La fonction <code>pivot_wider</code> est l’inverse de <code>pivot_longer</code>.</p>
<p>Soit le tableau <code>d</code> suivant :</p>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="left">continent</th>
<th align="right">year</th>
<th align="left">variable</th>
<th align="right">value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">lifeExp</td>
<td align="right">78.320</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">pop</td>
<td align="right">10311970.000</td>
</tr>
<tr class="odd">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">lifeExp</td>
<td align="right">79.441</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">pop</td>
<td align="right">10392226.000</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">lifeExp</td>
<td align="right">79.590</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">pop</td>
<td align="right">59925035.000</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">lifeExp</td>
<td align="right">80.657</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">pop</td>
<td align="right">61083916.000</td>
</tr>
</tbody>
</table>
<p>Ce tableau a le problème inverse du précédent : on a deux variables, <code>lifeExp</code> et <code>pop</code> qui, plutôt que d’être réparties en deux colonnes, sont réparties entre plusieurs lignes.</p>
<p>On va donc utiliser <code>pivot_wider</code> pour répartir ces lignes dans deux colonnes différentes :</p>
<div class="sourceCode" id="cb551"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb551-1"><a href="12-tidyr.html#cb551-1"></a>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> variable, <span class="dt">values_from =</span> value)</span>
<span id="cb551-2"><a href="12-tidyr.html#cb551-2"></a><span class="co">#&gt; # A tibble: 4 × 5</span></span>
<span id="cb551-3"><a href="12-tidyr.html#cb551-3"></a><span class="co">#&gt;   country continent  year lifeExp      pop</span></span>
<span id="cb551-4"><a href="12-tidyr.html#cb551-4"></a><span class="co">#&gt;   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb551-5"><a href="12-tidyr.html#cb551-5"></a><span class="co">#&gt; 1 Belgium Europe     2002    78.3 10311970</span></span>
<span id="cb551-6"><a href="12-tidyr.html#cb551-6"></a><span class="co">#&gt; 2 Belgium Europe     2007    79.4 10392226</span></span>
<span id="cb551-7"><a href="12-tidyr.html#cb551-7"></a><span class="co">#&gt; 3 France  Europe     2002    79.6 59925035</span></span>
<span id="cb551-8"><a href="12-tidyr.html#cb551-8"></a><span class="co">#&gt; 4 France  Europe     2007    80.7 61083916</span></span></code></pre></div>
<p><code>pivot_wider</code> prend deux arguments principaux :</p>
<ul>
<li><code>names_from</code> indique la colonne contenant les noms des nouvelles variables à créer</li>
<li><code>values_from</code> indique la colonne contenant les valeurs de ces variables</li>
</ul>
<p>Il peut arriver que certaines variables soient absentes pour certaines observations. Dans ce cas l’argument <code>values_fill</code> permet de spécifier la valeur à utiliser pour ces données manquantes (par défaut les valeurs absentes sont, logiquement, indiquées par des <code>NA</code>).</p>
<p>Exemple avec le tableau <code>d</code> suivant :</p>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="left">continent</th>
<th align="right">year</th>
<th align="left">variable</th>
<th align="right">value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">lifeExp</td>
<td align="right">78.320</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">pop</td>
<td align="right">10311970.000</td>
</tr>
<tr class="odd">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">lifeExp</td>
<td align="right">79.441</td>
</tr>
<tr class="even">
<td align="left">Belgium</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">pop</td>
<td align="right">10392226.000</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">lifeExp</td>
<td align="right">79.590</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">pop</td>
<td align="right">59925035.000</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">lifeExp</td>
<td align="right">80.657</td>
</tr>
<tr class="even">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2007</td>
<td align="left">pop</td>
<td align="right">61083916.000</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="left">Europe</td>
<td align="right">2002</td>
<td align="left">density</td>
<td align="right">94.000</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="12-tidyr.html#cb552-1"></a>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb552-2"><a href="12-tidyr.html#cb552-2"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> variable, <span class="dt">values_from =</span> value)</span>
<span id="cb552-3"><a href="12-tidyr.html#cb552-3"></a><span class="co">#&gt; # A tibble: 4 × 6</span></span>
<span id="cb552-4"><a href="12-tidyr.html#cb552-4"></a><span class="co">#&gt;   country continent  year lifeExp      pop density</span></span>
<span id="cb552-5"><a href="12-tidyr.html#cb552-5"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb552-6"><a href="12-tidyr.html#cb552-6"></a><span class="co">#&gt; 1 Belgium Europe     2002    78.3 10311970      NA</span></span>
<span id="cb552-7"><a href="12-tidyr.html#cb552-7"></a><span class="co">#&gt; 2 Belgium Europe     2007    79.4 10392226      NA</span></span>
<span id="cb552-8"><a href="12-tidyr.html#cb552-8"></a><span class="co">#&gt; 3 France  Europe     2002    79.6 59925035      94</span></span>
<span id="cb552-9"><a href="12-tidyr.html#cb552-9"></a><span class="co">#&gt; 4 France  Europe     2007    80.7 61083916      NA</span></span></code></pre></div>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb553-1"><a href="12-tidyr.html#cb553-1"></a>d <span class="op">%&gt;%</span></span>
<span id="cb553-2"><a href="12-tidyr.html#cb553-2"></a><span class="st">  </span><span class="kw">pivot_wider</span>(</span>
<span id="cb553-3"><a href="12-tidyr.html#cb553-3"></a>    <span class="dt">names_from =</span> variable, <span class="dt">values_from =</span> value,</span>
<span id="cb553-4"><a href="12-tidyr.html#cb553-4"></a>    <span class="dt">values_fill =</span> <span class="kw">list</span>(<span class="dt">value =</span> <span class="dv">0</span>)</span>
<span id="cb553-5"><a href="12-tidyr.html#cb553-5"></a>  )</span>
<span id="cb553-6"><a href="12-tidyr.html#cb553-6"></a><span class="co">#&gt; # A tibble: 4 × 6</span></span>
<span id="cb553-7"><a href="12-tidyr.html#cb553-7"></a><span class="co">#&gt;   country continent  year lifeExp      pop density</span></span>
<span id="cb553-8"><a href="12-tidyr.html#cb553-8"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span id="cb553-9"><a href="12-tidyr.html#cb553-9"></a><span class="co">#&gt; 1 Belgium Europe     2002    78.3 10311970       0</span></span>
<span id="cb553-10"><a href="12-tidyr.html#cb553-10"></a><span class="co">#&gt; 2 Belgium Europe     2007    79.4 10392226       0</span></span>
<span id="cb553-11"><a href="12-tidyr.html#cb553-11"></a><span class="co">#&gt; 3 France  Europe     2002    79.6 59925035      94</span></span>
<span id="cb553-12"><a href="12-tidyr.html#cb553-12"></a><span class="co">#&gt; 4 France  Europe     2007    80.7 61083916       0</span></span></code></pre></div>
<p>Au final, la nom de <code>pivot_wider</code> s’explique par le fait qu’on fait “pivoter” notre tableau de départ d’un format “long” (avec plus de lignes) vers un format “large” (avec plus de colonnes).</p>
</div>
<div id="separate" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.3.3</span> <code>separate</code> : séparer une colonne en plusieurs colonnes<a href="12-tidyr.html#separate" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Parfois on a plusieurs informations réunies en une seule colonne et on souhaite les séparer. Soit le tableau d’exemple caricatural suivant, nommé <code>df</code> :</p>
<table>
<thead>
<tr class="header">
<th align="left">eleve</th>
<th align="left">note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Félicien Machin</td>
<td align="left">5/20</td>
</tr>
<tr class="even">
<td align="left">Raymonde Bidule</td>
<td align="left">6/10</td>
</tr>
<tr class="odd">
<td align="left">Martial Truc</td>
<td align="left">87/100</td>
</tr>
</tbody>
</table>
<p><code>separate</code> permet de séparer la colonne <code>note</code> en deux nouvelles colonnes <code>note</code> et <code>note_sur</code> :</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="12-tidyr.html#cb554-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">separate</span>(note, <span class="kw">c</span>(<span class="st">&quot;note&quot;</span>, <span class="st">&quot;note_sur&quot;</span>))</span>
<span id="cb554-2"><a href="12-tidyr.html#cb554-2"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb554-3"><a href="12-tidyr.html#cb554-3"></a><span class="co">#&gt;   eleve           note  note_sur</span></span>
<span id="cb554-4"><a href="12-tidyr.html#cb554-4"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt; &lt;chr&gt;   </span></span>
<span id="cb554-5"><a href="12-tidyr.html#cb554-5"></a><span class="co">#&gt; 1 Félicien Machin 5     20      </span></span>
<span id="cb554-6"><a href="12-tidyr.html#cb554-6"></a><span class="co">#&gt; 2 Raymonde Bidule 6     10      </span></span>
<span id="cb554-7"><a href="12-tidyr.html#cb554-7"></a><span class="co">#&gt; 3 Martial Truc    87    100</span></span></code></pre></div>
<p><code>separate</code> prend deux arguments principaux, le nom de la colonne à séparer et un vecteur indiquant les noms des nouvelles variables à créer. Par défaut <code>separate</code> “sépare” au niveau des caractères non-alphanumérique (espace, symbole, etc.). On peut lui indiquer explicitement le caractère sur lequel séparer avec l’argument <code>sep</code> :</p>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="12-tidyr.html#cb555-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">separate</span>(eleve, <span class="kw">c</span>(<span class="st">&quot;prenom&quot;</span>, <span class="st">&quot;nom&quot;</span>), <span class="dt">sep =</span> <span class="st">&quot; &quot;</span>)</span>
<span id="cb555-2"><a href="12-tidyr.html#cb555-2"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb555-3"><a href="12-tidyr.html#cb555-3"></a><span class="co">#&gt;   prenom   nom    note  </span></span>
<span id="cb555-4"><a href="12-tidyr.html#cb555-4"></a><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb555-5"><a href="12-tidyr.html#cb555-5"></a><span class="co">#&gt; 1 Félicien Machin 5/20  </span></span>
<span id="cb555-6"><a href="12-tidyr.html#cb555-6"></a><span class="co">#&gt; 2 Raymonde Bidule 6/10  </span></span>
<span id="cb555-7"><a href="12-tidyr.html#cb555-7"></a><span class="co">#&gt; 3 Martial  Truc   87/100</span></span></code></pre></div>
</div>
<div id="separate-rows" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.3.4</span> <code>separate_rows</code> : séparer une colonne en plusieurs lignes<a href="12-tidyr.html#separate-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>separate_rows</code> est également utile quand plusieurs informations différentes ont été réunies dans une seules colonne. Contrairement à <code>separate</code>, elle ne répartit les différentes valeurs dans plusieurs colonnes, mais dans plusieurs lignes.</p>
<p>Prenons l’exemple suivant, ou la colonne <code>notes</code> contient plusieurs notes séparées par des virgules :</p>
<table>
<thead>
<tr class="header">
<th align="left">eleve</th>
<th align="left">classe</th>
<th align="left">notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Félicien Machin</td>
<td align="left">6e</td>
<td align="left">5,16,11</td>
</tr>
<tr class="even">
<td align="left">Raymonde Bidule</td>
<td align="left">5e</td>
<td align="left">15</td>
</tr>
<tr class="odd">
<td align="left">Martial Truc</td>
<td align="left">6e</td>
<td align="left">11,17</td>
</tr>
</tbody>
</table>
<p>Si on applique <code>separate_rows</code> à la colonne <code>notes</code>, chaque note se retrouve dans une ligne différente (et les autres colonnes sont dupliquées) :</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="12-tidyr.html#cb556-1"></a><span class="kw">separate_rows</span>(df, notes)</span>
<span id="cb556-2"><a href="12-tidyr.html#cb556-2"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb556-3"><a href="12-tidyr.html#cb556-3"></a><span class="co">#&gt;   eleve           classe notes</span></span>
<span id="cb556-4"><a href="12-tidyr.html#cb556-4"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;  &lt;chr&gt;</span></span>
<span id="cb556-5"><a href="12-tidyr.html#cb556-5"></a><span class="co">#&gt; 1 Félicien Machin 6e     5    </span></span>
<span id="cb556-6"><a href="12-tidyr.html#cb556-6"></a><span class="co">#&gt; 2 Félicien Machin 6e     16   </span></span>
<span id="cb556-7"><a href="12-tidyr.html#cb556-7"></a><span class="co">#&gt; 3 Félicien Machin 6e     11   </span></span>
<span id="cb556-8"><a href="12-tidyr.html#cb556-8"></a><span class="co">#&gt; 4 Raymonde Bidule 5e     15   </span></span>
<span id="cb556-9"><a href="12-tidyr.html#cb556-9"></a><span class="co">#&gt; 5 Martial Truc    6e     11   </span></span>
<span id="cb556-10"><a href="12-tidyr.html#cb556-10"></a><span class="co">#&gt; 6 Martial Truc    6e     17</span></span></code></pre></div>
<p>Par défaut <code>separate_rows</code> sépare les valeurs dès qu’elle trouve un caractère qui ne soit ni un chiffre ni une lettre, mais on peut spécifier le séparateur à l’aide de l’argument <code>sep</code> (qui accepte une chaîne de caractère ou même une expression régulière) :</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="12-tidyr.html#cb557-1"></a><span class="kw">separate_rows</span>(df, notes, <span class="dt">sep =</span> <span class="st">&quot;,&quot;</span>)</span></code></pre></div>
</div>
<div id="unite-regrouper-plusieurs-colonnes-en-une-seule" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.3.5</span> <code>unite</code> : regrouper plusieurs colonnes en une seule<a href="12-tidyr.html#unite-regrouper-plusieurs-colonnes-en-une-seule" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>unite</code> est l’opération inverse de <code>separate</code>. Elle permet de regrouper plusieurs colonnes en une seule. Imaginons qu’on obtient le tableau <code>d</code> suivant :</p>
<table>
<thead>
<tr class="header">
<th align="left">code_departement</th>
<th align="left">code_commune</th>
<th align="left">commune</th>
<th align="right">pop_tot</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">01</td>
<td align="left">004</td>
<td align="left">Ambérieu-en-Bugey</td>
<td align="right">14204</td>
</tr>
<tr class="even">
<td align="left">01</td>
<td align="left">007</td>
<td align="left">Ambronay</td>
<td align="right">2763</td>
</tr>
<tr class="odd">
<td align="left">01</td>
<td align="left">014</td>
<td align="left">Arbent</td>
<td align="right">3356</td>
</tr>
<tr class="even">
<td align="left">01</td>
<td align="left">024</td>
<td align="left">Attignat</td>
<td align="right">3196</td>
</tr>
<tr class="odd">
<td align="left">01</td>
<td align="left">025</td>
<td align="left">Bâgé-Dommartin</td>
<td align="right">4078</td>
</tr>
<tr class="even">
<td align="left">01</td>
<td align="left">027</td>
<td align="left">Balan</td>
<td align="right">2513</td>
</tr>
</tbody>
</table>
<p>On souhaite reconstruire une colonne <code>code_insee</code> qui indique le code INSEE de la commune, et qui s’obtient en concaténant le code du département et celui de la commune. On peut utiliser <code>unite</code> pour cela :</p>
<div class="sourceCode" id="cb558"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb558-1"><a href="12-tidyr.html#cb558-1"></a>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">unite</span>(code_insee, code_departement, code_commune)</span>
<span id="cb558-2"><a href="12-tidyr.html#cb558-2"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb558-3"><a href="12-tidyr.html#cb558-3"></a><span class="co">#&gt;   code_insee commune           pop_tot</span></span>
<span id="cb558-4"><a href="12-tidyr.html#cb558-4"></a><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;               &lt;dbl&gt;</span></span>
<span id="cb558-5"><a href="12-tidyr.html#cb558-5"></a><span class="co">#&gt; 1 01_004     Ambérieu-en-Bugey  14204 </span></span>
<span id="cb558-6"><a href="12-tidyr.html#cb558-6"></a><span class="co">#&gt; 2 01_007     Ambronay            2763 </span></span>
<span id="cb558-7"><a href="12-tidyr.html#cb558-7"></a><span class="co">#&gt; 3 01_014     Arbent              3356 </span></span>
<span id="cb558-8"><a href="12-tidyr.html#cb558-8"></a><span class="co">#&gt; 4 01_024     Attignat            3196 </span></span>
<span id="cb558-9"><a href="12-tidyr.html#cb558-9"></a><span class="co">#&gt; 5 01_025     Bâgé-Dommartin      4078.</span></span>
<span id="cb558-10"><a href="12-tidyr.html#cb558-10"></a><span class="co">#&gt; 6 01_027     Balan               2513</span></span></code></pre></div>
<p>Le résultat n’est pas idéal : par défaut <code>unite</code> ajoute un caractère <code>_</code> entre les deux valeurs concaténées, alors qu’on ne veut aucun séparateur. De plus, on souhaite conserver nos deux colonnes d’origine, qui peuvent nous être utiles. On peut résoudre ces deux problèmes à l’aide des arguments <code>sep</code> et <code>remove</code> :</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="12-tidyr.html#cb559-1"></a>d <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb559-2"><a href="12-tidyr.html#cb559-2"></a><span class="st">  </span><span class="kw">unite</span>(</span>
<span id="cb559-3"><a href="12-tidyr.html#cb559-3"></a>      code_insee, code_departement, code_commune, </span>
<span id="cb559-4"><a href="12-tidyr.html#cb559-4"></a>      <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>, <span class="dt">remove =</span> <span class="ot">FALSE</span></span>
<span id="cb559-5"><a href="12-tidyr.html#cb559-5"></a>  )</span>
<span id="cb559-6"><a href="12-tidyr.html#cb559-6"></a><span class="co">#&gt; # A tibble: 6 × 5</span></span>
<span id="cb559-7"><a href="12-tidyr.html#cb559-7"></a><span class="co">#&gt;   code_insee code_departement code_commune commune           pop_tot</span></span>
<span id="cb559-8"><a href="12-tidyr.html#cb559-8"></a><span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;            &lt;chr&gt;        &lt;chr&gt;               &lt;dbl&gt;</span></span>
<span id="cb559-9"><a href="12-tidyr.html#cb559-9"></a><span class="co">#&gt; 1 01004      01               004          Ambérieu-en-Bugey  14204 </span></span>
<span id="cb559-10"><a href="12-tidyr.html#cb559-10"></a><span class="co">#&gt; 2 01007      01               007          Ambronay            2763 </span></span>
<span id="cb559-11"><a href="12-tidyr.html#cb559-11"></a><span class="co">#&gt; 3 01014      01               014          Arbent              3356 </span></span>
<span id="cb559-12"><a href="12-tidyr.html#cb559-12"></a><span class="co">#&gt; 4 01024      01               024          Attignat            3196 </span></span>
<span id="cb559-13"><a href="12-tidyr.html#cb559-13"></a><span class="co">#&gt; 5 01025      01               025          Bâgé-Dommartin      4078.</span></span>
<span id="cb559-14"><a href="12-tidyr.html#cb559-14"></a><span class="co">#&gt; 6 01027      01               027          Balan               2513</span></span></code></pre></div>
</div>
<div id="extract" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.3.6</span> <code>extract</code> : créer de nouvelles colonnes à partir d’une colonne de texte<a href="12-tidyr.html#extract" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>extract</code> permet de créer de nouvelles colonnes à partir de sous-chaînes d’une colonne de texte existante, identifiées par des groupes dans une expression régulière.</p>
<p>Par exemple, à partir du tableau suivant :</p>
<table>
<thead>
<tr class="header">
<th align="left">eleve</th>
<th align="left">note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Félicien Machin</td>
<td align="left">5/20</td>
</tr>
<tr class="even">
<td align="left">Raymonde Bidule</td>
<td align="left">6/10</td>
</tr>
<tr class="odd">
<td align="left">Martial Truc</td>
<td align="left">87/100</td>
</tr>
</tbody>
</table>
<p>On peut extraire les noms et prénoms dans deux nouvelles colonnes avec :</p>
<div class="sourceCode" id="cb560"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb560-1"><a href="12-tidyr.html#cb560-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb560-2"><a href="12-tidyr.html#cb560-2"></a><span class="st">    </span><span class="kw">extract</span>(</span>
<span id="cb560-3"><a href="12-tidyr.html#cb560-3"></a>        eleve,</span>
<span id="cb560-4"><a href="12-tidyr.html#cb560-4"></a>        <span class="kw">c</span>(<span class="st">&quot;prenom&quot;</span>, <span class="st">&quot;nom&quot;</span>),</span>
<span id="cb560-5"><a href="12-tidyr.html#cb560-5"></a>        <span class="st">&quot;^(.*) (.*)$&quot;</span></span>
<span id="cb560-6"><a href="12-tidyr.html#cb560-6"></a>    )</span>
<span id="cb560-7"><a href="12-tidyr.html#cb560-7"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb560-8"><a href="12-tidyr.html#cb560-8"></a><span class="co">#&gt;   prenom   nom    note  </span></span>
<span id="cb560-9"><a href="12-tidyr.html#cb560-9"></a><span class="co">#&gt;   &lt;chr&gt;    &lt;chr&gt;  &lt;chr&gt; </span></span>
<span id="cb560-10"><a href="12-tidyr.html#cb560-10"></a><span class="co">#&gt; 1 Félicien Machin 5/20  </span></span>
<span id="cb560-11"><a href="12-tidyr.html#cb560-11"></a><span class="co">#&gt; 2 Raymonde Bidule 6/10  </span></span>
<span id="cb560-12"><a href="12-tidyr.html#cb560-12"></a><span class="co">#&gt; 3 Martial  Truc   87/100</span></span></code></pre></div>
<p>On passe donc à <code>extract</code> trois arguments : la colonne d’où on doit extraire les valeurs, un vecteur avec les noms des nouvelles colonnes à créer, et une expression régulière comportant autant de groupes (identifiés par des parenthèses) que de nouvelles colonnes.</p>
<p>Par défaut la colonne d’origine n’est pas conservée dans la table résultat. On peut modifier ce comportement avec l’argument <code>remove = FALSE</code>. Ainsi, le code suivant extrait les initiales du prénom et du nom mais conserve la colonne d’origine :</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="12-tidyr.html#cb561-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb561-2"><a href="12-tidyr.html#cb561-2"></a><span class="st">    </span><span class="kw">extract</span>(</span>
<span id="cb561-3"><a href="12-tidyr.html#cb561-3"></a>        eleve,</span>
<span id="cb561-4"><a href="12-tidyr.html#cb561-4"></a>        <span class="kw">c</span>(<span class="st">&quot;initiale_prenom&quot;</span>, <span class="st">&quot;initiale_nom&quot;</span>),</span>
<span id="cb561-5"><a href="12-tidyr.html#cb561-5"></a>        <span class="st">&quot;^(.).* (.).*$&quot;</span>,</span>
<span id="cb561-6"><a href="12-tidyr.html#cb561-6"></a>        <span class="dt">remove =</span> <span class="ot">FALSE</span></span>
<span id="cb561-7"><a href="12-tidyr.html#cb561-7"></a>    )</span>
<span id="cb561-8"><a href="12-tidyr.html#cb561-8"></a><span class="co">#&gt; # A tibble: 3 × 4</span></span>
<span id="cb561-9"><a href="12-tidyr.html#cb561-9"></a><span class="co">#&gt;   eleve           initiale_prenom initiale_nom note  </span></span>
<span id="cb561-10"><a href="12-tidyr.html#cb561-10"></a><span class="co">#&gt;   &lt;chr&gt;           &lt;chr&gt;           &lt;chr&gt;        &lt;chr&gt; </span></span>
<span id="cb561-11"><a href="12-tidyr.html#cb561-11"></a><span class="co">#&gt; 1 Félicien Machin F               M            5/20  </span></span>
<span id="cb561-12"><a href="12-tidyr.html#cb561-12"></a><span class="co">#&gt; 2 Raymonde Bidule R               B            6/10  </span></span>
<span id="cb561-13"><a href="12-tidyr.html#cb561-13"></a><span class="co">#&gt; 3 Martial Truc    M               T            87/100</span></span></code></pre></div>
</div>
<div id="complete-compléter-des-combinaisons-de-variables-manquantes" class="section level3 hasAnchor">
<h3><span class="header-section-number">12.3.7</span> <code>complete</code> : compléter des combinaisons de variables manquantes<a href="12-tidyr.html#complete-compléter-des-combinaisons-de-variables-manquantes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Imaginons qu’on ait le tableau de résultats suivants :</p>
<table>
<thead>
<tr class="header">
<th align="left">eleve</th>
<th align="left">matiere</th>
<th align="right">note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Alain</td>
<td align="left">Maths</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="left">Alain</td>
<td align="left">Français</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="left">Barnabé</td>
<td align="left">Maths</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">Chantal</td>
<td align="left">Français</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
<p>Les élèves Barnabé et Chantal n’ont pas de notes dans toutes les matières. Supposons que c’est parce qu’ils étaient absents et que leur note est en fait un 0. Si on veut calculer les moyennes des élèves, on doit compléter ces notes manquantes.</p>
<p>La fonction <code>complete</code> est prévue pour ce cas de figure : elle permet de compléter des combinaisons manquantes de valeurs de plusieurs colonnes.</p>
<p>On peut l’utiliser de cette manière :</p>
<div class="sourceCode" id="cb562"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb562-1"><a href="12-tidyr.html#cb562-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">complete</span>(eleve, matiere)</span>
<span id="cb562-2"><a href="12-tidyr.html#cb562-2"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb562-3"><a href="12-tidyr.html#cb562-3"></a><span class="co">#&gt;   eleve   matiere   note</span></span>
<span id="cb562-4"><a href="12-tidyr.html#cb562-4"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt;</span></span>
<span id="cb562-5"><a href="12-tidyr.html#cb562-5"></a><span class="co">#&gt; 1 Alain   Français     9</span></span>
<span id="cb562-6"><a href="12-tidyr.html#cb562-6"></a><span class="co">#&gt; 2 Alain   Maths       16</span></span>
<span id="cb562-7"><a href="12-tidyr.html#cb562-7"></a><span class="co">#&gt; 3 Barnabé Français    NA</span></span>
<span id="cb562-8"><a href="12-tidyr.html#cb562-8"></a><span class="co">#&gt; 4 Barnabé Maths       17</span></span>
<span id="cb562-9"><a href="12-tidyr.html#cb562-9"></a><span class="co">#&gt; 5 Chantal Français    11</span></span>
<span id="cb562-10"><a href="12-tidyr.html#cb562-10"></a><span class="co">#&gt; 6 Chantal Maths       NA</span></span></code></pre></div>
<p>On voit que les combinaisons manquante “Barnabé - Français” et “Chantal - Maths” ont bien été ajoutées par <code>complete</code>.</p>
<p>Par défaut les lignes insérées récupèrent des valeurs manquantes <code>NA</code> pour les colonnes restantes. On peut néanmoins choisir une autre valeur avec l’argument <code>fill</code>, qui prend la forme d’une liste nommée :</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="12-tidyr.html#cb563-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">complete</span>(eleve, matiere, <span class="dt">fill =</span> <span class="kw">list</span>(<span class="dt">note =</span> <span class="dv">0</span>))</span>
<span id="cb563-2"><a href="12-tidyr.html#cb563-2"></a><span class="co">#&gt; # A tibble: 6 × 3</span></span>
<span id="cb563-3"><a href="12-tidyr.html#cb563-3"></a><span class="co">#&gt;   eleve   matiere   note</span></span>
<span id="cb563-4"><a href="12-tidyr.html#cb563-4"></a><span class="co">#&gt;   &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt;</span></span>
<span id="cb563-5"><a href="12-tidyr.html#cb563-5"></a><span class="co">#&gt; 1 Alain   Français     9</span></span>
<span id="cb563-6"><a href="12-tidyr.html#cb563-6"></a><span class="co">#&gt; 2 Alain   Maths       16</span></span>
<span id="cb563-7"><a href="12-tidyr.html#cb563-7"></a><span class="co">#&gt; 3 Barnabé Français     0</span></span>
<span id="cb563-8"><a href="12-tidyr.html#cb563-8"></a><span class="co">#&gt; 4 Barnabé Maths       17</span></span>
<span id="cb563-9"><a href="12-tidyr.html#cb563-9"></a><span class="co">#&gt; 5 Chantal Français    11</span></span>
<span id="cb563-10"><a href="12-tidyr.html#cb563-10"></a><span class="co">#&gt; 6 Chantal Maths        0</span></span></code></pre></div>
<p>Parfois on ne souhaite pas inclure toutes les colonnes dans le calcul des combinaisons de valeurs. Par exemple, supposons qu’on rajoute dans notre tableau une colonne avec les identifiants de chaque élève :</p>
<table>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="left">eleve</th>
<th align="left">matiere</th>
<th align="right">note</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1001001</td>
<td align="left">Alain</td>
<td align="left">Maths</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="right">1001001</td>
<td align="left">Alain</td>
<td align="left">Français</td>
<td align="right">9</td>
</tr>
<tr class="odd">
<td align="right">1001002</td>
<td align="left">Barnabé</td>
<td align="left">Maths</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="right">1001003</td>
<td align="left">Chantal</td>
<td align="left">Français</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
<p>Si on applique <code>complete</code> comme précédemment, le résultat n’est pas bon car il contient toutes les combinaisons de <code>id</code>, <code>eleve</code> et <code>matiere</code>.</p>
<div class="sourceCode" id="cb564"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb564-1"><a href="12-tidyr.html#cb564-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">complete</span>(id, eleve, matiere)</span>
<span id="cb564-2"><a href="12-tidyr.html#cb564-2"></a><span class="co">#&gt; # A tibble: 18 × 4</span></span>
<span id="cb564-3"><a href="12-tidyr.html#cb564-3"></a><span class="co">#&gt;         id eleve   matiere   note</span></span>
<span id="cb564-4"><a href="12-tidyr.html#cb564-4"></a><span class="co">#&gt;      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt;</span></span>
<span id="cb564-5"><a href="12-tidyr.html#cb564-5"></a><span class="co">#&gt;  1 1001001 Alain   Français     9</span></span>
<span id="cb564-6"><a href="12-tidyr.html#cb564-6"></a><span class="co">#&gt;  2 1001001 Alain   Maths       16</span></span>
<span id="cb564-7"><a href="12-tidyr.html#cb564-7"></a><span class="co">#&gt;  3 1001001 Barnabé Français    NA</span></span>
<span id="cb564-8"><a href="12-tidyr.html#cb564-8"></a><span class="co">#&gt;  4 1001001 Barnabé Maths       NA</span></span>
<span id="cb564-9"><a href="12-tidyr.html#cb564-9"></a><span class="co">#&gt;  5 1001001 Chantal Français    NA</span></span>
<span id="cb564-10"><a href="12-tidyr.html#cb564-10"></a><span class="co">#&gt;  6 1001001 Chantal Maths       NA</span></span>
<span id="cb564-11"><a href="12-tidyr.html#cb564-11"></a><span class="co">#&gt;  7 1001002 Alain   Français    NA</span></span>
<span id="cb564-12"><a href="12-tidyr.html#cb564-12"></a><span class="co">#&gt;  8 1001002 Alain   Maths       NA</span></span>
<span id="cb564-13"><a href="12-tidyr.html#cb564-13"></a><span class="co">#&gt;  9 1001002 Barnabé Français    NA</span></span>
<span id="cb564-14"><a href="12-tidyr.html#cb564-14"></a><span class="co">#&gt; 10 1001002 Barnabé Maths       17</span></span>
<span id="cb564-15"><a href="12-tidyr.html#cb564-15"></a><span class="co">#&gt; 11 1001002 Chantal Français    NA</span></span>
<span id="cb564-16"><a href="12-tidyr.html#cb564-16"></a><span class="co">#&gt; 12 1001002 Chantal Maths       NA</span></span>
<span id="cb564-17"><a href="12-tidyr.html#cb564-17"></a><span class="co">#&gt; 13 1001003 Alain   Français    NA</span></span>
<span id="cb564-18"><a href="12-tidyr.html#cb564-18"></a><span class="co">#&gt; 14 1001003 Alain   Maths       NA</span></span>
<span id="cb564-19"><a href="12-tidyr.html#cb564-19"></a><span class="co">#&gt; 15 1001003 Barnabé Français    NA</span></span>
<span id="cb564-20"><a href="12-tidyr.html#cb564-20"></a><span class="co">#&gt; 16 1001003 Barnabé Maths       NA</span></span>
<span id="cb564-21"><a href="12-tidyr.html#cb564-21"></a><span class="co">#&gt; 17 1001003 Chantal Français    11</span></span>
<span id="cb564-22"><a href="12-tidyr.html#cb564-22"></a><span class="co">#&gt; 18 1001003 Chantal Maths       NA</span></span></code></pre></div>
<p>Dans ce cas, pour signifier à <code>complete</code> que <code>id</code> et <code>eleve</code> sont deux attributs d’un même individu et ne doivent pas être combinés entre eux, on doit les placer dans une fonction <code>nesting</code> :</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="12-tidyr.html#cb565-1"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">complete</span>(<span class="kw">nesting</span>(id, eleve), matiere)</span>
<span id="cb565-2"><a href="12-tidyr.html#cb565-2"></a><span class="co">#&gt; # A tibble: 6 × 4</span></span>
<span id="cb565-3"><a href="12-tidyr.html#cb565-3"></a><span class="co">#&gt;        id eleve   matiere   note</span></span>
<span id="cb565-4"><a href="12-tidyr.html#cb565-4"></a><span class="co">#&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;dbl&gt;</span></span>
<span id="cb565-5"><a href="12-tidyr.html#cb565-5"></a><span class="co">#&gt; 1 1001001 Alain   Français     9</span></span>
<span id="cb565-6"><a href="12-tidyr.html#cb565-6"></a><span class="co">#&gt; 2 1001001 Alain   Maths       16</span></span>
<span id="cb565-7"><a href="12-tidyr.html#cb565-7"></a><span class="co">#&gt; 3 1001002 Barnabé Français    NA</span></span>
<span id="cb565-8"><a href="12-tidyr.html#cb565-8"></a><span class="co">#&gt; 4 1001002 Barnabé Maths       17</span></span>
<span id="cb565-9"><a href="12-tidyr.html#cb565-9"></a><span class="co">#&gt; 5 1001003 Chantal Français    11</span></span>
<span id="cb565-10"><a href="12-tidyr.html#cb565-10"></a><span class="co">#&gt; 6 1001003 Chantal Maths       NA</span></span></code></pre></div>
</div>
</div>
<div id="ressources-4" class="section level2 hasAnchor">
<h2><span class="header-section-number">12.4</span> Ressources<a href="12-tidyr.html#ressources-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Chaque jeu de données est différent, et le travail de remise en forme est souvent long et plus ou moins compliqué. On n’a donné ici que les exemples les plus simples, et c’est souvent en combinant différentes opérations qu’on finit par obtenir le résultat souhaité.</p>
<p>Le livre <em>R for data science</em>, librement accessible en ligne, contient <a href="http://r4ds.had.co.nz/tidy-data.html">un chapitre complet</a> sur la remise en forme des données.</p>
<p>L’article <a href="https://www.jstatsoft.org/article/view/v059i10">Tidy data</a>, publié en 2014 dans le <em>Journal of Statistical Software</em>, présente de manière détaillée le concept éponyme (mais il utilise des extensions désormais obsolètes qui ont depuis été remplacées par <code>dplyr</code> et<code>tidyr</code>).</p>
<p>Le site de l’extension est accessible à l’adresse : <a href="https://tidyr.tidyverse.org/" class="uri">https://tidyr.tidyverse.org/</a> et contient une liste des fonctions et les pages d’aide associées.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="19">
<li id="fn19"><p><code>pivot_longer</code> et <code>pivot_wider</code> ont été introduites dans la version 1.0 de <code>tidyr</code>. Elles ont alors remplacé <code>gather</code> et <code>spread</code>.<a href="12-tidyr.html#fnref19" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="11-stringr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="13-rmarkdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/juba/tidyverse/blob/main/12-tidyr.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["introduction_au_tidyverse.epub", "introduction_au_tidyverse.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
