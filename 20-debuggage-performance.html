<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Partie 20 Débuggage et performance | Introduction à R et au tidyverse</title>
  <meta name="description" content="Une introduction à R et aux extensions du tidyverse" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Partie 20 Débuggage et performance | Introduction à R et au tidyverse" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Une introduction à R et aux extensions du tidyverse" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Partie 20 Débuggage et performance | Introduction à R et au tidyverse" />
  
  <meta name="twitter:description" content="Une introduction à R et aux extensions du tidyverse" />
  

<meta name="author" content="Julien Barnier" />


<meta name="date" content="2021-11-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="19-programmer-tidyverse.html"/>
<link rel="next" href="21-targets.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Introduction à R et au <em>tidyverse</em></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>À propos de ce document</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#remerciements"><i class="fa fa-check"></i>Remerciements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licence"><i class="fa fa-check"></i>Licence</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="01-presentation.html"><a href="01-presentation.html"><i class="fa fa-check"></i><b>1</b> Présentation</a><ul>
<li class="chapter" data-level="1.1" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-de-r"><i class="fa fa-check"></i><b>1.1</b> À propos de R</a></li>
<li class="chapter" data-level="1.2" data-path="01-presentation.html"><a href="01-presentation.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> À propos de RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-du-tidyverse"><i class="fa fa-check"></i><b>1.3</b> À propos du <em>tidyverse</em></a></li>
<li class="chapter" data-level="1.4" data-path="01-presentation.html"><a href="01-presentation.html#structure-du-document"><i class="fa fa-check"></i><b>1.4</b> Structure du document</a></li>
<li class="chapter" data-level="1.5" data-path="01-presentation.html"><a href="01-presentation.html#prérequis"><i class="fa fa-check"></i><b>1.5</b> Prérequis</a></li>
</ul></li>
<li class="part"><span><b>I Introduction à R</b></span></li>
<li class="chapter" data-level="2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html"><i class="fa fa-check"></i><b>2</b> Prise en main</a><ul>
<li class="chapter" data-level="2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#la-console"><i class="fa fa-check"></i><b>2.1</b> La console</a><ul>
<li class="chapter" data-level="2.1.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#linvite-de-commandes"><i class="fa fa-check"></i><b>2.1.1</b> L’invite de commandes</a></li>
<li class="chapter" data-level="2.1.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#précisions-concernant-la-saisie-des-commandes"><i class="fa fa-check"></i><b>2.1.2</b> Précisions concernant la saisie des commandes</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets"><i class="fa fa-check"></i><b>2.2</b> Objets</a><ul>
<li class="chapter" data-level="2.2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets-simples"><i class="fa fa-check"></i><b>2.2.1</b> Objets simples</a></li>
<li class="chapter" data-level="2.2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#introvecteurs"><i class="fa fa-check"></i><b>2.2.2</b> Vecteurs</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#fonctions"><i class="fa fa-check"></i><b>2.3</b> Fonctions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#principe"><i class="fa fa-check"></i><b>2.3.1</b> Principe</a></li>
<li class="chapter" data-level="2.3.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#arguments"><i class="fa fa-check"></i><b>2.3.2</b> Arguments</a></li>
<li class="chapter" data-level="2.3.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#aide-sur-une-fonction"><i class="fa fa-check"></i><b>2.3.3</b> Aide sur une fonction</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#regrouper-ses-commandes-dans-des-scripts"><i class="fa fa-check"></i><b>2.4</b> Regrouper ses commandes dans des scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#commentaires"><i class="fa fa-check"></i><b>2.4.1</b> Commentaires</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#packages"><i class="fa fa-check"></i><b>2.5</b> Installer et charger des extensions (<em>packages</em>)</a></li>
<li class="chapter" data-level="2.6" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#exercices"><i class="fa fa-check"></i><b>2.6</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-premier_travail.html"><a href="03-premier_travail.html"><i class="fa fa-check"></i><b>3</b> Premier travail avec des données</a><ul>
<li class="chapter" data-level="3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#jeu-de-données-dexemple"><i class="fa fa-check"></i><b>3.1</b> Jeu de données d’exemple</a></li>
<li class="chapter" data-level="3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#tableau-de-données-data-frame"><i class="fa fa-check"></i><b>3.2</b> Tableau de données (<em>data frame</em>)</a><ul>
<li class="chapter" data-level="3.2.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#structure-du-tableau"><i class="fa fa-check"></i><b>3.2.1</b> Structure du tableau</a></li>
<li class="chapter" data-level="3.2.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#accéder-aux-variables-dun-tableau"><i class="fa fa-check"></i><b>3.2.2</b> Accéder aux variables d’un tableau</a></li>
<li class="chapter" data-level="3.2.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#créer-une-nouvelle-variable"><i class="fa fa-check"></i><b>3.2.3</b> Créer une nouvelle variable</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyse-univariée"><i class="fa fa-check"></i><b>3.3</b> Analyse univariée</a><ul>
<li class="chapter" data-level="3.3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-quantitative"><i class="fa fa-check"></i><b>3.3.1</b> Analyser une variable quantitative</a></li>
<li class="chapter" data-level="3.3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-qualitative"><i class="fa fa-check"></i><b>3.3.2</b> Analyser une variable qualitative</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="03-premier_travail.html"><a href="03-premier_travail.html#exercices-1"><i class="fa fa-check"></i><b>3.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-bivarie.html"><a href="04-bivarie.html"><i class="fa fa-check"></i><b>4</b> Analyse bivariée</a><ul>
<li class="chapter" data-level="4.1" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-qualitatives"><i class="fa fa-check"></i><b>4.1</b> Croisement de deux variables qualitatives</a><ul>
<li class="chapter" data-level="4.1.1" data-path="04-bivarie.html"><a href="04-bivarie.html#tableaux-croisés"><i class="fa fa-check"></i><b>4.1.1</b> Tableaux croisés</a></li>
<li class="chapter" data-level="4.1.2" data-path="04-bivarie.html"><a href="04-bivarie.html#test-du-χ²"><i class="fa fa-check"></i><b>4.1.2</b> Test du χ²</a></li>
<li class="chapter" data-level="4.1.3" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-1"><i class="fa fa-check"></i><b>4.1.3</b> Représentation graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-dune-variable-quantitative-et-dune-variable-qualitative"><i class="fa fa-check"></i><b>4.2</b> Croisement d’une variable quantitative et d’une variable qualitative</a><ul>
<li class="chapter" data-level="4.2.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-2"><i class="fa fa-check"></i><b>4.2.1</b> Représentation graphique</a></li>
<li class="chapter" data-level="4.2.2" data-path="04-bivarie.html"><a href="04-bivarie.html#tapply"><i class="fa fa-check"></i><b>4.2.2</b> Calculs d’indicateurs</a></li>
<li class="chapter" data-level="4.2.3" data-path="04-bivarie.html"><a href="04-bivarie.html#tests-statistiques"><i class="fa fa-check"></i><b>4.2.3</b> Tests statistiques</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-quantitatives"><i class="fa fa-check"></i><b>4.3</b> Croisement de deux variables quantitatives</a><ul>
<li class="chapter" data-level="4.3.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-3"><i class="fa fa-check"></i><b>4.3.1</b> Représentation graphique</a></li>
<li class="chapter" data-level="4.3.2" data-path="04-bivarie.html"><a href="04-bivarie.html#calcul-dindicateurs"><i class="fa fa-check"></i><b>4.3.2</b> Calcul d’indicateurs</a></li>
<li class="chapter" data-level="4.3.3" data-path="04-bivarie.html"><a href="04-bivarie.html#régression-linéaire"><i class="fa fa-check"></i><b>4.3.3</b> Régression linéaire</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="04-bivarie.html"><a href="04-bivarie.html#exercices-2"><i class="fa fa-check"></i><b>4.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-organiser.html"><a href="05-organiser.html"><i class="fa fa-check"></i><b>5</b> Organiser ses scripts</a><ul>
<li class="chapter" data-level="5.1" data-path="05-organiser.html"><a href="05-organiser.html#projets"><i class="fa fa-check"></i><b>5.1</b> Les projets dans RStudio</a></li>
<li class="chapter" data-level="5.2" data-path="05-organiser.html"><a href="05-organiser.html#créer-des-sections-dans-un-script"><i class="fa fa-check"></i><b>5.2</b> Créer des sections dans un script</a></li>
<li class="chapter" data-level="5.3" data-path="05-organiser.html"><a href="05-organiser.html#répartir-son-travail-entre-plusieurs-scripts"><i class="fa fa-check"></i><b>5.3</b> Répartir son travail entre plusieurs scripts</a></li>
<li class="chapter" data-level="5.4" data-path="05-organiser.html"><a href="05-organiser.html#désactiver-la-sauvegarde-de-lespace-de-travail"><i class="fa fa-check"></i><b>5.4</b> Désactiver la sauvegarde de l’espace de travail</a></li>
</ul></li>
<li class="part"><span><b>II Introduction au tidyverse</b></span></li>
<li class="chapter" data-level="6" data-path="06-tidyverse.html"><a href="06-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Le tidyverse</a><ul>
<li class="chapter" data-level="6.1" data-path="06-tidyverse.html"><a href="06-tidyverse.html#extensions"><i class="fa fa-check"></i><b>6.1</b> Extensions</a></li>
<li class="chapter" data-level="6.2" data-path="06-tidyverse.html"><a href="06-tidyverse.html#installation"><i class="fa fa-check"></i><b>6.2</b> Installation</a></li>
<li class="chapter" data-level="6.3" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tidydata"><i class="fa fa-check"></i><b>6.3</b> tidy data</a></li>
<li class="chapter" data-level="6.4" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tibbles"><i class="fa fa-check"></i><b>6.4</b> tibbles</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-import.html"><a href="07-import.html"><i class="fa fa-check"></i><b>7</b> Importer et exporter des données</a><ul>
<li class="chapter" data-level="7.1" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-textes"><i class="fa fa-check"></i><b>7.1</b> Import de fichiers textes</a><ul>
<li class="chapter" data-level="7.1.1" data-path="07-import.html"><a href="07-import.html#interface-interactive-dimport-de-fichiers"><i class="fa fa-check"></i><b>7.1.1</b> Interface interactive d’import de fichiers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="07-import.html"><a href="07-import.html#import-depuis-un-fichier-excel"><i class="fa fa-check"></i><b>7.2</b> Import depuis un fichier Excel</a></li>
<li class="chapter" data-level="7.3" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-sas-spss-et-stata"><i class="fa fa-check"></i><b>7.3</b> Import de fichiers SAS, SPSS et Stata</a></li>
<li class="chapter" data-level="7.4" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-dbase"><i class="fa fa-check"></i><b>7.4</b> Import de fichiers dBase</a></li>
<li class="chapter" data-level="7.5" data-path="07-import.html"><a href="07-import.html#connexion-à-des-bases-de-données"><i class="fa fa-check"></i><b>7.5</b> Connexion à des bases de données</a><ul>
<li class="chapter" data-level="7.5.1" data-path="07-import.html"><a href="07-import.html#interfaçage-via-lextension-dbi"><i class="fa fa-check"></i><b>7.5.1</b> Interfaçage via l’extension <code>DBI</code></a></li>
<li class="chapter" data-level="7.5.2" data-path="07-import.html"><a href="07-import.html#utilisation-de-dplyr-et-dbplyr"><i class="fa fa-check"></i><b>7.5.2</b> Utilisation de <code>dplyr</code> et <code>dbplyr</code></a></li>
<li class="chapter" data-level="7.5.3" data-path="07-import.html"><a href="07-import.html#ressources"><i class="fa fa-check"></i><b>7.5.3</b> Ressources</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="07-import.html"><a href="07-import.html#export-de-données"><i class="fa fa-check"></i><b>7.6</b> Export de données</a><ul>
<li class="chapter" data-level="7.6.1" data-path="07-import.html"><a href="07-import.html#export-de-tableaux-de-données"><i class="fa fa-check"></i><b>7.6.1</b> Export de tableaux de données</a></li>
<li class="chapter" data-level="7.6.2" data-path="07-import.html"><a href="07-import.html#sauvegarder-des-objets"><i class="fa fa-check"></i><b>7.6.2</b> Sauvegarder des objets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="08-ggplot2.html"><a href="08-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Visualiser avec <code>ggplot2</code></a><ul>
<li class="chapter" data-level="8.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#préparation"><i class="fa fa-check"></i><b>8.1</b> Préparation</a></li>
<li class="chapter" data-level="8.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#initialisation"><i class="fa fa-check"></i><b>8.2</b> Initialisation</a></li>
<li class="chapter" data-level="8.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-geom"><i class="fa fa-check"></i><b>8.3</b> Exemples de <code>geom</code></a><ul>
<li class="chapter" data-level="8.3.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_boxplot"><i class="fa fa-check"></i><b>8.3.1</b> <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_violin"><i class="fa fa-check"></i><b>8.3.2</b> <code>geom_violin</code></a></li>
<li class="chapter" data-level="8.3.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar"><i class="fa fa-check"></i><b>8.3.3</b> <code>geom_bar</code></a></li>
<li class="chapter" data-level="8.3.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_text"><i class="fa fa-check"></i><b>8.3.4</b> <code>geom_text</code></a></li>
<li class="chapter" data-level="8.3.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_label"><i class="fa fa-check"></i><b>8.3.5</b> <code>geom_label</code></a></li>
<li class="chapter" data-level="8.3.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_density"><i class="fa fa-check"></i><b>8.3.6</b> <code>geom_density</code></a></li>
<li class="chapter" data-level="8.3.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_line"><i class="fa fa-check"></i><b>8.3.7</b> <code>geom_line</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#mappages"><i class="fa fa-check"></i><b>8.4</b> Mappages</a><ul>
<li class="chapter" data-level="8.4.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-mappages"><i class="fa fa-check"></i><b>8.4.1</b> Exemples de mappages</a></li>
<li class="chapter" data-level="8.4.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#aes-or-not-aes"><i class="fa fa-check"></i><b>8.4.2</b> <code>aes()</code> or not <code>aes()</code> ?</a></li>
<li class="chapter" data-level="8.4.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-position"><i class="fa fa-check"></i><b>8.4.3</b> <code>geom_bar</code> et <code>position</code></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#représentation-de-plusieurs-geom"><i class="fa fa-check"></i><b>8.5</b> Représentation de plusieurs <code>geom</code></a><ul>
<li class="chapter" data-level="8.5.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#plusieurs-sources-de-données"><i class="fa fa-check"></i><b>8.5.1</b> Plusieurs sources de données</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#faceting"><i class="fa fa-check"></i><b>8.6</b> Faceting</a></li>
<li class="chapter" data-level="8.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scales"><i class="fa fa-check"></i><b>8.7</b> Scales</a><ul>
<li class="chapter" data-level="8.7.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_size"><i class="fa fa-check"></i><b>8.7.1</b> <code>scale_size</code></a></li>
<li class="chapter" data-level="8.7.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_x-scale_y"><i class="fa fa-check"></i><b>8.7.2</b> <code>scale_x</code>, <code>scale_y</code></a></li>
<li class="chapter" data-level="8.7.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scalecolor"><i class="fa fa-check"></i><b>8.7.3</b> <code>scale_color</code>, <code>scale_fill</code></a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#thèmes"><i class="fa fa-check"></i><b>8.8</b> Thèmes</a></li>
<li class="chapter" data-level="8.9" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ladd-in-esquisse"><i class="fa fa-check"></i><b>8.9</b> L’add-in <code>esquisse</code></a></li>
<li class="chapter" data-level="8.10" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ressources-1"><i class="fa fa-check"></i><b>8.10</b> Ressources</a></li>
<li class="chapter" data-level="8.11" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exercices-3"><i class="fa fa-check"></i><b>8.11</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="09-recodages.html"><a href="09-recodages.html"><i class="fa fa-check"></i><b>9</b> Recoder des variables</a><ul>
<li class="chapter" data-level="9.1" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs"><i class="fa fa-check"></i><b>9.1</b> Rappel sur les variables et les vecteurs</a></li>
<li class="chapter" data-level="9.2" data-path="09-recodages.html"><a href="09-recodages.html#tests"><i class="fa fa-check"></i><b>9.2</b> Tests et comparaison</a></li>
<li class="chapter" data-level="9.3" data-path="09-recodages.html"><a href="09-recodages.html#recoder-une-variable-qualitative"><i class="fa fa-check"></i><b>9.3</b> Recoder une variable qualitative</a><ul>
<li class="chapter" data-level="9.3.1" data-path="09-recodages.html"><a href="09-recodages.html#facteurs"><i class="fa fa-check"></i><b>9.3.1</b> Facteurs et <code>forcats</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="09-recodages.html"><a href="09-recodages.html#recode"><i class="fa fa-check"></i><b>9.3.2</b> Modifier les modalités d’une variable qualitative</a></li>
<li class="chapter" data-level="9.3.3" data-path="09-recodages.html"><a href="09-recodages.html#ordonner-les-modalités-dune-variable-qualitative"><i class="fa fa-check"></i><b>9.3.3</b> Ordonner les modalités d’une variable qualitative</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables"><i class="fa fa-check"></i><b>9.4</b> Combiner plusieurs variables</a><ul>
<li class="chapter" data-level="9.4.1" data-path="09-recodages.html"><a href="09-recodages.html#if-else"><i class="fa fa-check"></i><b>9.4.1</b> <code>if_else</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="09-recodages.html"><a href="09-recodages.html#case_when"><i class="fa fa-check"></i><b>9.4.2</b> <code>case_when</code></a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique-en-classes"><i class="fa fa-check"></i><b>9.5</b> Découper une variable numérique en classes</a><ul>
<li class="chapter" data-level="9.5.1" data-path="09-recodages.html"><a href="09-recodages.html#interface-graphique"><i class="fa fa-check"></i><b>9.5.1</b> Interface graphique</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="09-recodages.html"><a href="09-recodages.html#exercices-4"><i class="fa fa-check"></i><b>9.6</b> Exercices</a><ul>
<li class="chapter" data-level="9.6.1" data-path="09-recodages.html"><a href="09-recodages.html#préparation-1"><i class="fa fa-check"></i><b>9.6.1</b> Préparation</a></li>
<li class="chapter" data-level="9.6.2" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs-et-tests"><i class="fa fa-check"></i><b>9.6.2</b> Vecteurs et tests</a></li>
<li class="chapter" data-level="9.6.3" data-path="09-recodages.html"><a href="09-recodages.html#recodages-de-variable-qualitative"><i class="fa fa-check"></i><b>9.6.3</b> Recodages de variable qualitative</a></li>
<li class="chapter" data-level="9.6.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables-1"><i class="fa fa-check"></i><b>9.6.4</b> Combiner plusieurs variables</a></li>
<li class="chapter" data-level="9.6.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique"><i class="fa fa-check"></i><b>9.6.5</b> Découper une variable numérique</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-dplyr.html"><a href="10-dplyr.html"><i class="fa fa-check"></i><b>10</b> Manipuler les données avec <code>dplyr</code></a><ul>
<li class="chapter" data-level="10.1" data-path="10-dplyr.html"><a href="10-dplyr.html#préparation-2"><i class="fa fa-check"></i><b>10.1</b> Préparation</a></li>
<li class="chapter" data-level="10.2" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-dplyr"><i class="fa fa-check"></i><b>10.2</b> Les verbes de <code>dplyr</code></a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice"><i class="fa fa-check"></i><b>10.2.1</b> <code>slice</code></a></li>
<li class="chapter" data-level="10.2.2" data-path="10-dplyr.html"><a href="10-dplyr.html#filter"><i class="fa fa-check"></i><b>10.2.2</b> <code>filter</code></a></li>
<li class="chapter" data-level="10.2.3" data-path="10-dplyr.html"><a href="10-dplyr.html#select-rename"><i class="fa fa-check"></i><b>10.2.3</b> <code>select</code> et <code>rename</code></a></li>
<li class="chapter" data-level="10.2.4" data-path="10-dplyr.html"><a href="10-dplyr.html#arrange"><i class="fa fa-check"></i><b>10.2.4</b> <code>arrange</code></a></li>
<li class="chapter" data-level="10.2.5" data-path="10-dplyr.html"><a href="10-dplyr.html#mutate"><i class="fa fa-check"></i><b>10.2.5</b> <code>mutate</code></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-dplyr.html"><a href="10-dplyr.html#pipe"><i class="fa fa-check"></i><b>10.3</b> Enchaîner les opérations avec le <em>pipe</em></a></li>
<li class="chapter" data-level="10.4" data-path="10-dplyr.html"><a href="10-dplyr.html#opérations-groupées"><i class="fa fa-check"></i><b>10.4</b> Opérations groupées</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by"><i class="fa fa-check"></i><b>10.4.1</b> <code>group_by</code></a></li>
<li class="chapter" data-level="10.4.2" data-path="10-dplyr.html"><a href="10-dplyr.html#summarise-et-count"><i class="fa fa-check"></i><b>10.4.2</b> <code>summarise</code> et <code>count</code></a></li>
<li class="chapter" data-level="10.4.3" data-path="10-dplyr.html"><a href="10-dplyr.html#grouper-selon-plusieurs-variables"><i class="fa fa-check"></i><b>10.4.3</b> Grouper selon plusieurs variables</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-dplyr.html"><a href="10-dplyr.html#autres-fonctions-utiles"><i class="fa fa-check"></i><b>10.5</b> Autres fonctions utiles</a><ul>
<li class="chapter" data-level="10.5.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice_sample"><i class="fa fa-check"></i><b>10.5.1</b> <code>slice_sample</code></a></li>
<li class="chapter" data-level="10.5.2" data-path="10-dplyr.html"><a href="10-dplyr.html#slice_head-slice_tail-slice_min-slice_max"><i class="fa fa-check"></i><b>10.5.2</b> <code>slice_head</code>, <code>slice_tail</code>, <code>slice_min</code>, <code>slice_max</code></a></li>
<li class="chapter" data-level="10.5.3" data-path="10-dplyr.html"><a href="10-dplyr.html#lead-et-lag"><i class="fa fa-check"></i><b>10.5.3</b> <code>lead</code> et <code>lag</code></a></li>
<li class="chapter" data-level="10.5.4" data-path="10-dplyr.html"><a href="10-dplyr.html#distinct-et-n_distinct"><i class="fa fa-check"></i><b>10.5.4</b> <code>distinct</code> et <code>n_distinct</code></a></li>
<li class="chapter" data-level="10.5.5" data-path="10-dplyr.html"><a href="10-dplyr.html#relocate"><i class="fa fa-check"></i><b>10.5.5</b> <code>relocate</code></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="10-dplyr.html"><a href="10-dplyr.html#tables-multiples"><i class="fa fa-check"></i><b>10.6</b> Tables multiples</a><ul>
<li class="chapter" data-level="10.6.1" data-path="10-dplyr.html"><a href="10-dplyr.html#concaténation-bind_rows-et-bind_cols"><i class="fa fa-check"></i><b>10.6.1</b> Concaténation : <code>bind_rows</code> et <code>bind_cols</code></a></li>
<li class="chapter" data-level="10.6.2" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures"><i class="fa fa-check"></i><b>10.6.2</b> Jointures</a></li>
<li class="chapter" data-level="10.6.3" data-path="10-dplyr.html"><a href="10-dplyr.html#types-de-jointures"><i class="fa fa-check"></i><b>10.6.3</b> Types de jointures</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="10-dplyr.html"><a href="10-dplyr.html#ressources-2"><i class="fa fa-check"></i><b>10.7</b> Ressources</a></li>
<li class="chapter" data-level="10.8" data-path="10-dplyr.html"><a href="10-dplyr.html#exercices-5"><i class="fa fa-check"></i><b>10.8</b> Exercices</a><ul>
<li class="chapter" data-level="10.8.1" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-base-de-dplyr"><i class="fa fa-check"></i><b>10.8.1</b> Les verbes de base de <code>dplyr</code></a></li>
<li class="chapter" data-level="10.8.2" data-path="10-dplyr.html"><a href="10-dplyr.html#enchaîner-des-opérations"><i class="fa fa-check"></i><b>10.8.2</b> Enchaîner des opérations</a></li>
<li class="chapter" data-level="10.8.3" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by-et-summarise"><i class="fa fa-check"></i><b>10.8.3</b> <code>group_by</code> et <code>summarise</code></a></li>
<li class="chapter" data-level="10.8.4" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures-1"><i class="fa fa-check"></i><b>10.8.4</b> Jointures</a></li>
<li class="chapter" data-level="10.8.5" data-path="10-dplyr.html"><a href="10-dplyr.html#bonus"><i class="fa fa-check"></i><b>10.8.5</b> Bonus</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-stringr.html"><a href="11-stringr.html"><i class="fa fa-check"></i><b>11</b> Manipuler du texte avec <code>stringr</code></a><ul>
<li class="chapter" data-level="11.1" data-path="11-stringr.html"><a href="11-stringr.html#expressions-régulières"><i class="fa fa-check"></i><b>11.1</b> Expressions régulières</a></li>
<li class="chapter" data-level="11.2" data-path="11-stringr.html"><a href="11-stringr.html#concat"><i class="fa fa-check"></i><b>11.2</b> Concaténer des chaînes</a></li>
<li class="chapter" data-level="11.3" data-path="11-stringr.html"><a href="11-stringr.html#convertir-en-majuscules-minuscules"><i class="fa fa-check"></i><b>11.3</b> Convertir en majuscules / minuscules</a></li>
<li class="chapter" data-level="11.4" data-path="11-stringr.html"><a href="11-stringr.html#découper-des-chaînes"><i class="fa fa-check"></i><b>11.4</b> Découper des chaînes</a></li>
<li class="chapter" data-level="11.5" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-sous-chaînes-par-position"><i class="fa fa-check"></i><b>11.5</b> Extraire des sous-chaînes par position</a></li>
<li class="chapter" data-level="11.6" data-path="11-stringr.html"><a href="11-stringr.html#str-detect"><i class="fa fa-check"></i><b>11.6</b> Détecter des motifs</a></li>
<li class="chapter" data-level="11.7" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-motifs"><i class="fa fa-check"></i><b>11.7</b> Extraire des motifs</a></li>
<li class="chapter" data-level="11.8" data-path="11-stringr.html"><a href="11-stringr.html#remplacer-des-motifs"><i class="fa fa-check"></i><b>11.8</b> Remplacer des motifs</a></li>
<li class="chapter" data-level="11.9" data-path="11-stringr.html"><a href="11-stringr.html#modificateurs"><i class="fa fa-check"></i><b>11.9</b> Modificateurs de motifs</a></li>
<li class="chapter" data-level="11.10" data-path="11-stringr.html"><a href="11-stringr.html#ressources-3"><i class="fa fa-check"></i><b>11.10</b> Ressources</a></li>
<li class="chapter" data-level="11.11" data-path="11-stringr.html"><a href="11-stringr.html#exercices-6"><i class="fa fa-check"></i><b>11.11</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-tidyr.html"><a href="12-tidyr.html"><i class="fa fa-check"></i><b>12</b> Mettre en ordre avec <code>tidyr</code></a><ul>
<li class="chapter" data-level="12.1" data-path="12-tidyr.html"><a href="12-tidyr.html#tidy-data"><i class="fa fa-check"></i><b>12.1</b> Tidy data</a></li>
<li class="chapter" data-level="12.2" data-path="12-tidyr.html"><a href="12-tidyr.html#trois-règles-pour-des-données-bien-rangées"><i class="fa fa-check"></i><b>12.2</b> Trois règles pour des données bien rangées</a></li>
<li class="chapter" data-level="12.3" data-path="12-tidyr.html"><a href="12-tidyr.html#les-verbes-de-tidyr"><i class="fa fa-check"></i><b>12.3</b> Les verbes de <code>tidyr</code></a><ul>
<li class="chapter" data-level="12.3.1" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_longer-transformer-des-colonnes-en-lignes"><i class="fa fa-check"></i><b>12.3.1</b> <code>pivot_longer</code> : transformer des colonnes en lignes</a></li>
<li class="chapter" data-level="12.3.2" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_wider-transformer-des-lignes-en-colonnes"><i class="fa fa-check"></i><b>12.3.2</b> <code>pivot_wider</code> : transformer des lignes en colonnes</a></li>
<li class="chapter" data-level="12.3.3" data-path="12-tidyr.html"><a href="12-tidyr.html#separate"><i class="fa fa-check"></i><b>12.3.3</b> <code>separate</code> : séparer une colonne en plusieurs colonnes</a></li>
<li class="chapter" data-level="12.3.4" data-path="12-tidyr.html"><a href="12-tidyr.html#separate-rows"><i class="fa fa-check"></i><b>12.3.4</b> <code>separate_rows</code> : séparer une colonne en plusieurs lignes</a></li>
<li class="chapter" data-level="12.3.5" data-path="12-tidyr.html"><a href="12-tidyr.html#unite-regrouper-plusieurs-colonnes-en-une-seule"><i class="fa fa-check"></i><b>12.3.5</b> <code>unite</code> : regrouper plusieurs colonnes en une seule</a></li>
<li class="chapter" data-level="12.3.6" data-path="12-tidyr.html"><a href="12-tidyr.html#extract"><i class="fa fa-check"></i><b>12.3.6</b> <code>extract</code> : créer de nouvelles colonnes à partir d’une colonne de texte</a></li>
<li class="chapter" data-level="12.3.7" data-path="12-tidyr.html"><a href="12-tidyr.html#complete-compléter-des-combinaisons-de-variables-manquantes"><i class="fa fa-check"></i><b>12.3.7</b> <code>complete</code> : compléter des combinaisons de variables manquantes</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="12-tidyr.html"><a href="12-tidyr.html#ressources-4"><i class="fa fa-check"></i><b>12.4</b> Ressources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html"><i class="fa fa-check"></i><b>13</b> Diffuser et publier avec <code>rmarkdown</code></a><ul>
<li class="chapter" data-level="13.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#créer-un-nouveau-document"><i class="fa fa-check"></i><b>13.1</b> Créer un nouveau document</a></li>
<li class="chapter" data-level="13.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#éléments-dun-document-r-markdown"><i class="fa fa-check"></i><b>13.2</b> Éléments d’un document R Markdown</a><ul>
<li class="chapter" data-level="13.2.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#en-tête-préambule"><i class="fa fa-check"></i><b>13.2.1</b> En-tête (préambule)</a></li>
<li class="chapter" data-level="13.2.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#texte-du-document"><i class="fa fa-check"></i><b>13.2.2</b> Texte du document</a></li>
<li class="chapter" data-level="13.2.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#blocs-de-code-r"><i class="fa fa-check"></i><b>13.2.3</b> Blocs de code R</a></li>
<li class="chapter" data-level="13.2.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#compiler-un-document-knit"><i class="fa fa-check"></i><b>13.2.4</b> Compiler un document (<em>Knit</em>)</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#personnaliser-le-document-généré"><i class="fa fa-check"></i><b>13.3</b> Personnaliser le document généré</a></li>
<li class="chapter" data-level="13.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-des-blocs-de-code-r"><i class="fa fa-check"></i><b>13.4</b> Options des blocs de code R</a><ul>
<li class="chapter" data-level="13.4.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#nom-du-bloc"><i class="fa fa-check"></i><b>13.4.1</b> Nom du bloc</a></li>
<li class="chapter" data-level="13.4.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options"><i class="fa fa-check"></i><b>13.4.2</b> Options</a></li>
<li class="chapter" data-level="13.4.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#modifier-les-options"><i class="fa fa-check"></i><b>13.4.3</b> Modifier les options</a></li>
<li class="chapter" data-level="13.4.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-globales"><i class="fa fa-check"></i><b>13.4.4</b> Options globales</a></li>
<li class="chapter" data-level="13.4.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#mise-en-cache-des-résultats"><i class="fa fa-check"></i><b>13.4.5</b> Mise en cache des résultats</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#rendu-des-tableaux"><i class="fa fa-check"></i><b>13.5</b> Rendu des tableaux</a><ul>
<li class="chapter" data-level="13.5.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-croisés-1"><i class="fa fa-check"></i><b>13.5.1</b> Tableaux croisés</a></li>
<li class="chapter" data-level="13.5.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-de-données-et-tris-à-plat"><i class="fa fa-check"></i><b>13.5.2</b> Tableaux de données et tris à plat</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates"><i class="fa fa-check"></i><b>13.6</b> Modèles de documents</a><ul>
<li class="chapter" data-level="13.6.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#slides"><i class="fa fa-check"></i><b>13.6.1</b> Slides</a></li>
<li class="chapter" data-level="13.6.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates-1"><i class="fa fa-check"></i><b>13.6.2</b> Templates</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#ressources-5"><i class="fa fa-check"></i><b>13.7</b> Ressources</a></li>
</ul></li>
<li class="part"><span><b>III Aller plus loin</b></span></li>
<li class="chapter" data-level="14" data-path="14-fonctions.html"><a href="14-fonctions.html"><i class="fa fa-check"></i><b>14</b> Écrire ses propres fonctions</a><ul>
<li class="chapter" data-level="14.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples"><i class="fa fa-check"></i><b>14.1</b> Introduction et exemples</a><ul>
<li class="chapter" data-level="14.1.1" data-path="14-fonctions.html"><a href="14-fonctions.html#structure-dune-fonction"><i class="fa fa-check"></i><b>14.1.1</b> Structure d’une fonction</a></li>
<li class="chapter" data-level="14.1.2" data-path="14-fonctions.html"><a href="14-fonctions.html#exemple-de-fonction"><i class="fa fa-check"></i><b>14.1.2</b> Exemple de fonction</a></li>
<li class="chapter" data-level="14.1.3" data-path="14-fonctions.html"><a href="14-fonctions.html#effets-de-bord-et-affichage-de-messages"><i class="fa fa-check"></i><b>14.1.3</b> Effets de bord et affichage de messages</a></li>
<li class="chapter" data-level="14.1.4" data-path="14-fonctions.html"><a href="14-fonctions.html#utilité-des-fonctions"><i class="fa fa-check"></i><b>14.1.4</b> Utilité des fonctions</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat-dune-fonction"><i class="fa fa-check"></i><b>14.2</b> Arguments et résultat d’une fonction</a><ul>
<li class="chapter" data-level="14.2.1" data-path="14-fonctions.html"><a href="14-fonctions.html#définition-des-arguments"><i class="fa fa-check"></i><b>14.2.1</b> Définition des arguments</a></li>
<li class="chapter" data-level="14.2.2" data-path="14-fonctions.html"><a href="14-fonctions.html#valeurs-par-défaut"><i class="fa fa-check"></i><b>14.2.2</b> Valeurs par défaut</a></li>
<li class="chapter" data-level="14.2.3" data-path="14-fonctions.html"><a href="14-fonctions.html#arg-oblig"><i class="fa fa-check"></i><b>14.2.3</b> Arguments obligatoires et arguments facultatifs</a></li>
<li class="chapter" data-level="14.2.4" data-path="14-fonctions.html"><a href="14-fonctions.html#largument-..."><i class="fa fa-check"></i><b>14.2.4</b> L’argument <code>...</code></a></li>
<li class="chapter" data-level="14.2.5" data-path="14-fonctions.html"><a href="14-fonctions.html#resfunc"><i class="fa fa-check"></i><b>14.2.5</b> Résultat d’une fonction</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables"><i class="fa fa-check"></i><b>14.3</b> Portée des variables</a><ul>
<li class="chapter" data-level="14.3.1" data-path="14-fonctions.html"><a href="14-fonctions.html#une-fonction-peut-accéder-à-un-objet-extérieur"><i class="fa fa-check"></i><b>14.3.1</b> Une fonction peut accéder à un objet extérieur</a></li>
<li class="chapter" data-level="14.3.2" data-path="14-fonctions.html"><a href="14-fonctions.html#les-arguments-et-les-objets-créés-dans-la-fonction-sont-prioritaires"><i class="fa fa-check"></i><b>14.3.2</b> Les arguments et les objets créés dans la fonction sont prioritaires</a></li>
<li class="chapter" data-level="14.3.3" data-path="14-fonctions.html"><a href="14-fonctions.html#un-objet-créé-dans-une-fonction-nexiste-que-dans-cette-fonction"><i class="fa fa-check"></i><b>14.3.3</b> Un objet créé dans une fonction n’existe que dans cette fonction</a></li>
<li class="chapter" data-level="14.3.4" data-path="14-fonctions.html"><a href="14-fonctions.html#on-ne-peut-pas-modifier-un-objet-global-dans-une-fonction"><i class="fa fa-check"></i><b>14.3.4</b> On ne peut pas modifier un objet global dans une fonction</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets"><i class="fa fa-check"></i><b>14.4</b> Les fonctions comme objets</a><ul>
<li class="chapter" data-level="14.4.1" data-path="14-fonctions.html"><a href="14-fonctions.html#passer-des-fonctions-comme-argument"><i class="fa fa-check"></i><b>14.4.1</b> Passer des fonctions comme argument</a></li>
<li class="chapter" data-level="14.4.2" data-path="14-fonctions.html"><a href="14-fonctions.html#fonctions-anonymes"><i class="fa fa-check"></i><b>14.4.2</b> Fonctions anonymes</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="14-fonctions.html"><a href="14-fonctions.html#ressources-6"><i class="fa fa-check"></i><b>14.5</b> Ressources</a></li>
<li class="chapter" data-level="14.6" data-path="14-fonctions.html"><a href="14-fonctions.html#exercices-7"><i class="fa fa-check"></i><b>14.6</b> Exercices</a><ul>
<li class="chapter" data-level="14.6.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples-1"><i class="fa fa-check"></i><b>14.6.1</b> Introduction et exemples</a></li>
<li class="chapter" data-level="14.6.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat"><i class="fa fa-check"></i><b>14.6.2</b> Arguments et résultat</a></li>
<li class="chapter" data-level="14.6.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables-1"><i class="fa fa-check"></i><b>14.6.3</b> Portée des variables</a></li>
<li class="chapter" data-level="14.6.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets-1"><i class="fa fa-check"></i><b>14.6.4</b> Les fonctions comme objets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html"><i class="fa fa-check"></i><b>15</b> <code>dplyr</code> avancé</a><ul>
<li class="chapter" data-level="15.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions"><i class="fa fa-check"></i><b>15.1</b> Appliquer ses propres fonctions</a><ul>
<li class="chapter" data-level="15.1.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-mutate"><i class="fa fa-check"></i><b>15.1.1</b> Exemple avec <code>mutate</code></a></li>
<li class="chapter" data-level="15.1.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-summarise"><i class="fa fa-check"></i><b>15.1.2</b> Exemple avec <code>summarise</code></a></li>
<li class="chapter" data-level="15.1.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-rename_with"><i class="fa fa-check"></i><b>15.1.3</b> Exemple avec <code>rename_with</code></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across"><i class="fa fa-check"></i><b>15.2</b> <code>across()</code> : appliquer des fonctions à plusieurs colonnes</a><ul>
<li class="chapter" data-level="15.2.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-une-fonction-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.1</b> Appliquer une fonction à plusieurs colonnes</a></li>
<li class="chapter" data-level="15.2.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#passer-des-arguments-supplémentaires-à-la-fonction-appliquée"><i class="fa fa-check"></i><b>15.2.2</b> Passer des arguments supplémentaires à la fonction appliquée</a></li>
<li class="chapter" data-level="15.2.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#noms-des-colonnes-créées-par-un-mutate"><i class="fa fa-check"></i><b>15.2.3</b> Noms des colonnes créées par un <code>mutate</code></a></li>
<li class="chapter" data-level="15.2.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-plusieurs-fonctions-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.4</b> Appliquer plusieurs fonctions à plusieurs colonnes</a></li>
<li class="chapter" data-level="15.2.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#renommer-plusieurs-colonnes-avec-une-fonction"><i class="fa fa-check"></i><b>15.2.5</b> Renommer plusieurs colonnes avec une fonction</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#syntaxes-abregees"><i class="fa fa-check"></i><b>15.3</b> Fonctions anonymes et syntaxes abrégées</a></li>
<li class="chapter" data-level="15.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across-appliquer-une-transformation-ligne-par-ligne"><i class="fa fa-check"></i><b>15.4</b> <code>rowwise()</code> et <code>c_across()</code> : appliquer une transformation ligne par ligne</a></li>
<li class="chapter" data-level="15.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#ressources-7"><i class="fa fa-check"></i><b>15.5</b> Ressources</a></li>
<li class="chapter" data-level="15.6" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exercices-8"><i class="fa fa-check"></i><b>15.6</b> Exercices</a><ul>
<li class="chapter" data-level="15.6.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions-1"><i class="fa fa-check"></i><b>15.6.1</b> Appliquer ses propres fonctions</a></li>
<li class="chapter" data-level="15.6.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across-1"><i class="fa fa-check"></i><b>15.6.2</b> <code>across()</code></a></li>
<li class="chapter" data-level="15.6.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#fonctions-anonymes-et-notations-abrégées"><i class="fa fa-check"></i><b>15.6.3</b> Fonctions anonymes et notations abrégées</a></li>
<li class="chapter" data-level="15.6.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across"><i class="fa fa-check"></i><b>15.6.4</b> <code>rowwise()</code> et <code>c_across()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html"><i class="fa fa-check"></i><b>16</b> Structures de données</a><ul>
<li class="chapter" data-level="16.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques"><i class="fa fa-check"></i><b>16.1</b> Vecteurs atomiques</a><ul>
<li class="chapter" data-level="16.1.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-dun-vecteur"><i class="fa fa-check"></i><b>16.1.1</b> Création d’un vecteur</a></li>
<li class="chapter" data-level="16.1.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-nommés"><i class="fa fa-check"></i><b>16.1.2</b> Vecteurs nommés</a></li>
<li class="chapter" data-level="16.1.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#types-de-vecteurs"><i class="fa fa-check"></i><b>16.1.3</b> Types de vecteurs</a></li>
<li class="chapter" data-level="16.1.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments"><i class="fa fa-check"></i><b>16.1.4</b> Sélection d’éléments</a></li>
<li class="chapter" data-level="16.1.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification"><i class="fa fa-check"></i><b>16.1.5</b> Modification</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes"><i class="fa fa-check"></i><b>16.2</b> Listes</a><ul>
<li class="chapter" data-level="16.2.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création"><i class="fa fa-check"></i><b>16.2.1</b> Création</a></li>
<li class="chapter" data-level="16.2.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ajout-déléments"><i class="fa fa-check"></i><b>16.2.2</b> Ajout d’éléments</a></li>
<li class="chapter" data-level="16.2.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments-1"><i class="fa fa-check"></i><b>16.2.3</b> Sélection d’éléments</a></li>
<li class="chapter" data-level="16.2.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-1"><i class="fa fa-check"></i><b>16.2.4</b> Modification</a></li>
<li class="chapter" data-level="16.2.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#utilisation"><i class="fa fa-check"></i><b>16.2.5</b> Utilisation</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#data-frame-tibbles"><i class="fa fa-check"></i><b>16.3</b> Tableaux de données (<em>data frame</em> et <em>tibble</em>)</a><ul>
<li class="chapter" data-level="16.3.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-1"><i class="fa fa-check"></i><b>16.3.1</b> Création</a></li>
<li class="chapter" data-level="16.3.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#noms-de-colonnes-et-de-lignes"><i class="fa fa-check"></i><b>16.3.2</b> Noms de colonnes et de lignes</a></li>
<li class="chapter" data-level="16.3.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#df-sel"><i class="fa fa-check"></i><b>16.3.3</b> Sélection de lignes et de colonnes</a></li>
<li class="chapter" data-level="16.3.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-2"><i class="fa fa-check"></i><b>16.3.4</b> Modification</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ressources-8"><i class="fa fa-check"></i><b>16.4</b> Ressources</a></li>
<li class="chapter" data-level="16.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#exercices-9"><i class="fa fa-check"></i><b>16.5</b> Exercices</a><ul>
<li class="chapter" data-level="16.5.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques-1"><i class="fa fa-check"></i><b>16.5.1</b> Vecteurs atomiques</a></li>
<li class="chapter" data-level="16.5.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes-1"><i class="fa fa-check"></i><b>16.5.2</b> Listes</a></li>
<li class="chapter" data-level="16.5.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#tableaux-de-données"><i class="fa fa-check"></i><b>16.5.3</b> Tableaux de données</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="17-if-boucles.html"><a href="17-if-boucles.html"><i class="fa fa-check"></i><b>17</b> Exécution conditionnelle et boucles</a><ul>
<li class="chapter" data-level="17.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else-exécuter-du-code-sous-certaines-conditions"><i class="fa fa-check"></i><b>17.1</b> <code>if</code> et <code>else</code> : exécuter du code sous certaines conditions</a><ul>
<li class="chapter" data-level="17.1.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if"><i class="fa fa-check"></i><b>17.1.1</b> <code>if</code></a></li>
<li class="chapter" data-level="17.1.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-1"><i class="fa fa-check"></i><b>17.1.2</b> <code>if</code> / <code>else</code></a></li>
<li class="chapter" data-level="17.1.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-if-else"><i class="fa fa-check"></i><b>17.1.3</b> “<code>if</code>” / “<code>else if</code>” / “<code>else</code>”</a></li>
<li class="chapter" data-level="17.1.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#construction-de-conditions-complexes"><i class="fa fa-check"></i><b>17.1.4</b> Construction de conditions complexes</a></li>
<li class="chapter" data-level="17.1.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#différence-entre-if-else-et-ifelse"><i class="fa fa-check"></i><b>17.1.5</b> Différence entre <code>if</code> / <code>else</code> et <code>ifelse</code></a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution-et-gestion-des-erreurs"><i class="fa fa-check"></i><b>17.2</b> Contrôle de l’exécution et gestion des erreurs</a><ul>
<li class="chapter" data-level="17.2.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#utilisation-de-return-pour-sortir-de-la-fonction"><i class="fa fa-check"></i><b>17.2.1</b> Utilisation de <code>return</code> pour sortir de la fonction</a></li>
<li class="chapter" data-level="17.2.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#warning"><i class="fa fa-check"></i><b>17.2.2</b> <code>warning</code></a></li>
<li class="chapter" data-level="17.2.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#stop-et-stopifnot"><i class="fa fa-check"></i><b>17.2.3</b> <code>stop</code> et <code>stopifnot</code></a></li>
<li class="chapter" data-level="17.2.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#test-arg"><i class="fa fa-check"></i><b>17.2.4</b> Tester la présence d’un argument facultatif</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for-et-while-répéter-des-instructions-dans-une-boucle"><i class="fa fa-check"></i><b>17.3</b> <code>for</code> et <code>while</code> : répéter des instructions dans une boucle</a><ul>
<li class="chapter" data-level="17.3.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for"><i class="fa fa-check"></i><b>17.3.1</b> <code>for</code></a></li>
<li class="chapter" data-level="17.3.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#while"><i class="fa fa-check"></i><b>17.3.2</b> <code>while</code></a></li>
<li class="chapter" data-level="17.3.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#next-et-break"><i class="fa fa-check"></i><b>17.3.3</b> <code>next</code> et <code>break</code></a></li>
<li class="chapter" data-level="17.3.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#no-boucles"><i class="fa fa-check"></i><b>17.3.4</b> Quand (ne pas) utiliser des boucles</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#ressources-boucles"><i class="fa fa-check"></i><b>17.4</b> Ressources</a></li>
<li class="chapter" data-level="17.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#exercices-10"><i class="fa fa-check"></i><b>17.5</b> Exercices</a><ul>
<li class="chapter" data-level="17.5.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else"><i class="fa fa-check"></i><b>17.5.1</b> <code>if</code> et <code>else</code></a></li>
<li class="chapter" data-level="17.5.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution"><i class="fa fa-check"></i><b>17.5.2</b> Contrôle de l’exécution</a></li>
<li class="chapter" data-level="17.5.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#boucles"><i class="fa fa-check"></i><b>17.5.3</b> Boucles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="18-purrr.html"><a href="18-purrr.html"><i class="fa fa-check"></i><b>18</b> Itérer avec <code>purrr</code></a><ul>
<li class="chapter" data-level="18.1" data-path="18-purrr.html"><a href="18-purrr.html#exemple-dapplication"><i class="fa fa-check"></i><b>18.1</b> Exemple d’application</a></li>
<li class="chapter" data-level="18.2" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes"><i class="fa fa-check"></i><b>18.2</b> <code>map</code> et ses variantes</a><ul>
<li class="chapter" data-level="18.2.1" data-path="18-purrr.html"><a href="18-purrr.html#modes-dappel-de-map"><i class="fa fa-check"></i><b>18.2.1</b> Modes d’appel de <code>map</code></a></li>
<li class="chapter" data-level="18.2.2" data-path="18-purrr.html"><a href="18-purrr.html#variantes-de-map"><i class="fa fa-check"></i><b>18.2.2</b> Variantes de <code>map</code></a></li>
<li class="chapter" data-level="18.2.3" data-path="18-purrr.html"><a href="18-purrr.html#map_dfr-et-map_dfc"><i class="fa fa-check"></i><b>18.2.3</b> <code>map_dfr()</code> et <code>map_dfc()</code></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="18-purrr.html"><a href="18-purrr.html#itérer-sur-les-colonnes-dun-tableau-de-données"><i class="fa fa-check"></i><b>18.3</b> Itérer sur les colonnes d’un tableau de données</a></li>
<li class="chapter" data-level="18.4" data-path="18-purrr.html"><a href="18-purrr.html#modify"><i class="fa fa-check"></i><b>18.4</b> <code>modify</code></a></li>
<li class="chapter" data-level="18.5" data-path="18-purrr.html"><a href="18-purrr.html#imap"><i class="fa fa-check"></i><b>18.5</b> <code>imap</code></a></li>
<li class="chapter" data-level="18.6" data-path="18-purrr.html"><a href="18-purrr.html#walk"><i class="fa fa-check"></i><b>18.6</b> <code>walk</code></a></li>
<li class="chapter" data-level="18.7" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap-itérer-sur-plusieurs-vecteurs-en-parallèle"><i class="fa fa-check"></i><b>18.7</b> <code>map2</code> et <code>pmap</code> : itérer sur plusieurs vecteurs en parallèle</a></li>
<li class="chapter" data-level="18.8" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération"><i class="fa fa-check"></i><b>18.8</b> Répéter une opération</a></li>
<li class="chapter" data-level="18.9" data-path="18-purrr.html"><a href="18-purrr.html#quand-ne-pas-utiliser-map"><i class="fa fa-check"></i><b>18.9</b> Quand (ne pas) utiliser <code>map</code></a></li>
<li class="chapter" data-level="18.10" data-path="18-purrr.html"><a href="18-purrr.html#purrr-vs-apply"><i class="fa fa-check"></i><b>18.10</b> <code>purrr</code> vs <code>*apply</code></a></li>
<li class="chapter" data-level="18.11" data-path="18-purrr.html"><a href="18-purrr.html#ressources-9"><i class="fa fa-check"></i><b>18.11</b> Ressources</a></li>
<li class="chapter" data-level="18.12" data-path="18-purrr.html"><a href="18-purrr.html#exercices-11"><i class="fa fa-check"></i><b>18.12</b> Exercices</a><ul>
<li class="chapter" data-level="18.12.1" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes-1"><i class="fa fa-check"></i><b>18.12.1</b> <code>map</code> et ses variantes</a></li>
<li class="chapter" data-level="18.12.2" data-path="18-purrr.html"><a href="18-purrr.html#modify-et-itération-sur-les-colonnes-dun-tableau"><i class="fa fa-check"></i><b>18.12.2</b> <code>modify</code> et itération sur les colonnes d’un tableau</a></li>
<li class="chapter" data-level="18.12.3" data-path="18-purrr.html"><a href="18-purrr.html#imap-et-walk"><i class="fa fa-check"></i><b>18.12.3</b> <code>imap</code> et <code>walk</code></a></li>
<li class="chapter" data-level="18.12.4" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap"><i class="fa fa-check"></i><b>18.12.4</b> <code>map2</code> et <code>pmap</code></a></li>
<li class="chapter" data-level="18.12.5" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération-1"><i class="fa fa-check"></i><b>18.12.5</b> Répéter une opération</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html"><i class="fa fa-check"></i><b>19</b> Programmer avec le <em>tidyverse</em></a><ul>
<li class="chapter" data-level="19.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#spécificités-du-tidyverse"><i class="fa fa-check"></i><b>19.1</b> Spécificités du <em>tidyverse</em></a><ul>
<li class="chapter" data-level="19.1.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#data-masking"><i class="fa fa-check"></i><b>19.1.1</b> <em>data masking</em></a></li>
<li class="chapter" data-level="19.1.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#tidy-selection"><i class="fa fa-check"></i><b>19.1.2</b> <em>tidy selection</em></a></li>
<li class="chapter" data-level="19.1.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utilisation-dans-des-fonctions"><i class="fa fa-check"></i><b>19.1.3</b> Utilisation dans des fonctions</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.2</b> Programmer avec <code>dplyr</code> et <code>tidyr</code></a><ul>
<li class="chapter" data-level="19.2.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-colonne-passée-en-argument"><i class="fa fa-check"></i><b>19.2.1</b> Utiliser une colonne passée en argument</a></li>
<li class="chapter" data-level="19.2.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-sélection-de-colonnes-passée-en-argument"><i class="fa fa-check"></i><b>19.2.2</b> Utiliser une sélection de colonnes passée en argument</a></li>
<li class="chapter" data-level="19.2.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#nommer-de-nouvelles-colonnes-à-partir-dun-argument"><i class="fa fa-check"></i><b>19.2.3</b> Nommer de nouvelles colonnes à partir d’un argument</a></li>
<li class="chapter" data-level="19.2.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#désambiguïser-data-et-env"><i class="fa fa-check"></i><b>19.2.4</b> Désambiguïser data et env</a></li>
<li class="chapter" data-level="19.2.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#quand-les-arguments-sont-des-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.2.5</b> Quand les arguments sont des chaînes de caractères</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-ggplot2"><i class="fa fa-check"></i><b>19.3</b> Programmer avec <code>ggplot2</code></a><ul>
<li class="chapter" data-level="19.3.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#sélection-de-colonnes-avec-aes"><i class="fa fa-check"></i><b>19.3.1</b> Sélection de colonnes avec <code>aes()</code></a></li>
<li class="chapter" data-level="19.3.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#faceting-1"><i class="fa fa-check"></i><b>19.3.2</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#aide-mémoire"><i class="fa fa-check"></i><b>19.4</b> Aide-mémoire</a></li>
<li class="chapter" data-level="19.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ressources-10"><i class="fa fa-check"></i><b>19.5</b> Ressources</a></li>
<li class="chapter" data-level="19.6" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#exercices-12"><i class="fa fa-check"></i><b>19.6</b> Exercices</a><ul>
<li class="chapter" data-level="19.6.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.6.1</b> <code>dplyr</code> et <code>tidyr</code></a></li>
<li class="chapter" data-level="19.6.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#noms-de-colonnes-en-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.6.2</b> Noms de colonnes en chaînes de caractères</a></li>
<li class="chapter" data-level="19.6.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ambiguïté-data-env"><i class="fa fa-check"></i><b>19.6.3</b> Ambiguïté <code>data</code> / <code>env</code></a></li>
<li class="chapter" data-level="19.6.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ggplot2-1"><i class="fa fa-check"></i><b>19.6.4</b> <code>ggplot2</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html"><i class="fa fa-check"></i><b>20</b> Débuggage et performance</a><ul>
<li class="chapter" data-level="20.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#débugguer-une-fonction"><i class="fa fa-check"></i><b>20.1</b> Débugguer une fonction</a><ul>
<li class="chapter" data-level="20.1.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#print"><i class="fa fa-check"></i><b>20.1.1</b> print()</a></li>
<li class="chapter" data-level="20.1.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#localiser-une-erreur"><i class="fa fa-check"></i><b>20.1.2</b> Localiser une erreur</a></li>
<li class="chapter" data-level="20.1.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#browser"><i class="fa fa-check"></i><b>20.1.3</b> browser()</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#benchmarking-mesurer-et-comparer-les-temps-dexécution"><i class="fa fa-check"></i><b>20.2</b> benchmarking : mesurer et comparer les temps d’exécution</a></li>
<li class="chapter" data-level="20.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#quelques-conseils-doptimisation"><i class="fa fa-check"></i><b>20.3</b> Quelques conseils d’optimisation</a><ul>
<li class="chapter" data-level="20.3.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#privilégier-les-fonctions-vectorisées"><i class="fa fa-check"></i><b>20.3.1</b> Privilégier les fonctions vectorisées</a></li>
<li class="chapter" data-level="20.3.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-le-minimum-dopérations-dans-les-boucles"><i class="fa fa-check"></i><b>20.3.2</b> Mettre le minimum d’opérations dans les boucles</a></li>
<li class="chapter" data-level="20.3.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#choisir-un-format-de-fichier-adapté"><i class="fa fa-check"></i><b>20.3.3</b> Choisir un format de fichier adapté</a></li>
<li class="chapter" data-level="20.3.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#repérer-les-opérations-coûteuses-avec-du-profiling"><i class="fa fa-check"></i><b>20.3.4</b> Repérer les opérations coûteuses avec du <em>profiling</em></a></li>
<li class="chapter" data-level="20.3.5" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-en-cache-des-résultats-intermédiaires"><i class="fa fa-check"></i><b>20.3.5</b> Mettre en cache des résultats intermédiaires</a></li>
<li class="chapter" data-level="20.3.6" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#utiliser-dautres-extensions"><i class="fa fa-check"></i><b>20.3.6</b> Utiliser d’autres extensions</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#ressources-11"><i class="fa fa-check"></i><b>20.4</b> Ressources</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="21-targets.html"><a href="21-targets.html"><i class="fa fa-check"></i><b>21</b> Organiser un projet avec <code>targets</code></a><ul>
<li class="chapter" data-level="21.1" data-path="21-targets.html"><a href="21-targets.html#définition-du-pipeline"><i class="fa fa-check"></i><b>21.1</b> Définition du pipeline</a><ul>
<li class="chapter" data-level="21.1.1" data-path="21-targets.html"><a href="21-targets.html#projet-dexemple"><i class="fa fa-check"></i><b>21.1.1</b> Projet d’exemple</a></li>
<li class="chapter" data-level="21.1.2" data-path="21-targets.html"><a href="21-targets.html#targets.r"><i class="fa fa-check"></i><b>21.1.2</b> <code>_targets.R</code></a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="21-targets.html"><a href="21-targets.html#exécution-du-pipeline"><i class="fa fa-check"></i><b>21.2</b> Exécution du pipeline</a></li>
<li class="chapter" data-level="21.3" data-path="21-targets.html"><a href="21-targets.html#modification-du-pipeline"><i class="fa fa-check"></i><b>21.3</b> Modification du pipeline</a></li>
<li class="chapter" data-level="21.4" data-path="21-targets.html"><a href="21-targets.html#rmarkdown"><i class="fa fa-check"></i><b>21.4</b> RMarkdown</a></li>
<li class="chapter" data-level="21.5" data-path="21-targets.html"><a href="21-targets.html#gestion-des-données-en-cache"><i class="fa fa-check"></i><b>21.5</b> Gestion des données en cache</a></li>
<li class="chapter" data-level="21.6" data-path="21-targets.html"><a href="21-targets.html#avantages-et-limites"><i class="fa fa-check"></i><b>21.6</b> Avantages et limites</a><ul>
<li class="chapter" data-level="21.6.1" data-path="21-targets.html"><a href="21-targets.html#avantages"><i class="fa fa-check"></i><b>21.6.1</b> Avantages</a></li>
<li class="chapter" data-level="21.6.2" data-path="21-targets.html"><a href="21-targets.html#interactivité-et-développement-du-pipeline"><i class="fa fa-check"></i><b>21.6.2</b> Interactivité et développement du pipeline</a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="21-targets.html"><a href="21-targets.html#ressources-12"><i class="fa fa-check"></i><b>21.7</b> Ressources</a></li>
</ul></li>
<li class="appendix"><span><b>Annexes</b></span></li>
<li class="chapter" data-level="A" data-path="22-ressources.html"><a href="22-ressources.html"><i class="fa fa-check"></i><b>A</b> Ressources</a><ul>
<li class="chapter" data-level="A.1" data-path="22-ressources.html"><a href="22-ressources.html#aide"><i class="fa fa-check"></i><b>A.1</b> Aide</a><ul>
<li class="chapter" data-level="A.1.1" data-path="22-ressources.html"><a href="22-ressources.html#aide-de-r-et-rstudio"><i class="fa fa-check"></i><b>A.1.1</b> Aide de R et RStudio</a></li>
<li class="chapter" data-level="A.1.2" data-path="22-ressources.html"><a href="22-ressources.html#aide-en-ligne"><i class="fa fa-check"></i><b>A.1.2</b> Aide en ligne</a></li>
<li class="chapter" data-level="A.1.3" data-path="22-ressources.html"><a href="22-ressources.html#antisèches"><i class="fa fa-check"></i><b>A.1.3</b> Antisèches</a></li>
<li class="chapter" data-level="A.1.4" data-path="22-ressources.html"><a href="22-ressources.html#où-poser-des-questions"><i class="fa fa-check"></i><b>A.1.4</b> Où poser des questions</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="22-ressources.html"><a href="22-ressources.html#ouvrages-blogs-moocs"><i class="fa fa-check"></i><b>A.2</b> Ouvrages, blogs, MOOCs…</a><ul>
<li class="chapter" data-level="A.2.1" data-path="22-ressources.html"><a href="22-ressources.html#francophones"><i class="fa fa-check"></i><b>A.2.1</b> Francophones</a></li>
<li class="chapter" data-level="A.2.2" data-path="22-ressources.html"><a href="22-ressources.html#anglophones"><i class="fa fa-check"></i><b>A.2.2</b> Anglophones</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="22-ressources.html"><a href="22-ressources.html#extensions-1"><i class="fa fa-check"></i><b>A.3</b> Extensions</a><ul>
<li class="chapter" data-level="A.3.1" data-path="22-ressources.html"><a href="22-ressources.html#où-trouver-des-extensions-intéressantes"><i class="fa fa-check"></i><b>A.3.1</b> Où trouver des extensions intéressantes ?</a></li>
<li class="chapter" data-level="A.3.2" data-path="22-ressources.html"><a href="22-ressources.html#lextension-questionr"><i class="fa fa-check"></i><b>A.3.2</b> L’extension <code>questionr</code></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction à R et au tidyverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="debug-perf" class="section level1">
<h1><span class="header-section-number">Partie 20</span> Débuggage et performance</h1>
<div id="débugguer-une-fonction" class="section level2">
<h2><span class="header-section-number">20.1</span> Débugguer une fonction</h2>
<p>Lorsqu’on commence à écrire des fonctions un peu complexes, avec des <code>if</code>, des <code>for</code>, et autres joyeusetés, arrive forcément un moment où ça ne fonctionne pas comme on le souhaiterait et où on ne comprend pas pourquoi. Bref, <em>il y a un bug</em>.</p>
<p>Trouver la cause d’un bug n’est pas toujours évident, mais il existe plusieurs méthodes et outils permettant de faciliter un peu les choses.</p>
<p>On commence par charger les extensions et les jeux de données dont on aura besoin par la suite.</p>
<div class="sourceCode" id="cb1166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1166-1"><a href="20-debuggage-performance.html#cb1166-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb1166-2"><a href="20-debuggage-performance.html#cb1166-2"></a><span class="kw">library</span>(questionr)</span>
<span id="cb1166-3"><a href="20-debuggage-performance.html#cb1166-3"></a><span class="kw">data</span>(hdv2003)</span>
<span id="cb1166-4"><a href="20-debuggage-performance.html#cb1166-4"></a><span class="kw">data</span>(starwars)</span></code></pre></div>
<div id="print" class="section level3">
<h3><span class="header-section-number">20.1.1</span> print()</h3>
<p>L’outil le plus simple, rudimentaire et parfois décrié mais qui reste efficace, est de rajouter un <code>print()</code> dans le code de notre fonction pour examiner le contenu d’un objet à un moment donné.</p>
<p>Prenons un exemple. La fonction suivante prend en argument un tableau de données <code>df</code> et un nom de variable <code>var</code>, et retourne la moyenne et l’écart-type de cette variable.</p>
<div class="sourceCode" id="cb1167"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1167-1"><a href="20-debuggage-performance.html#cb1167-1"></a>indicateurs &lt;-<span class="st"> </span><span class="cf">function</span>(df, var) {</span>
<span id="cb1167-2"><a href="20-debuggage-performance.html#cb1167-2"></a>    valeurs &lt;-<span class="st"> </span>df[, var]</span>
<span id="cb1167-3"><a href="20-debuggage-performance.html#cb1167-3"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.numeric</span>(valeurs)) <span class="kw">return</span>(<span class="ot">NA</span>)</span>
<span id="cb1167-4"><a href="20-debuggage-performance.html#cb1167-4"></a>    <span class="kw">list</span>(</span>
<span id="cb1167-5"><a href="20-debuggage-performance.html#cb1167-5"></a>        <span class="dt">moyenne =</span> <span class="kw">mean</span>(valeurs, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb1167-6"><a href="20-debuggage-performance.html#cb1167-6"></a>        <span class="dt">sd =</span> <span class="kw">sd</span>(valeurs, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb1167-7"><a href="20-debuggage-performance.html#cb1167-7"></a>    )</span>
<span id="cb1167-8"><a href="20-debuggage-performance.html#cb1167-8"></a>}</span></code></pre></div>
<p>On teste notre fonction sur une variable du jeu de données <code>hdv2003</code>. Tout semble fonctionner.</p>
<div class="sourceCode" id="cb1168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1168-1"><a href="20-debuggage-performance.html#cb1168-1"></a><span class="kw">indicateurs</span>(hdv2003, <span class="st">&quot;age&quot;</span>)</span>
<span id="cb1168-2"><a href="20-debuggage-performance.html#cb1168-2"></a><span class="co">#&gt; $moyenne</span></span>
<span id="cb1168-3"><a href="20-debuggage-performance.html#cb1168-3"></a><span class="co">#&gt; [1] 48.157</span></span>
<span id="cb1168-4"><a href="20-debuggage-performance.html#cb1168-4"></a><span class="co">#&gt; </span></span>
<span id="cb1168-5"><a href="20-debuggage-performance.html#cb1168-5"></a><span class="co">#&gt; $sd</span></span>
<span id="cb1168-6"><a href="20-debuggage-performance.html#cb1168-6"></a><span class="co">#&gt; [1] 16.94181</span></span></code></pre></div>
<p>On teste à nouveau, cette fois sur une variable du jeu de données <code>starwars</code> de <code>dplyr</code>.</p>
<div class="sourceCode" id="cb1169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1169-1"><a href="20-debuggage-performance.html#cb1169-1"></a><span class="kw">indicateurs</span>(starwars, <span class="st">&quot;height&quot;</span>)</span>
<span id="cb1169-2"><a href="20-debuggage-performance.html#cb1169-2"></a><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>Sapristi, on obtient <code>NA</code> en résultat alors que notre variable <code>height</code> est bien numérique : on devrait donc obtenir la moyenne et l’écart-type. Comment expliquer ce résultat ?</p>
<p>Comme on n’a pas d’explication immédiate juste en relisant le code de notre fonction, on va ajouter temporairement une instruction <code>print()</code> qui va afficher le contenu de <code>valeurs</code> juste après qu’elle soit calculée.</p>
<div class="sourceCode" id="cb1170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1170-1"><a href="20-debuggage-performance.html#cb1170-1"></a>indicateurs &lt;-<span class="st"> </span><span class="cf">function</span>(df, var) {</span>
<span id="cb1170-2"><a href="20-debuggage-performance.html#cb1170-2"></a>    valeurs &lt;-<span class="st"> </span>df[, var]</span>
<span id="cb1170-3"><a href="20-debuggage-performance.html#cb1170-3"></a>    <span class="kw">print</span>(valeurs)</span>
<span id="cb1170-4"><a href="20-debuggage-performance.html#cb1170-4"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.numeric</span>(valeurs)) <span class="kw">return</span>(<span class="ot">NA</span>)</span>
<span id="cb1170-5"><a href="20-debuggage-performance.html#cb1170-5"></a>    <span class="kw">list</span>(</span>
<span id="cb1170-6"><a href="20-debuggage-performance.html#cb1170-6"></a>        <span class="dt">moyenne =</span> <span class="kw">mean</span>(valeurs, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb1170-7"><a href="20-debuggage-performance.html#cb1170-7"></a>        <span class="dt">sd =</span> <span class="kw">sd</span>(valeurs, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb1170-8"><a href="20-debuggage-performance.html#cb1170-8"></a>    )</span>
<span id="cb1170-9"><a href="20-debuggage-performance.html#cb1170-9"></a>}</span></code></pre></div>
<p>On lance cette fonction modifiée sur <code>starwars</code> :</p>
<div class="sourceCode" id="cb1171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1171-1"><a href="20-debuggage-performance.html#cb1171-1"></a><span class="kw">indicateurs</span>(starwars, <span class="st">&quot;height&quot;</span>)</span>
<span id="cb1171-2"><a href="20-debuggage-performance.html#cb1171-2"></a><span class="co">#&gt; # A tibble: 87 × 1</span></span>
<span id="cb1171-3"><a href="20-debuggage-performance.html#cb1171-3"></a><span class="co">#&gt;    height</span></span>
<span id="cb1171-4"><a href="20-debuggage-performance.html#cb1171-4"></a><span class="co">#&gt;     &lt;int&gt;</span></span>
<span id="cb1171-5"><a href="20-debuggage-performance.html#cb1171-5"></a><span class="co">#&gt;  1    172</span></span>
<span id="cb1171-6"><a href="20-debuggage-performance.html#cb1171-6"></a><span class="co">#&gt;  2    167</span></span>
<span id="cb1171-7"><a href="20-debuggage-performance.html#cb1171-7"></a><span class="co">#&gt;  3     96</span></span>
<span id="cb1171-8"><a href="20-debuggage-performance.html#cb1171-8"></a><span class="co">#&gt;  4    202</span></span>
<span id="cb1171-9"><a href="20-debuggage-performance.html#cb1171-9"></a><span class="co">#&gt;  5    150</span></span>
<span id="cb1171-10"><a href="20-debuggage-performance.html#cb1171-10"></a><span class="co">#&gt;  6    178</span></span>
<span id="cb1171-11"><a href="20-debuggage-performance.html#cb1171-11"></a><span class="co">#&gt;  7    165</span></span>
<span id="cb1171-12"><a href="20-debuggage-performance.html#cb1171-12"></a><span class="co">#&gt;  8     97</span></span>
<span id="cb1171-13"><a href="20-debuggage-performance.html#cb1171-13"></a><span class="co">#&gt;  9    183</span></span>
<span id="cb1171-14"><a href="20-debuggage-performance.html#cb1171-14"></a><span class="co">#&gt; 10    182</span></span>
<span id="cb1171-15"><a href="20-debuggage-performance.html#cb1171-15"></a><span class="co">#&gt; # … with 77 more rows</span></span>
<span id="cb1171-16"><a href="20-debuggage-performance.html#cb1171-16"></a><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>Le <code>print()</code> nous indique que <code>valeurs</code> n’est pas un vecteur mais un tableau de données à une seule colonne. Or dans ce cas, le test <code>is.numeric</code>, qui est sensé s’appliquer à un vecteur atomique, renvoie <code>FALSE</code>.</p>
<div class="sourceCode" id="cb1172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1172-1"><a href="20-debuggage-performance.html#cb1172-1"></a><span class="kw">is.numeric</span>(starwars[, <span class="st">&quot;height&quot;</span>])</span>
<span id="cb1172-2"><a href="20-debuggage-performance.html#cb1172-2"></a><span class="co">#&gt; [1] FALSE</span></span></code></pre></div>
<p>C’est donc la raison pour laquelle on obtient <code>NA</code> comme résultat.</p>
<p>Certes, mais alors pourquoi cela fonctionne-t-il dans notre exemple avec <code>hdv2003</code> ?</p>
<div class="sourceCode" id="cb1173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1173-1"><a href="20-debuggage-performance.html#cb1173-1"></a><span class="kw">indicateurs</span>(hdv2003, <span class="st">&quot;age&quot;</span>)</span>
<span id="cb1173-2"><a href="20-debuggage-performance.html#cb1173-2"></a><span class="co">#&gt;   [1] 28 23 59 34 71 35 60 47 20 28 65 47 63 67 76 49 62 20 70 39 30 30 37 79 20</span></span>
<span id="cb1173-3"><a href="20-debuggage-performance.html#cb1173-3"></a><span class="co">#&gt;  [26] 74 31 35 35 30 54 29 49 59 41 41 53 19 77 56 54 35 40 62 68 77 39 57 43 34</span></span>
<span id="cb1173-4"><a href="20-debuggage-performance.html#cb1173-4"></a><span class="co">#&gt;  [51] 60 41 54 23 26 23 74 60 23 57 55 71 39 56 54 27 40 42 44 41 30 48 59 46 33</span></span>
<span id="cb1173-5"><a href="20-debuggage-performance.html#cb1173-5"></a><span class="co">#&gt;  [76] 70 67 75 22 51 41 53 70 79 31 34 72 59 63 77 48 25 62 23 66 90 43 32 54 19</span></span>
<span id="cb1173-6"><a href="20-debuggage-performance.html#cb1173-6"></a><span class="co">#&gt; [101] 61 57 54 31 33 86 84 74 49 47 25 52 71 56 58 66 70 51 54 73 35 64 51 68 42</span></span>
<span id="cb1173-7"><a href="20-debuggage-performance.html#cb1173-7"></a><span class="co">#&gt; [126] 49 55 49 60 71 75 36 78 19 23 81 41 58 37 49 55 51 58 29 47 78 31 55 42 35</span></span>
<span id="cb1173-8"><a href="20-debuggage-performance.html#cb1173-8"></a><span class="co">#&gt; [151] 50 78 56 40 35 46 50 69 73 32 38 18 43 62 35 28 51 65 47 66 48 27 71 38 61</span></span>
<span id="cb1173-9"><a href="20-debuggage-performance.html#cb1173-9"></a><span class="co">#&gt; [176] 39 69 79 57 64 59 47 24 54 50 32 60 57 50 23 48 49 70 27 52 19 54 45 64 71</span></span>
<span id="cb1173-10"><a href="20-debuggage-performance.html#cb1173-10"></a><span class="co">#&gt;  [ reached getOption(&quot;max.print&quot;) -- omitted 1800 entries ]</span></span>
<span id="cb1173-11"><a href="20-debuggage-performance.html#cb1173-11"></a><span class="co">#&gt; $moyenne</span></span>
<span id="cb1173-12"><a href="20-debuggage-performance.html#cb1173-12"></a><span class="co">#&gt; [1] 48.157</span></span>
<span id="cb1173-13"><a href="20-debuggage-performance.html#cb1173-13"></a><span class="co">#&gt; </span></span>
<span id="cb1173-14"><a href="20-debuggage-performance.html#cb1173-14"></a><span class="co">#&gt; $sd</span></span>
<span id="cb1173-15"><a href="20-debuggage-performance.html#cb1173-15"></a><span class="co">#&gt; [1] 16.94181</span></span></code></pre></div>
<p>Ah ! Dans ce cas là <code>valeurs</code> est bien un vecteur, et on obtient donc le résultat attendu. Pourquoi cette différence ? On est en fait tombé sur une différence de comportement entre les <em>data frames</em> et les <em>tibbles</em>, mentionnée section <a href="16-structures-donnees.html#df-sel">16.3.3</a> : lorsqu’on sélectionne une seule colonne avec l’opérateur <code>[,]</code>, un <em>data frame</em> retourne un vecteur tandis qu’un <em>tibble</em> retourne un tableau à une colonne. Or, ici, <code>hdv2003</code> est un <em>data frame</em>, et <code>starwars</code> un <em>tibble</em>.</p>
<p>Comment résoudre ce problème ? Il y a différentes manières, mais la plus simple est sans doute de remplacer <code>[,]</code> par <code>[[]]</code>, qui lui a le même comportement dans les deux cas. On peut donc modifier notre fonction (en n’oubliant pas d’enlever le <code>print()</code>) et vérifier que ça fonctionne désormais.</p>
<div class="sourceCode" id="cb1174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1174-1"><a href="20-debuggage-performance.html#cb1174-1"></a>indicateurs &lt;-<span class="st"> </span><span class="cf">function</span>(df, var) {</span>
<span id="cb1174-2"><a href="20-debuggage-performance.html#cb1174-2"></a>    valeurs &lt;-<span class="st"> </span>df[[var]]</span>
<span id="cb1174-3"><a href="20-debuggage-performance.html#cb1174-3"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">is.numeric</span>(valeurs)) <span class="kw">return</span>(<span class="ot">NA</span>)</span>
<span id="cb1174-4"><a href="20-debuggage-performance.html#cb1174-4"></a>    <span class="kw">list</span>(</span>
<span id="cb1174-5"><a href="20-debuggage-performance.html#cb1174-5"></a>        <span class="dt">moyenne =</span> <span class="kw">mean</span>(valeurs, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb1174-6"><a href="20-debuggage-performance.html#cb1174-6"></a>        <span class="dt">sd =</span> <span class="kw">sd</span>(valeurs, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb1174-7"><a href="20-debuggage-performance.html#cb1174-7"></a>    )</span>
<span id="cb1174-8"><a href="20-debuggage-performance.html#cb1174-8"></a>}</span>
<span id="cb1174-9"><a href="20-debuggage-performance.html#cb1174-9"></a></span>
<span id="cb1174-10"><a href="20-debuggage-performance.html#cb1174-10"></a><span class="kw">indicateurs</span>(hdv2003, <span class="st">&quot;age&quot;</span>)</span>
<span id="cb1174-11"><a href="20-debuggage-performance.html#cb1174-11"></a><span class="co">#&gt; $moyenne</span></span>
<span id="cb1174-12"><a href="20-debuggage-performance.html#cb1174-12"></a><span class="co">#&gt; [1] 48.157</span></span>
<span id="cb1174-13"><a href="20-debuggage-performance.html#cb1174-13"></a><span class="co">#&gt; </span></span>
<span id="cb1174-14"><a href="20-debuggage-performance.html#cb1174-14"></a><span class="co">#&gt; $sd</span></span>
<span id="cb1174-15"><a href="20-debuggage-performance.html#cb1174-15"></a><span class="co">#&gt; [1] 16.94181</span></span>
<span id="cb1174-16"><a href="20-debuggage-performance.html#cb1174-16"></a><span class="kw">indicateurs</span>(starwars, <span class="st">&quot;height&quot;</span>)</span>
<span id="cb1174-17"><a href="20-debuggage-performance.html#cb1174-17"></a><span class="co">#&gt; $moyenne</span></span>
<span id="cb1174-18"><a href="20-debuggage-performance.html#cb1174-18"></a><span class="co">#&gt; [1] 174.358</span></span>
<span id="cb1174-19"><a href="20-debuggage-performance.html#cb1174-19"></a><span class="co">#&gt; </span></span>
<span id="cb1174-20"><a href="20-debuggage-performance.html#cb1174-20"></a><span class="co">#&gt; $sd</span></span>
<span id="cb1174-21"><a href="20-debuggage-performance.html#cb1174-21"></a><span class="co">#&gt; [1] 34.77043</span></span></code></pre></div>
<div class="rmdimportant">
<p>
Quand on ajoute des <code>print()</code> pour essayer d’identifier un problème, il faut bien penser à les supprimer une fois ce problème résolu, sinon on risque de se retrouver avec des messages “parasites” dans la console.
</p>
</div>
</div>
<div id="localiser-une-erreur" class="section level3">
<h3><span class="header-section-number">20.1.2</span> Localiser une erreur</h3>
<p><code>print()</code> peut aussi être utile pour savoir à quel moment une erreur se produit, notamment lorsqu’on utilise une boucle.</p>
<p>Dans l’exemple suivant, on crée une fonction <code>min_freq_values()</code> qui prend en argument un tableau de données <code>df</code> et un effectif <code>n_min</code> et retourne une liste des modalités de variables qui apparaissent dans au moins <code>n_min</code> lignes de <code>df</code> (on utilise ici une boucle <code>for</code>, mais on aurait aussi pu utiliser <code>map()</code>).</p>
<div class="sourceCode" id="cb1175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1175-1"><a href="20-debuggage-performance.html#cb1175-1"></a>min_freq_values &lt;-<span class="st"> </span><span class="cf">function</span>(df, n_min) {</span>
<span id="cb1175-2"><a href="20-debuggage-performance.html#cb1175-2"></a>    res &lt;-<span class="st"> </span><span class="kw">list</span>()</span>
<span id="cb1175-3"><a href="20-debuggage-performance.html#cb1175-3"></a>    <span class="cf">for</span> (col <span class="cf">in</span> <span class="kw">names</span>(df)) {</span>
<span id="cb1175-4"><a href="20-debuggage-performance.html#cb1175-4"></a>        <span class="co"># Tri à plat des valeurs de la colonne</span></span>
<span id="cb1175-5"><a href="20-debuggage-performance.html#cb1175-5"></a>        freq &lt;-<span class="st"> </span><span class="kw">table</span>(df[[col]])</span>
<span id="cb1175-6"><a href="20-debuggage-performance.html#cb1175-6"></a>        <span class="co"># On conserve les modalités avec effectif &gt;= n</span></span>
<span id="cb1175-7"><a href="20-debuggage-performance.html#cb1175-7"></a>        freq &lt;-<span class="st"> </span>freq[freq <span class="op">&gt;=</span><span class="st"> </span>n_min]</span>
<span id="cb1175-8"><a href="20-debuggage-performance.html#cb1175-8"></a>        <span class="co"># On ajoute la colonne au résultat s&#39;il y a au moins une modalité</span></span>
<span id="cb1175-9"><a href="20-debuggage-performance.html#cb1175-9"></a>        <span class="cf">if</span> (<span class="kw">length</span>(freq) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) res[[col]] &lt;-<span class="st"> </span>freq</span>
<span id="cb1175-10"><a href="20-debuggage-performance.html#cb1175-10"></a>    }</span>
<span id="cb1175-11"><a href="20-debuggage-performance.html#cb1175-11"></a>    res</span>
<span id="cb1175-12"><a href="20-debuggage-performance.html#cb1175-12"></a>}</span></code></pre></div>
<p>Si on applique <code>min_freq_values()</code> à <code>hdv2003</code> avec une valeur de <code>n</code> à 1500, on obtient toutes les modalités correspondant à au moins 1500 observations.</p>
<div class="sourceCode" id="cb1176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1176-1"><a href="20-debuggage-performance.html#cb1176-1"></a><span class="kw">min_freq_values</span>(hdv2003, <span class="dv">1500</span>)</span>
<span id="cb1176-2"><a href="20-debuggage-performance.html#cb1176-2"></a><span class="co">#&gt; $hard.rock</span></span>
<span id="cb1176-3"><a href="20-debuggage-performance.html#cb1176-3"></a><span class="co">#&gt;  Non </span></span>
<span id="cb1176-4"><a href="20-debuggage-performance.html#cb1176-4"></a><span class="co">#&gt; 1986 </span></span>
<span id="cb1176-5"><a href="20-debuggage-performance.html#cb1176-5"></a><span class="co">#&gt; </span></span>
<span id="cb1176-6"><a href="20-debuggage-performance.html#cb1176-6"></a><span class="co">#&gt; $lecture.bd</span></span>
<span id="cb1176-7"><a href="20-debuggage-performance.html#cb1176-7"></a><span class="co">#&gt;  Non </span></span>
<span id="cb1176-8"><a href="20-debuggage-performance.html#cb1176-8"></a><span class="co">#&gt; 1953 </span></span>
<span id="cb1176-9"><a href="20-debuggage-performance.html#cb1176-9"></a><span class="co">#&gt; </span></span>
<span id="cb1176-10"><a href="20-debuggage-performance.html#cb1176-10"></a><span class="co">#&gt; $peche.chasse</span></span>
<span id="cb1176-11"><a href="20-debuggage-performance.html#cb1176-11"></a><span class="co">#&gt;  Non </span></span>
<span id="cb1176-12"><a href="20-debuggage-performance.html#cb1176-12"></a><span class="co">#&gt; 1776</span></span></code></pre></div>
<p>Essayons maintenant d’appliquer <code>min_freq_values()</code> au jeu de données <code>starwars</code> de <code>dplyr</code>.</p>
<div class="sourceCode" id="cb1177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1177-1"><a href="20-debuggage-performance.html#cb1177-1"></a><span class="kw">min_freq_values</span>(starwars, <span class="dv">50</span>)</span>
<span id="cb1177-2"><a href="20-debuggage-performance.html#cb1177-2"></a><span class="co">#&gt; Error in table(df[[col]]): tous les arguments doivent avoir la même longueur</span></span></code></pre></div>
<p>On obtient un message quelque peu sybillin : apparemment une erreur se produit au moment de faire le tri à plat des valeurs avec <code>table()</code>. Mais comme ce tri à plat s’effectue dans une boucle, on ne sait pas quelle variable de <code>starwars</code> est à l’origine du problème.</p>
<p>On va donc rajouter un <code>print(col)</code> comme première instruction de la boucle <code>for</code>.</p>
<div class="sourceCode" id="cb1178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1178-1"><a href="20-debuggage-performance.html#cb1178-1"></a>min_freq_values &lt;-<span class="st"> </span><span class="cf">function</span>(df, n_min) {</span>
<span id="cb1178-2"><a href="20-debuggage-performance.html#cb1178-2"></a>    res &lt;-<span class="st"> </span><span class="kw">list</span>()</span>
<span id="cb1178-3"><a href="20-debuggage-performance.html#cb1178-3"></a>    <span class="cf">for</span> (col <span class="cf">in</span> <span class="kw">names</span>(df)) {</span>
<span id="cb1178-4"><a href="20-debuggage-performance.html#cb1178-4"></a>        <span class="kw">print</span>(col)</span>
<span id="cb1178-5"><a href="20-debuggage-performance.html#cb1178-5"></a>        <span class="co"># Tri à plat des valeurs de la colonne</span></span>
<span id="cb1178-6"><a href="20-debuggage-performance.html#cb1178-6"></a>        freq &lt;-<span class="st"> </span><span class="kw">table</span>(df[[col]])</span>
<span id="cb1178-7"><a href="20-debuggage-performance.html#cb1178-7"></a>        <span class="co"># On conserve les modalités avec effectif &gt;= n</span></span>
<span id="cb1178-8"><a href="20-debuggage-performance.html#cb1178-8"></a>        freq &lt;-<span class="st"> </span>freq[freq <span class="op">&gt;=</span><span class="st"> </span>n_min]</span>
<span id="cb1178-9"><a href="20-debuggage-performance.html#cb1178-9"></a>        <span class="co"># On ajoute la colonne au résultat s&#39;il y a au moins une modalité</span></span>
<span id="cb1178-10"><a href="20-debuggage-performance.html#cb1178-10"></a>        <span class="cf">if</span> (<span class="kw">length</span>(freq) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) res[[col]] &lt;-<span class="st"> </span>freq</span>
<span id="cb1178-11"><a href="20-debuggage-performance.html#cb1178-11"></a>    }</span>
<span id="cb1178-12"><a href="20-debuggage-performance.html#cb1178-12"></a>    res</span>
<span id="cb1178-13"><a href="20-debuggage-performance.html#cb1178-13"></a>}</span>
<span id="cb1178-14"><a href="20-debuggage-performance.html#cb1178-14"></a></span>
<span id="cb1178-15"><a href="20-debuggage-performance.html#cb1178-15"></a><span class="kw">min_freq_values</span>(starwars, <span class="dv">50</span>)</span>
<span id="cb1178-16"><a href="20-debuggage-performance.html#cb1178-16"></a><span class="co">#&gt; [1] &quot;name&quot;</span></span>
<span id="cb1178-17"><a href="20-debuggage-performance.html#cb1178-17"></a><span class="co">#&gt; [1] &quot;height&quot;</span></span>
<span id="cb1178-18"><a href="20-debuggage-performance.html#cb1178-18"></a><span class="co">#&gt; [1] &quot;mass&quot;</span></span>
<span id="cb1178-19"><a href="20-debuggage-performance.html#cb1178-19"></a><span class="co">#&gt; [1] &quot;hair_color&quot;</span></span>
<span id="cb1178-20"><a href="20-debuggage-performance.html#cb1178-20"></a><span class="co">#&gt; [1] &quot;skin_color&quot;</span></span>
<span id="cb1178-21"><a href="20-debuggage-performance.html#cb1178-21"></a><span class="co">#&gt; [1] &quot;eye_color&quot;</span></span>
<span id="cb1178-22"><a href="20-debuggage-performance.html#cb1178-22"></a><span class="co">#&gt; [1] &quot;birth_year&quot;</span></span>
<span id="cb1178-23"><a href="20-debuggage-performance.html#cb1178-23"></a><span class="co">#&gt; [1] &quot;sex&quot;</span></span>
<span id="cb1178-24"><a href="20-debuggage-performance.html#cb1178-24"></a><span class="co">#&gt; [1] &quot;gender&quot;</span></span>
<span id="cb1178-25"><a href="20-debuggage-performance.html#cb1178-25"></a><span class="co">#&gt; [1] &quot;homeworld&quot;</span></span>
<span id="cb1178-26"><a href="20-debuggage-performance.html#cb1178-26"></a><span class="co">#&gt; [1] &quot;species&quot;</span></span>
<span id="cb1178-27"><a href="20-debuggage-performance.html#cb1178-27"></a><span class="co">#&gt; [1] &quot;films&quot;</span></span>
<span id="cb1178-28"><a href="20-debuggage-performance.html#cb1178-28"></a><span class="co">#&gt; Error in table(df[[col]]): tous les arguments doivent avoir la même longueur</span></span></code></pre></div>
<p>Ce <code>print(col)</code> nous permet de voir que tout se passe bien pour les premières variables du tableau, et que l’erreur survient au moment de traiter la variable <code>films</code>. On regarde donc à quoi ressemble cette variable.</p>
<div class="sourceCode" id="cb1179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1179-1"><a href="20-debuggage-performance.html#cb1179-1"></a><span class="kw">head</span>(starwars<span class="op">$</span>films, <span class="dv">3</span>)</span>
<span id="cb1179-2"><a href="20-debuggage-performance.html#cb1179-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb1179-3"><a href="20-debuggage-performance.html#cb1179-3"></a><span class="co">#&gt; [1] &quot;The Empire Strikes Back&quot; &quot;Revenge of the Sith&quot;    </span></span>
<span id="cb1179-4"><a href="20-debuggage-performance.html#cb1179-4"></a><span class="co">#&gt; [3] &quot;Return of the Jedi&quot;      &quot;A New Hope&quot;             </span></span>
<span id="cb1179-5"><a href="20-debuggage-performance.html#cb1179-5"></a><span class="co">#&gt; [5] &quot;The Force Awakens&quot;      </span></span>
<span id="cb1179-6"><a href="20-debuggage-performance.html#cb1179-6"></a><span class="co">#&gt; </span></span>
<span id="cb1179-7"><a href="20-debuggage-performance.html#cb1179-7"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb1179-8"><a href="20-debuggage-performance.html#cb1179-8"></a><span class="co">#&gt; [1] &quot;The Empire Strikes Back&quot; &quot;Attack of the Clones&quot;   </span></span>
<span id="cb1179-9"><a href="20-debuggage-performance.html#cb1179-9"></a><span class="co">#&gt; [3] &quot;The Phantom Menace&quot;      &quot;Revenge of the Sith&quot;    </span></span>
<span id="cb1179-10"><a href="20-debuggage-performance.html#cb1179-10"></a><span class="co">#&gt; [5] &quot;Return of the Jedi&quot;      &quot;A New Hope&quot;             </span></span>
<span id="cb1179-11"><a href="20-debuggage-performance.html#cb1179-11"></a><span class="co">#&gt; </span></span>
<span id="cb1179-12"><a href="20-debuggage-performance.html#cb1179-12"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb1179-13"><a href="20-debuggage-performance.html#cb1179-13"></a><span class="co">#&gt; [1] &quot;The Empire Strikes Back&quot; &quot;Attack of the Clones&quot;   </span></span>
<span id="cb1179-14"><a href="20-debuggage-performance.html#cb1179-14"></a><span class="co">#&gt; [3] &quot;The Phantom Menace&quot;      &quot;Revenge of the Sith&quot;    </span></span>
<span id="cb1179-15"><a href="20-debuggage-performance.html#cb1179-15"></a><span class="co">#&gt; [5] &quot;Return of the Jedi&quot;      &quot;A New Hope&quot;             </span></span>
<span id="cb1179-16"><a href="20-debuggage-performance.html#cb1179-16"></a><span class="co">#&gt; [7] &quot;The Force Awakens&quot;</span></span></code></pre></div>
<p><em>Damn</em>, cette variable n’est pas un vecteur atomique mais une liste ! Un tableau de données peut en effet contenir ce que l’on appelle des <em>colonnes-listes</em>. Comme ça n’est pas courant, on ne l’avait clairement pas prévu au moment de la création de la fonction.</p>
<p>On a désormais identifié le problème, on peut donc le corriger par exemple en ignorant les colonnes de type liste. Pour cela on utilise <code>is.list()</code> et l’instruction <code>next</code>.</p>
<div class="sourceCode" id="cb1180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1180-1"><a href="20-debuggage-performance.html#cb1180-1"></a>min_freq_values &lt;-<span class="st"> </span><span class="cf">function</span>(df, n_min) {</span>
<span id="cb1180-2"><a href="20-debuggage-performance.html#cb1180-2"></a>    res &lt;-<span class="st"> </span><span class="kw">list</span>()</span>
<span id="cb1180-3"><a href="20-debuggage-performance.html#cb1180-3"></a>    <span class="cf">for</span> (col <span class="cf">in</span> <span class="kw">names</span>(df)) {</span>
<span id="cb1180-4"><a href="20-debuggage-performance.html#cb1180-4"></a>        <span class="co"># On passe à la colonne suivante si la colonne est une colonne-liste</span></span>
<span id="cb1180-5"><a href="20-debuggage-performance.html#cb1180-5"></a>        <span class="cf">if</span> (<span class="kw">is.list</span>(df[[col]])) <span class="cf">next</span></span>
<span id="cb1180-6"><a href="20-debuggage-performance.html#cb1180-6"></a>        <span class="co"># Tri à plat des valeurs de la colonne</span></span>
<span id="cb1180-7"><a href="20-debuggage-performance.html#cb1180-7"></a>        freq &lt;-<span class="st"> </span><span class="kw">table</span>(df[[col]])</span>
<span id="cb1180-8"><a href="20-debuggage-performance.html#cb1180-8"></a>        <span class="co"># On conserve les modalités avec effectif &gt;= n</span></span>
<span id="cb1180-9"><a href="20-debuggage-performance.html#cb1180-9"></a>        freq &lt;-<span class="st"> </span>freq[freq <span class="op">&gt;=</span><span class="st"> </span>n_min]</span>
<span id="cb1180-10"><a href="20-debuggage-performance.html#cb1180-10"></a>        <span class="co"># On ajoute la colonne au résultat s&#39;il y a au moins une modalité</span></span>
<span id="cb1180-11"><a href="20-debuggage-performance.html#cb1180-11"></a>        <span class="cf">if</span> (<span class="kw">length</span>(freq) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) res[[col]] &lt;-<span class="st"> </span>freq</span>
<span id="cb1180-12"><a href="20-debuggage-performance.html#cb1180-12"></a>    }</span>
<span id="cb1180-13"><a href="20-debuggage-performance.html#cb1180-13"></a>    res</span>
<span id="cb1180-14"><a href="20-debuggage-performance.html#cb1180-14"></a>}</span>
<span id="cb1180-15"><a href="20-debuggage-performance.html#cb1180-15"></a></span>
<span id="cb1180-16"><a href="20-debuggage-performance.html#cb1180-16"></a><span class="kw">min_freq_values</span>(starwars, <span class="dv">50</span>)</span>
<span id="cb1180-17"><a href="20-debuggage-performance.html#cb1180-17"></a><span class="co">#&gt; $sex</span></span>
<span id="cb1180-18"><a href="20-debuggage-performance.html#cb1180-18"></a><span class="co">#&gt; male </span></span>
<span id="cb1180-19"><a href="20-debuggage-performance.html#cb1180-19"></a><span class="co">#&gt;   60 </span></span>
<span id="cb1180-20"><a href="20-debuggage-performance.html#cb1180-20"></a><span class="co">#&gt; </span></span>
<span id="cb1180-21"><a href="20-debuggage-performance.html#cb1180-21"></a><span class="co">#&gt; $gender</span></span>
<span id="cb1180-22"><a href="20-debuggage-performance.html#cb1180-22"></a><span class="co">#&gt; masculine </span></span>
<span id="cb1180-23"><a href="20-debuggage-performance.html#cb1180-23"></a><span class="co">#&gt;        66</span></span></code></pre></div>
<p>Ça fonctionne ! Et cela nous permet de repérer au passage une “légère” sur-représentation des personnages masculins…</p>
</div>
<div id="browser" class="section level3">
<h3><span class="header-section-number">20.1.3</span> browser()</h3>
<p>Il existe des alternatives à <code>print()</code> plus efficaces pour identifier et résoudre des bugs. La plus utilisée est la fonction <code>browser()</code> : celle-ci peut s’insérer à n’importe quel endroit du code, et lorsqu’elle est rencontrée par R celui-ci s’interrompt et affiche une invite de commande permettant notamment d’inspecter des objets.</p>
<p>On reprend l’exemple précédent en remplaçant le <code>print(col)</code> que nous avions inséré pour débugguer la fonction <code>min_freq_values</code> par un appel à <code>browser()</code>.</p>
<div class="sourceCode" id="cb1181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1181-1"><a href="20-debuggage-performance.html#cb1181-1"></a>min_freq_values &lt;-<span class="st"> </span><span class="cf">function</span>(df, n_min) {</span>
<span id="cb1181-2"><a href="20-debuggage-performance.html#cb1181-2"></a>    res &lt;-<span class="st"> </span><span class="kw">list</span>()</span>
<span id="cb1181-3"><a href="20-debuggage-performance.html#cb1181-3"></a>    <span class="cf">for</span> (col <span class="cf">in</span> <span class="kw">names</span>(df)) {</span>
<span id="cb1181-4"><a href="20-debuggage-performance.html#cb1181-4"></a>        <span class="kw">browser</span>()</span>
<span id="cb1181-5"><a href="20-debuggage-performance.html#cb1181-5"></a>        <span class="co"># Tri à plat des valeurs de la colonne</span></span>
<span id="cb1181-6"><a href="20-debuggage-performance.html#cb1181-6"></a>        freq &lt;-<span class="st"> </span><span class="kw">table</span>(df[[col]])</span>
<span id="cb1181-7"><a href="20-debuggage-performance.html#cb1181-7"></a>        <span class="co"># On conserve les modalités avec effectif &gt;= n</span></span>
<span id="cb1181-8"><a href="20-debuggage-performance.html#cb1181-8"></a>        freq &lt;-<span class="st"> </span>freq[freq <span class="op">&gt;=</span><span class="st"> </span>n_min]</span>
<span id="cb1181-9"><a href="20-debuggage-performance.html#cb1181-9"></a>        <span class="co"># On ajoute la colonne au résultat s&#39;il y a au moins une modalité</span></span>
<span id="cb1181-10"><a href="20-debuggage-performance.html#cb1181-10"></a>        <span class="cf">if</span> (<span class="kw">length</span>(freq) <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) res[[col]] &lt;-<span class="st"> </span>freq</span>
<span id="cb1181-11"><a href="20-debuggage-performance.html#cb1181-11"></a>    }</span>
<span id="cb1181-12"><a href="20-debuggage-performance.html#cb1181-12"></a>    res</span>
<span id="cb1181-13"><a href="20-debuggage-performance.html#cb1181-13"></a>}</span>
<span id="cb1181-14"><a href="20-debuggage-performance.html#cb1181-14"></a></span>
<span id="cb1181-15"><a href="20-debuggage-performance.html#cb1181-15"></a><span class="kw">min_freq_values</span>(starwars, <span class="dv">50</span>)</span></code></pre></div>
<p>Lorsqu’on lance ce code, R s’interrompt et affiche l’invite de commande suivant :</p>
<pre><code>Called from: min_freq_values(starwars, 50)

Browse[1]&gt;</code></pre>
<p>Cette invite de commande offre plusieurs possibilités. La première est d’indiquer du code R qui sera exécuté dans le contexte au moment de l’interruption : si on indique un nom d’objet, on pourra donc afficher sa valeur. Ainsi, si on tape <code>col</code>, R nous affiche la valeur actuelle de <code>col</code>, donc au moment de la première itération de la boucle.</p>
<pre><code>Browse[1]&gt; col                                       
[1] &quot;name&quot;</code></pre>
<p>On peut également fournir des commandes spécifiques : si on tape <code>n</code>, R va passer à l’instruction suivante puis s’interrompre à nouveau<a href="#fn37" class="footnote-ref" id="fnref37"><sup>37</sup></a>.</p>
<pre><code>Browse[1]&gt; n                                           
debug à #6 : freq &lt;- table(df[[col]])</code></pre>
<p>Si on tape <code>c</code>, R va relancer l’exécution jusqu’à la fin, ou jusqu’à la prochaine rencontre d’un <code>browser()</code>. Dans notre cas, cela signifie qu’on va continuer jusqu’au <code>browser()</code> de la deuxième itération de la boucle.</p>
<pre><code>Browse[2]&gt; c                                           
Called from: min_freq_values(starwars, 50)

Browse[1]&gt; col                                         
[1] &quot;height&quot;</code></pre>
<p>Si on souhaite sortir de cette invite de commande et tout interrompre, il suffit de taper <code>Q</code>.</p>
<p><code>browser()</code> est donc un peu plus complexe à utiliser que des <code>print()</code> ajoutés manuellement, mais c’est aussi un outil plus souple et plus puissant.</p>
<div class="rmdnote">
<p>
Cette section n’offre qu’un petit aperçu des possibilités de débuggage. R propose d’autres fonctionnalités, et les environnements de développement comme RStudio ou Visual Studio Code proposent également leurs propres outils.
</p>
<p>
Pour plus d’informations on pourra se reporter aux ressources en fin de chapitre.
</p>
</div>
</div>
</div>
<div id="benchmarking-mesurer-et-comparer-les-temps-dexécution" class="section level2">
<h2><span class="header-section-number">20.2</span> benchmarking : mesurer et comparer les temps d’exécution</h2>
<p>Lorsqu’on commence à créer ses propres fonctions et de manière générale à écrire du code de plus en plus complexe ou à travailler sur des données de plus en plus volumineuses, on peut arriver sur des problèmes de performance : les temps d’exécution deviennent longs et on aimerait essayer de les optimiser.</p>
<p>Il est alors parfois utile de faire du <em>benchmarking</em>, c’est-à-dire comparer plusieurs manières différentes de faire la même chose en mesurant leurs différences de vitesse d’exécution.</p>
<p>L’intruction la plus simple pour cela est sans doute <code>system.time()</code>. Celle-ci prend en argument une expression R, et affiche en retour le temps d’exécution en secondes.</p>
<div class="sourceCode" id="cb1186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1186-1"><a href="20-debuggage-performance.html#cb1186-1"></a><span class="kw">system.time</span>(<span class="kw">runif</span>(<span class="dv">1000000</span>))</span>
<span id="cb1186-2"><a href="20-debuggage-performance.html#cb1186-2"></a><span class="co">#&gt; utilisateur     système      écoulé </span></span>
<span id="cb1186-3"><a href="20-debuggage-performance.html#cb1186-3"></a><span class="co">#&gt;       0.027       0.000       0.027</span></span></code></pre></div>
<p>L’expression peut comporter plusieurs instructions, dans ce cas on les entoure d’accolades.</p>
<div class="sourceCode" id="cb1187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1187-1"><a href="20-debuggage-performance.html#cb1187-1"></a><span class="kw">system.time</span>({</span>
<span id="cb1187-2"><a href="20-debuggage-performance.html#cb1187-2"></a>    v &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">1000000</span>)</span>
<span id="cb1187-3"><a href="20-debuggage-performance.html#cb1187-3"></a>    moy &lt;-<span class="st"> </span><span class="kw">mean</span>(v)</span>
<span id="cb1187-4"><a href="20-debuggage-performance.html#cb1187-4"></a>})</span>
<span id="cb1187-5"><a href="20-debuggage-performance.html#cb1187-5"></a><span class="co">#&gt; utilisateur     système      écoulé </span></span>
<span id="cb1187-6"><a href="20-debuggage-performance.html#cb1187-6"></a><span class="co">#&gt;       0.034       0.000       0.034</span></span></code></pre></div>
<p><code>system.time()</code> est cependant très limitée : on ne peut exécuter qu’une expression à la fois, on ne peut donc pas en comparer plusieurs directement, et surtout le temps d’exécution peut varier assez sensiblement selon l’utilisation du processeur de la machine au moment où on lance la commande.</p>
<p>Il existe donc en complément plusieurs extensions dédiées au <em>benchmarking</em>. On va utiliser ici l’extension <a href="https://bench.r-lib.org/">bench</a>, installable avec :</p>
<div class="sourceCode" id="cb1188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1188-1"><a href="20-debuggage-performance.html#cb1188-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;bench&quot;</span>)</span></code></pre></div>
<p><code>bench</code> propose une fonction principale, nommée <code>mark()</code>, qu’on peut donc appeler directement avec <code>bench::mark()</code><a href="#fn38" class="footnote-ref" id="fnref38"><sup>38</sup></a>. On passe à cette fonction plusieurs expressions, et <code>bench::mark()</code> va effectuer les actions suivante :</p>
<ul>
<li>elle vérifie que les expressions retournent bien le même résultat (si on souhaite comparer des expressions qui renvoient des résultats différents, il faut ajouter l’argument <code>check = FALSE</code>)</li>
<li>elle lance chacune de ces expressions plusieurs fois et mesure à chaque fois leur temps d’exécution</li>
<li>elle affiche un résumé de ces temps d’exécution en indiquant notamment leur minimum et leur médiane</li>
</ul>
<p>Exécuter chaque expression plusieurs fois permet de prendre en compte les fluctuations liées à l’activité du processeur de la machine. Par défaut, <code>bench::mark()</code> exécute chaque instruction au minimum une fois et au moins suffisamment de fois pour atteindre 0,5s d’exécution (ces valeurs peuvent être modifiées via les paramètres <code>min_iterations</code> et <code>min_time</code>).</p>
<p>Dans l’exemple suivant, on crée deux fonctions qui font la même chose : ajouter 10 à tous les éléments d’un vecteur passé en argument. Dans la première fonction <code>plus10_for</code> on utilise une boucle <code>for</code> qui ajoute 10 à tous les éléments l’un après l’autre (ce qu’il ne faut évidemment pas faire !), tandis que la deuxième fonction <code>plus10_vec</code> utilise la forme vectorisée <code>x + 10</code>.</p>
<div class="sourceCode" id="cb1189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1189-1"><a href="20-debuggage-performance.html#cb1189-1"></a>plus10_for &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb1189-2"><a href="20-debuggage-performance.html#cb1189-2"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">seq_along</span>(x)) {</span>
<span id="cb1189-3"><a href="20-debuggage-performance.html#cb1189-3"></a>        x[i] &lt;-<span class="st"> </span>x[i] <span class="op">+</span><span class="st"> </span><span class="dv">10</span></span>
<span id="cb1189-4"><a href="20-debuggage-performance.html#cb1189-4"></a>    }</span>
<span id="cb1189-5"><a href="20-debuggage-performance.html#cb1189-5"></a>    x</span>
<span id="cb1189-6"><a href="20-debuggage-performance.html#cb1189-6"></a>}</span>
<span id="cb1189-7"><a href="20-debuggage-performance.html#cb1189-7"></a></span>
<span id="cb1189-8"><a href="20-debuggage-performance.html#cb1189-8"></a>plus10_vec &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb1189-9"><a href="20-debuggage-performance.html#cb1189-9"></a>    x <span class="op">+</span><span class="st"> </span><span class="dv">10</span></span>
<span id="cb1189-10"><a href="20-debuggage-performance.html#cb1189-10"></a>}</span></code></pre></div>
<p>On lance un benchmark avec <code>bench::mark()</code> et on stocke le résultat dans un objet.</p>
<div class="sourceCode" id="cb1190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1190-1"><a href="20-debuggage-performance.html#cb1190-1"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10000</span></span>
<span id="cb1190-2"><a href="20-debuggage-performance.html#cb1190-2"></a>bnch &lt;-<span class="st"> </span>bench<span class="op">::</span><span class="kw">mark</span>(</span>
<span id="cb1190-3"><a href="20-debuggage-performance.html#cb1190-3"></a>    <span class="kw">plus10_for</span>(x),</span>
<span id="cb1190-4"><a href="20-debuggage-performance.html#cb1190-4"></a>    <span class="kw">plus10_vec</span>(x)</span>
<span id="cb1190-5"><a href="20-debuggage-performance.html#cb1190-5"></a>)</span></code></pre></div>
<p>On affiche les résultats obtenus :</p>
<div class="sourceCode" id="cb1191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1191-1"><a href="20-debuggage-performance.html#cb1191-1"></a>bnch</span>
<span id="cb1191-2"><a href="20-debuggage-performance.html#cb1191-2"></a><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span id="cb1191-3"><a href="20-debuggage-performance.html#cb1191-3"></a><span class="co">#&gt;   expression         min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb1191-4"><a href="20-debuggage-performance.html#cb1191-4"></a><span class="co">#&gt;   &lt;bch:expr&gt;    &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span id="cb1191-5"><a href="20-debuggage-performance.html#cb1191-5"></a><span class="co">#&gt; 1 plus10_for(x)  662.7µs  688.7µs     1351.    97.6KB      0  </span></span>
<span id="cb1191-6"><a href="20-debuggage-performance.html#cb1191-6"></a><span class="co">#&gt; 2 plus10_vec(x)   13.7µs   15.9µs    54475.   117.3KB     16.3</span></span></code></pre></div>
<p>La colonne la plus importante est sans doute la colonne <code>median</code>, qui affiche le temps médian d’exécution des deux expressions. Attention, l’unité de temps n’est pas forcément la même, ici l’exécution de <code>plus10_for</code> est affichée en millisecondes (“ms”), tandis que celle de <code>plus10_vec</code> l’est en microsecondes (“µs”) donc avec une unité mille fois plus petite.</p>
<p>Si on préfère, on peut afficher les performances relatives des deux fonctions avec :</p>
<div class="sourceCode" id="cb1192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1192-1"><a href="20-debuggage-performance.html#cb1192-1"></a><span class="kw">summary</span>(bnch, <span class="dt">relative =</span> <span class="ot">TRUE</span>)</span>
<span id="cb1192-2"><a href="20-debuggage-performance.html#cb1192-2"></a><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span id="cb1192-3"><a href="20-debuggage-performance.html#cb1192-3"></a><span class="co">#&gt;   expression      min median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb1192-4"><a href="20-debuggage-performance.html#cb1192-4"></a><span class="co">#&gt;   &lt;bch:expr&gt;    &lt;dbl&gt;  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb1192-5"><a href="20-debuggage-performance.html#cb1192-5"></a><span class="co">#&gt; 1 plus10_for(x)  48.4   43.3       1        1         NaN</span></span>
<span id="cb1192-6"><a href="20-debuggage-performance.html#cb1192-6"></a><span class="co">#&gt; 2 plus10_vec(x)   1      1        40.3      1.20      Inf</span></span></code></pre></div>
<p>Ces résultats nous permettent de voir que la version <code>vec</code> est très nettement plus rapide que la version <code>for</code> ! Ce qui confirme le fait qu’il faut toujours prioriser l’utilisation de fonctions vectorisées lorsqu’elles existent.</p>
<p>On prend un second exemple : on souhaite mesurer si l’utilisation de <code>map</code> est plus rapide ou non qu’une boucle <code>for</code> pour une tâche équivalente.</p>
<p>Pour cela on commence par créer artificiellement une liste de 200 tableaux de données en dupliquant 100 fois une liste composée des tableaux <code>rp2012</code> et <code>hdv2003</code>.</p>
<div class="sourceCode" id="cb1193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1193-1"><a href="20-debuggage-performance.html#cb1193-1"></a>dfs &lt;-<span class="st"> </span><span class="kw">list</span>(rp2012, hdv2003)</span>
<span id="cb1193-2"><a href="20-debuggage-performance.html#cb1193-2"></a>dfs &lt;-<span class="st"> </span><span class="kw">rep</span>(dfs, <span class="dv">100</span>)</span></code></pre></div>
<p>Puis on lance un benchmark sur une boucle <code>for</code> et un <code>map</code> qui retournent chacun les nombres de ligne des 200 tableaux. Cette-fois on ne crée pas de fonctions : on passe le code directement à <code>bench::mark()</code>, avec des noms permettant de les identifier plus facilement dans les résultats.</p>
<div class="sourceCode" id="cb1194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1194-1"><a href="20-debuggage-performance.html#cb1194-1"></a>bench<span class="op">::</span><span class="kw">mark</span>(</span>
<span id="cb1194-2"><a href="20-debuggage-performance.html#cb1194-2"></a>    <span class="dt">boucle_for =</span> {</span>
<span id="cb1194-3"><a href="20-debuggage-performance.html#cb1194-3"></a>        res &lt;-<span class="st"> </span><span class="kw">list</span>()</span>
<span id="cb1194-4"><a href="20-debuggage-performance.html#cb1194-4"></a>        <span class="cf">for</span> (df <span class="cf">in</span> dfs) {</span>
<span id="cb1194-5"><a href="20-debuggage-performance.html#cb1194-5"></a>            res &lt;-<span class="st"> </span><span class="kw">c</span>(res, <span class="kw">nrow</span>(df))</span>
<span id="cb1194-6"><a href="20-debuggage-performance.html#cb1194-6"></a>        }</span>
<span id="cb1194-7"><a href="20-debuggage-performance.html#cb1194-7"></a>        res</span>
<span id="cb1194-8"><a href="20-debuggage-performance.html#cb1194-8"></a>    },</span>
<span id="cb1194-9"><a href="20-debuggage-performance.html#cb1194-9"></a>    <span class="dt">map =</span> <span class="kw">map</span>(dfs, <span class="op">~</span><span class="st"> </span><span class="kw">nrow</span>(.x) )</span>
<span id="cb1194-10"><a href="20-debuggage-performance.html#cb1194-10"></a>)</span>
<span id="cb1194-11"><a href="20-debuggage-performance.html#cb1194-11"></a><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span id="cb1194-12"><a href="20-debuggage-performance.html#cb1194-12"></a><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb1194-13"><a href="20-debuggage-performance.html#cb1194-13"></a><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span id="cb1194-14"><a href="20-debuggage-performance.html#cb1194-14"></a><span class="co">#&gt; 1 boucle_for   3.26ms   3.88ms      256.   177.4KB     4.17</span></span>
<span id="cb1194-15"><a href="20-debuggage-performance.html#cb1194-15"></a><span class="co">#&gt; 2 map        751.81µs 863.21µs     1089.     6.8KB     6.50</span></span></code></pre></div>
<p>La lecture du résultat indique que le <code>map</code> est environ 4 fois plus rapide que la boucle <code>for</code>.</p>
<p>Attention cependant en lisant ces résultats : dans la comparaison précédente les temps d’exécution étant en millisecondes, même une différence du type “4 fois plus rapide” peut être quasiment imperceptible. Dans l’exemple suivant on compare de la même manière <code>for</code> et <code>map</code>, mais cette fois en effectuant une action plus coûteuse en temps de calcul (on génère des vecteurs de nombres aléatoires).</p>
<div class="sourceCode" id="cb1195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1195-1"><a href="20-debuggage-performance.html#cb1195-1"></a>bench<span class="op">::</span><span class="kw">mark</span>(</span>
<span id="cb1195-2"><a href="20-debuggage-performance.html#cb1195-2"></a>    <span class="dt">boucle_for =</span> {</span>
<span id="cb1195-3"><a href="20-debuggage-performance.html#cb1195-3"></a>        res &lt;-<span class="st"> </span><span class="kw">numeric</span>()</span>
<span id="cb1195-4"><a href="20-debuggage-performance.html#cb1195-4"></a>        <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>) {</span>
<span id="cb1195-5"><a href="20-debuggage-performance.html#cb1195-5"></a>            res &lt;-<span class="st"> </span><span class="kw">c</span>(res, <span class="kw">mean</span>(<span class="kw">runif</span>(<span class="dv">50000</span>)))</span>
<span id="cb1195-6"><a href="20-debuggage-performance.html#cb1195-6"></a>        }</span>
<span id="cb1195-7"><a href="20-debuggage-performance.html#cb1195-7"></a>        res</span>
<span id="cb1195-8"><a href="20-debuggage-performance.html#cb1195-8"></a>    },</span>
<span id="cb1195-9"><a href="20-debuggage-performance.html#cb1195-9"></a>    <span class="dt">map =</span> <span class="kw">map_dbl</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="op">~</span><span class="st"> </span><span class="kw">mean</span>(<span class="kw">runif</span>(<span class="dv">50000</span>))),</span>
<span id="cb1195-10"><a href="20-debuggage-performance.html#cb1195-10"></a>    <span class="dt">check =</span> <span class="ot">FALSE</span></span>
<span id="cb1195-11"><a href="20-debuggage-performance.html#cb1195-11"></a>)</span>
<span id="cb1195-12"><a href="20-debuggage-performance.html#cb1195-12"></a><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span id="cb1195-13"><a href="20-debuggage-performance.html#cb1195-13"></a><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb1195-14"><a href="20-debuggage-performance.html#cb1195-14"></a><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span id="cb1195-15"><a href="20-debuggage-performance.html#cb1195-15"></a><span class="co">#&gt; 1 boucle_for    153ms    158ms      6.30    38.5MB        0</span></span>
<span id="cb1195-16"><a href="20-debuggage-performance.html#cb1195-16"></a><span class="co">#&gt; 2 map           157ms    171ms      5.95    38.4MB        0</span></span></code></pre></div>
<p>Dans ce cas la différence entre <code>for</code> et <code>map</code> devient négligeable par rapport aux temps de calcul des opérations effectuées dans les boucles : au final les temps d’exécution sont presque identiques.</p>
</div>
<div id="quelques-conseils-doptimisation" class="section level2">
<h2><span class="header-section-number">20.3</span> Quelques conseils d’optimisation</h2>
<div id="privilégier-les-fonctions-vectorisées" class="section level3">
<h3><span class="header-section-number">20.3.1</span> Privilégier les fonctions vectorisées</h3>
<p>On l’a déjà dit, redit et reredit, une des forces de R est de proposer un grand nombre de fonctions vectorisées, c’est-à-dire prévues et optimisées pour s’appliquer à tous les éléments d’un vecteur. Quand une fonction vectorisée existe, il est donc toujours préférable de l’utiliser plutôt qu’une boucle ou un <code>map</code>.</p>
<div class="sourceCode" id="cb1196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1196-1"><a href="20-debuggage-performance.html#cb1196-1"></a>v &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Poire&quot;</span>, <span class="st">&quot;Fraise&quot;</span>), <span class="dv">100</span>)</span>
<span id="cb1196-2"><a href="20-debuggage-performance.html#cb1196-2"></a>bench<span class="op">::</span><span class="kw">mark</span>(</span>
<span id="cb1196-3"><a href="20-debuggage-performance.html#cb1196-3"></a>    <span class="dt">boucle =</span> {</span>
<span id="cb1196-4"><a href="20-debuggage-performance.html#cb1196-4"></a>        <span class="kw">map_int</span>(v, str_count, <span class="st">&quot;m&quot;</span>)</span>
<span id="cb1196-5"><a href="20-debuggage-performance.html#cb1196-5"></a>    },</span>
<span id="cb1196-6"><a href="20-debuggage-performance.html#cb1196-6"></a>    <span class="dt">vec =</span> <span class="kw">str_count</span>(v, <span class="st">&quot;m&quot;</span>)</span>
<span id="cb1196-7"><a href="20-debuggage-performance.html#cb1196-7"></a>)</span>
<span id="cb1196-8"><a href="20-debuggage-performance.html#cb1196-8"></a><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span id="cb1196-9"><a href="20-debuggage-performance.html#cb1196-9"></a><span class="co">#&gt;   expression      min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb1196-10"><a href="20-debuggage-performance.html#cb1196-10"></a><span class="co">#&gt;   &lt;bch:expr&gt; &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span id="cb1196-11"><a href="20-debuggage-performance.html#cb1196-11"></a><span class="co">#&gt; 1 boucle        2.7ms   3.14ms      307.    1.22KB     4.24</span></span>
<span id="cb1196-12"><a href="20-debuggage-performance.html#cb1196-12"></a><span class="co">#&gt; 2 vec          56.2µs   62.4µs    14227.    1.22KB     0</span></span></code></pre></div>
</div>
<div id="mettre-le-minimum-dopérations-dans-les-boucles" class="section level3">
<h3><span class="header-section-number">20.3.2</span> Mettre le minimum d’opérations dans les boucles</h3>
<p>Si vous utilisez une boucle, toute opération qu’elle contient, comme elle va être répétée, peut devenir rapidement très coûteuse. Il ne faut donc y mettre que les opérations réellement nécessaires.</p>
<p>La fonction suivante prend en entrée un tableau de données <code>d</code> et une chaîne de caractères <code>chr</code>, et retourne un vecteur nommé indiquant le nombre de fois ou cette valeur apparaît dans chaque colonne du tableau. On a décidé de convertir en minuscules à la fois la valeur de <code>chr</code> et l’ensemble des colonnes du tableau pour que le comptage ne prenne pas en compte les différences de majuscules/minuscules.</p>
<div class="sourceCode" id="cb1197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1197-1"><a href="20-debuggage-performance.html#cb1197-1"></a>nb_chaine1 &lt;-<span class="st"> </span><span class="cf">function</span>(d, chr) {</span>
<span id="cb1197-2"><a href="20-debuggage-performance.html#cb1197-2"></a>    res &lt;-<span class="st"> </span><span class="kw">numeric</span>()</span>
<span id="cb1197-3"><a href="20-debuggage-performance.html#cb1197-3"></a>    <span class="cf">for</span> (var <span class="cf">in</span> <span class="kw">names</span>(d)) {</span>
<span id="cb1197-4"><a href="20-debuggage-performance.html#cb1197-4"></a>        <span class="co"># Conversion de chr et des colonnes de d en minuscules</span></span>
<span id="cb1197-5"><a href="20-debuggage-performance.html#cb1197-5"></a>        d &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">modify</span>(str_to_lower)</span>
<span id="cb1197-6"><a href="20-debuggage-performance.html#cb1197-6"></a>        chr &lt;-<span class="st"> </span><span class="kw">str_to_lower</span>(chr)</span>
<span id="cb1197-7"><a href="20-debuggage-performance.html#cb1197-7"></a>        <span class="co"># Comptage des occurrences de chr dans la colonne var</span></span>
<span id="cb1197-8"><a href="20-debuggage-performance.html#cb1197-8"></a>        res[[var]] &lt;-<span class="st"> </span><span class="kw">sum</span>(d[[var]] <span class="op">==</span><span class="st"> </span>chr, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb1197-9"><a href="20-debuggage-performance.html#cb1197-9"></a>    }</span>
<span id="cb1197-10"><a href="20-debuggage-performance.html#cb1197-10"></a>    res</span>
<span id="cb1197-11"><a href="20-debuggage-performance.html#cb1197-11"></a>}</span>
<span id="cb1197-12"><a href="20-debuggage-performance.html#cb1197-12"></a></span>
<span id="cb1197-13"><a href="20-debuggage-performance.html#cb1197-13"></a>d &lt;-<span class="st"> </span>hdv2003[, <span class="kw">c</span>(<span class="st">&quot;hard.rock&quot;</span>, <span class="st">&quot;qualif&quot;</span>, <span class="st">&quot;clso&quot;</span>, <span class="st">&quot;bricol&quot;</span>)]</span>
<span id="cb1197-14"><a href="20-debuggage-performance.html#cb1197-14"></a><span class="kw">nb_chaine1</span>(d, <span class="st">&quot;oui&quot;</span>)</span>
<span id="cb1197-15"><a href="20-debuggage-performance.html#cb1197-15"></a><span class="co">#&gt; hard.rock    qualif      clso    bricol </span></span>
<span id="cb1197-16"><a href="20-debuggage-performance.html#cb1197-16"></a><span class="co">#&gt;        14         0       936       853</span></span></code></pre></div>
<p>Ça fonctionne, mais si on regarde un peu plus attentivement le code de la fonction on peut vite se rendre compte d’un problème : les conversions en minuscules sont faites à l’intérieur de la boucle, et sont donc répétées pour chaque colonne de <code>d</code>. Or ceci n’est absolument pas nécessaire puisque cette conversion ne dépend pas des colonnes et qu’elle peut être faite une seule et unique fois en début de fonction.</p>
<p>On décide donc de sortir les conversions en minuscules de la boucle.</p>
<div class="sourceCode" id="cb1198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1198-1"><a href="20-debuggage-performance.html#cb1198-1"></a>nb_chaine2 &lt;-<span class="st"> </span><span class="cf">function</span>(d, chr) {</span>
<span id="cb1198-2"><a href="20-debuggage-performance.html#cb1198-2"></a>    res &lt;-<span class="st"> </span><span class="kw">numeric</span>()</span>
<span id="cb1198-3"><a href="20-debuggage-performance.html#cb1198-3"></a></span>
<span id="cb1198-4"><a href="20-debuggage-performance.html#cb1198-4"></a>    <span class="co"># Conversion de chr et des colonnes de d en minuscules</span></span>
<span id="cb1198-5"><a href="20-debuggage-performance.html#cb1198-5"></a>    d &lt;-<span class="st"> </span>d <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">modify</span>(str_to_lower)</span>
<span id="cb1198-6"><a href="20-debuggage-performance.html#cb1198-6"></a>    chr &lt;-<span class="st"> </span><span class="kw">str_to_lower</span>(chr)</span>
<span id="cb1198-7"><a href="20-debuggage-performance.html#cb1198-7"></a></span>
<span id="cb1198-8"><a href="20-debuggage-performance.html#cb1198-8"></a>    <span class="cf">for</span> (var <span class="cf">in</span> <span class="kw">names</span>(d)) {</span>
<span id="cb1198-9"><a href="20-debuggage-performance.html#cb1198-9"></a>        <span class="co"># Comptage des occurrences de chr dans la colonne var</span></span>
<span id="cb1198-10"><a href="20-debuggage-performance.html#cb1198-10"></a>        res[[var]] &lt;-<span class="st"> </span><span class="kw">sum</span>(d[[var]] <span class="op">==</span><span class="st"> </span>chr, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb1198-11"><a href="20-debuggage-performance.html#cb1198-11"></a>    }</span>
<span id="cb1198-12"><a href="20-debuggage-performance.html#cb1198-12"></a>    res</span>
<span id="cb1198-13"><a href="20-debuggage-performance.html#cb1198-13"></a>}</span>
<span id="cb1198-14"><a href="20-debuggage-performance.html#cb1198-14"></a></span>
<span id="cb1198-15"><a href="20-debuggage-performance.html#cb1198-15"></a><span class="kw">nb_chaine2</span>(d, <span class="st">&quot;oui&quot;</span>)</span>
<span id="cb1198-16"><a href="20-debuggage-performance.html#cb1198-16"></a><span class="co">#&gt; hard.rock    qualif      clso    bricol </span></span>
<span id="cb1198-17"><a href="20-debuggage-performance.html#cb1198-17"></a><span class="co">#&gt;        14         0       936       853</span></span></code></pre></div>
<p>Le résultat des deux fonctions est identique. On compare leur temps d’exécution à l’aide de <code>bench::mark()</code>.</p>
<div class="sourceCode" id="cb1199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1199-1"><a href="20-debuggage-performance.html#cb1199-1"></a>bench<span class="op">::</span><span class="kw">mark</span>(</span>
<span id="cb1199-2"><a href="20-debuggage-performance.html#cb1199-2"></a>    <span class="kw">nb_chaine1</span>(d, <span class="st">&quot;oui&quot;</span>),</span>
<span id="cb1199-3"><a href="20-debuggage-performance.html#cb1199-3"></a>    <span class="kw">nb_chaine2</span>(d, <span class="st">&quot;oui&quot;</span>),</span>
<span id="cb1199-4"><a href="20-debuggage-performance.html#cb1199-4"></a>)</span>
<span id="cb1199-5"><a href="20-debuggage-performance.html#cb1199-5"></a><span class="co">#&gt; # A tibble: 2 × 6</span></span>
<span id="cb1199-6"><a href="20-debuggage-performance.html#cb1199-6"></a><span class="co">#&gt;   expression                min   median `itr/sec` mem_alloc `gc/sec`</span></span>
<span id="cb1199-7"><a href="20-debuggage-performance.html#cb1199-7"></a><span class="co">#&gt;   &lt;bch:expr&gt;           &lt;bch:tm&gt; &lt;bch:tm&gt;     &lt;dbl&gt; &lt;bch:byt&gt;    &lt;dbl&gt;</span></span>
<span id="cb1199-8"><a href="20-debuggage-performance.html#cb1199-8"></a><span class="co">#&gt; 1 nb_chaine1(d, &quot;oui&quot;)   3.68ms   4.53ms      215.     345KB        0</span></span>
<span id="cb1199-9"><a href="20-debuggage-performance.html#cb1199-9"></a><span class="co">#&gt; 2 nb_chaine2(d, &quot;oui&quot;)   1.06ms   1.16ms      828.     157KB        0</span></span></code></pre></div>
<p>Ce qui permet de constater que la deuxième version est quatre fois plus rapide (et elle sera d’autant plus rapide que le nombre de colonnes du tableau sera grand).</p>
</div>
<div id="choisir-un-format-de-fichier-adapté" class="section level3">
<h3><span class="header-section-number">20.3.3</span> Choisir un format de fichier adapté</h3>
<p>Si on travaille sur des fichiers de données volumineux, les temps de chargement et de sauvegarde des données peuvent devenir importants.</p>
<p>Il existe différents formats de fichiers qui peuvont être plus ou moins rapides et pratiques selon l’utilisation qu’on en fait. Il n’est malheureusement pas toujours simple de s’y retrouver d’autant que les formats et les performances peuvent évoluer assez rapidement, mais on peut quand même donner quelques indications :</p>
<p>Le format <strong>CSV</strong> est pratique pour échanger des données tabulaires d’un système ou d’un logiciel à un autre, mais il présente plusieurs inconvénients :</p>
<ul>
<li>les fichiers sont volumineux</li>
<li>les temps de lecture/écriture sont assez longs</li>
<li>ils n’incluent pas de métadonnées comme les types des colonnes, et nécessitent donc des opérations de conversion plus ou moins “risquées”</li>
</ul>
<p>À noter que plusieurs extensions et fonctions existent pour lire et/ou écrire les fichiers CSV. Outre <code>read.csv</code> de R base et <code>read_csv</code> de <code>readr</code>, on pourra mentionner <code>fread</code> de <code>data.table</code>, particulièrement rapide, ou l’extension <code>vroom</code>, qui ne charge pas toutes les informations d’un coup mais y accède “à la demande”.</p>
<p>Les formats <strong>Rdata</strong> (utilisé par <code>load()</code> et <code>save()</code>) et <strong>RDS</strong> (utilisé par <code>readRDS()</code> et <code>saveRDS()</code>), propres à R, permettent de sauvegarder des objets dans un fichier. Ils ont des temps de lecture et d’écriture rapides, et permettent d’enregistrer n’importe quel objet R et d’être sûr de le retrouver à peu près à l’identique. À noter que ces formats permettent de faire varier le niveau de compression des données et donc jouer sur le rapport entre espace disque utilisé et temps d’accès. Ces formats sont intéressants notamment pour enregistrer des résultats intermédiaires. À noter que le format <strong>fst</strong>, proposé par <a href="https://www.fstpackage.org/">l’extension du même nom</a>, offre des performances encore supérieures mais ne gère que les données tabulaires.</p>
<p>Pour des données vraiment volumineuses, le package <code>arrow</code> permet la lecture et l’enregistrement dans différents formats, dont <strong>arrow</strong> et <strong>parquet</strong>. Très optimisés mais limités aux données tabulaires, ils permettent également des échanges avec d’autres langages de programmation comme Python, JavaScript, etc.</p>
<p>À titre indicatif, le billet <a href="https://data.nozav.org/post/2019-r-data-frame-benchmark/">a shallow benchmark of R data frame export/import methods</a> propose un comparatif entre les performances de différents formats de fichiers pour des données tabulaires. Attention cependant, il date de 2019 et les performances des fonctions testées ont pu évoluer depuis.</p>
</div>
<div id="repérer-les-opérations-coûteuses-avec-du-profiling" class="section level3">
<h3><span class="header-section-number">20.3.4</span> Repérer les opérations coûteuses avec du <em>profiling</em></h3>
<p>Quand on commence à écrire du code un peu long, il n’est pas toujours évident de savoir quelles sont les opérations qui sont les plus coûteuses en termes de performance. Il peut alors être utile d’utiliser un outil de <em>profiling</em>, qui consiste à exécuter du code tout en mesurant les temps d’exécution de chaque instruction, ce qui permet ensuite de visualiser et repérer les opérations qui prennent le plus de temps et qui seraient donc les plus intéressantes à optimiser (si c’est possible).</p>
<p>L’extension <code>profvis</code> fournit un outil de <em>profiling</em> sous R pratique et utile. On passe des instructions ou un script entier à la fonction <code>profvis()</code>, et celle-ci fournit une visualisation interactive des différentes opérations, de leur temps d’exécution, de leur utilisation de la mémoire…</p>
<div class="figure">
<img src="resources/screenshots/profvis.png" alt="" />
<p class="caption">Exemple de visualisation générée par profvis()</p>
</div>
<p>L’utilisation de <code>profvis()</code> dépasse le cadre de ce document, mais on pourra trouver des explications (en anglais) dans la partie <a href="https://adv-r.hadley.nz/perf-measure.html#profiling">profiling</a> d’Advanced R.</p>
</div>
<div id="mettre-en-cache-des-résultats-intermédiaires" class="section level3">
<h3><span class="header-section-number">20.3.5</span> Mettre en cache des résultats intermédiaires</h3>
<p>Selon la taille des données et le type d’opérations réalisées, les temps de calculs même optimisés peuvent demeurer longs. Dans ce cas il peut être intéressant de “mettre en cache” des résultats intermédiaires dans des fichiers pour pouvoir les charger directement sans avoir à tout recalculer.</p>
<p>Par exemple, si on travaille sur un corpus de données textuelles, on peut enregistrer dans un fichier <code>RDS</code> ou <code>Rdata</code> le résultat de toutes les opérations de prétraitement du corpus : si on souhaite faire des analyses par la suite on aura juste à charger les données depuis ce fichier sans avoir à relancer le calcul de tous les prétraitements.</p>
<p>L’extension <code>targets</code>, présentée section <a href="21-targets.html#targets">21</a>, est particulièrement adaptée pour les projets de ce type car elle gère automatiquement les dépendances entre les étapes d’un projet et la mise en cache des résultats, et permet ainsi d’optimiser les temps de traitement.</p>
</div>
<div id="utiliser-dautres-extensions" class="section level3">
<h3><span class="header-section-number">20.3.6</span> Utiliser d’autres extensions</h3>
<p>Enfin, si ce document est basé sur les extensions du <em>tidyverse</em>, qui offrent une syntaxe cohérente et plus facile d’accès, il existe d’autres extensions notamment dans le domaine de la manipulation des données qui permettent des opérations plus rapides.</p>
<p>C’est en particulier le cas de l’extension <code>data.table</code>, qui utilise une syntaxe moins accessible que celle de <code>dplyr</code>, mais propose des performances en général <a href="https://h2oai.github.io/db-benchmark/">assez nettement supérieures</a>. On trouvera la documentation détaillée de <code>data.table</code> (en anglais) <a href="https://rdatatable.gitlab.io/data.table/">sur le site de l’extension</a>.</p>
</div>
</div>
<div id="ressources-11" class="section level2">
<h2><span class="header-section-number">20.4</span> Ressources</h2>
<p>L’ouvrage <em>Advanced R</em> (en anglais) consacre un chapitre entier <a href="https://adv-r.hadley.nz/debugging.html">au debuggage</a>, un autre à <a href="https://adv-r.hadley.nz/perf-measure.html">la mesure de la performance</a>, et un dernier à différentes techniques d’<a href="https://adv-r.hadley.nz/perf-improve.html">optimisation du code</a>.</p>
<p>Le site de RStudio propose une page entière détaillant ses <a href="https://support.rstudio.com/hc/en-us/articles/205612627-Debugging-with-RStudio">fonctionnalités de debugging</a> (en anglais). Pour les utilisateurs de Visual Studio Code, on pourra se référer à l’extension <a href="https://github.com/ManuelHentschel/VSCode-R-Debugger">VSCode-R-Debugger</a>.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="37">
<li id="fn37"><p>Si on a un objet <code>n</code> dont on souhaite afficher le contenu, on doit faire <code>print(n)</code>.<a href="20-debuggage-performance.html#fnref37" class="footnote-back">↩︎</a></p></li>
<li id="fn38"><p>L’avantage d’utiliser <code>bench::mark()</code> est qu’on n’a pas besoin d’ajouter un <code>library(bench)</code> dans notre script.<a href="20-debuggage-performance.html#fnref38" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="19-programmer-tidyverse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="21-targets.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/juba/tidyverse/blob/main/20-debuggage-performance.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["introduction_au_tidyverse.epub", "introduction_au_tidyverse.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
