<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Partie 16 Structures de données | Introduction à R et au tidyverse</title>
  <meta name="description" content="Une introduction à R et aux extensions du tidyverse" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Partie 16 Structures de données | Introduction à R et au tidyverse" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Une introduction à R et aux extensions du tidyverse" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Partie 16 Structures de données | Introduction à R et au tidyverse" />
  
  <meta name="twitter:description" content="Une introduction à R et aux extensions du tidyverse" />
  

<meta name="author" content="Julien Barnier" />


<meta name="date" content="2022-01-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="15-dplyr-avance.html"/>
<link rel="next" href="17-if-boucles.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.0.4.1/leaflet.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Introduction à R et au <em>tidyverse</em></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>À propos de ce document</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#remerciements"><i class="fa fa-check"></i>Remerciements</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#licence"><i class="fa fa-check"></i>Licence</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="01-presentation.html"><a href="01-presentation.html"><i class="fa fa-check"></i><b>1</b> Présentation</a><ul>
<li class="chapter" data-level="1.1" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-de-r"><i class="fa fa-check"></i><b>1.1</b> À propos de R</a></li>
<li class="chapter" data-level="1.2" data-path="01-presentation.html"><a href="01-presentation.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> À propos de RStudio</a></li>
<li class="chapter" data-level="1.3" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-du-tidyverse"><i class="fa fa-check"></i><b>1.3</b> À propos du <em>tidyverse</em></a></li>
<li class="chapter" data-level="1.4" data-path="01-presentation.html"><a href="01-presentation.html#structure-du-document"><i class="fa fa-check"></i><b>1.4</b> Structure du document</a></li>
<li class="chapter" data-level="1.5" data-path="01-presentation.html"><a href="01-presentation.html#prérequis"><i class="fa fa-check"></i><b>1.5</b> Prérequis</a></li>
</ul></li>
<li class="part"><span><b>I Introduction à R</b></span></li>
<li class="chapter" data-level="2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html"><i class="fa fa-check"></i><b>2</b> Prise en main</a><ul>
<li class="chapter" data-level="2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#la-console"><i class="fa fa-check"></i><b>2.1</b> La console</a><ul>
<li class="chapter" data-level="2.1.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#linvite-de-commandes"><i class="fa fa-check"></i><b>2.1.1</b> L’invite de commandes</a></li>
<li class="chapter" data-level="2.1.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#précisions-concernant-la-saisie-des-commandes"><i class="fa fa-check"></i><b>2.1.2</b> Précisions concernant la saisie des commandes</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets"><i class="fa fa-check"></i><b>2.2</b> Objets</a><ul>
<li class="chapter" data-level="2.2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets-simples"><i class="fa fa-check"></i><b>2.2.1</b> Objets simples</a></li>
<li class="chapter" data-level="2.2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#introvecteurs"><i class="fa fa-check"></i><b>2.2.2</b> Vecteurs</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#fonctions"><i class="fa fa-check"></i><b>2.3</b> Fonctions</a><ul>
<li class="chapter" data-level="2.3.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#principe"><i class="fa fa-check"></i><b>2.3.1</b> Principe</a></li>
<li class="chapter" data-level="2.3.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#arguments"><i class="fa fa-check"></i><b>2.3.2</b> Arguments</a></li>
<li class="chapter" data-level="2.3.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#aide-sur-une-fonction"><i class="fa fa-check"></i><b>2.3.3</b> Aide sur une fonction</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#regrouper-ses-commandes-dans-des-scripts"><i class="fa fa-check"></i><b>2.4</b> Regrouper ses commandes dans des scripts</a><ul>
<li class="chapter" data-level="2.4.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#commentaires"><i class="fa fa-check"></i><b>2.4.1</b> Commentaires</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#packages"><i class="fa fa-check"></i><b>2.5</b> Installer et charger des extensions (<em>packages</em>)</a></li>
<li class="chapter" data-level="2.6" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#exercices"><i class="fa fa-check"></i><b>2.6</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-premier_travail.html"><a href="03-premier_travail.html"><i class="fa fa-check"></i><b>3</b> Premier travail avec des données</a><ul>
<li class="chapter" data-level="3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#jeu-de-données-dexemple"><i class="fa fa-check"></i><b>3.1</b> Jeu de données d’exemple</a></li>
<li class="chapter" data-level="3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#tableau-de-données-data-frame"><i class="fa fa-check"></i><b>3.2</b> Tableau de données (<em>data frame</em>)</a><ul>
<li class="chapter" data-level="3.2.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#structure-du-tableau"><i class="fa fa-check"></i><b>3.2.1</b> Structure du tableau</a></li>
<li class="chapter" data-level="3.2.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#accéder-aux-variables-dun-tableau"><i class="fa fa-check"></i><b>3.2.2</b> Accéder aux variables d’un tableau</a></li>
<li class="chapter" data-level="3.2.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#créer-une-nouvelle-variable"><i class="fa fa-check"></i><b>3.2.3</b> Créer une nouvelle variable</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyse-univariée"><i class="fa fa-check"></i><b>3.3</b> Analyse univariée</a><ul>
<li class="chapter" data-level="3.3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-quantitative"><i class="fa fa-check"></i><b>3.3.1</b> Analyser une variable quantitative</a></li>
<li class="chapter" data-level="3.3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-qualitative"><i class="fa fa-check"></i><b>3.3.2</b> Analyser une variable qualitative</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="03-premier_travail.html"><a href="03-premier_travail.html#exercices-1"><i class="fa fa-check"></i><b>3.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-bivarie.html"><a href="04-bivarie.html"><i class="fa fa-check"></i><b>4</b> Analyse bivariée</a><ul>
<li class="chapter" data-level="4.1" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-qualitatives"><i class="fa fa-check"></i><b>4.1</b> Croisement de deux variables qualitatives</a><ul>
<li class="chapter" data-level="4.1.1" data-path="04-bivarie.html"><a href="04-bivarie.html#tableaux-croisés"><i class="fa fa-check"></i><b>4.1.1</b> Tableaux croisés</a></li>
<li class="chapter" data-level="4.1.2" data-path="04-bivarie.html"><a href="04-bivarie.html#test-du-χ²"><i class="fa fa-check"></i><b>4.1.2</b> Test du χ²</a></li>
<li class="chapter" data-level="4.1.3" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-1"><i class="fa fa-check"></i><b>4.1.3</b> Représentation graphique</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-dune-variable-quantitative-et-dune-variable-qualitative"><i class="fa fa-check"></i><b>4.2</b> Croisement d’une variable quantitative et d’une variable qualitative</a><ul>
<li class="chapter" data-level="4.2.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-2"><i class="fa fa-check"></i><b>4.2.1</b> Représentation graphique</a></li>
<li class="chapter" data-level="4.2.2" data-path="04-bivarie.html"><a href="04-bivarie.html#tapply"><i class="fa fa-check"></i><b>4.2.2</b> Calculs d’indicateurs</a></li>
<li class="chapter" data-level="4.2.3" data-path="04-bivarie.html"><a href="04-bivarie.html#tests-statistiques"><i class="fa fa-check"></i><b>4.2.3</b> Tests statistiques</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-quantitatives"><i class="fa fa-check"></i><b>4.3</b> Croisement de deux variables quantitatives</a><ul>
<li class="chapter" data-level="4.3.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-3"><i class="fa fa-check"></i><b>4.3.1</b> Représentation graphique</a></li>
<li class="chapter" data-level="4.3.2" data-path="04-bivarie.html"><a href="04-bivarie.html#calcul-dindicateurs"><i class="fa fa-check"></i><b>4.3.2</b> Calcul d’indicateurs</a></li>
<li class="chapter" data-level="4.3.3" data-path="04-bivarie.html"><a href="04-bivarie.html#régression-linéaire"><i class="fa fa-check"></i><b>4.3.3</b> Régression linéaire</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="04-bivarie.html"><a href="04-bivarie.html#exercices-2"><i class="fa fa-check"></i><b>4.4</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-organiser.html"><a href="05-organiser.html"><i class="fa fa-check"></i><b>5</b> Organiser ses scripts</a><ul>
<li class="chapter" data-level="5.1" data-path="05-organiser.html"><a href="05-organiser.html#projets"><i class="fa fa-check"></i><b>5.1</b> Les projets dans RStudio</a></li>
<li class="chapter" data-level="5.2" data-path="05-organiser.html"><a href="05-organiser.html#créer-des-sections-dans-un-script"><i class="fa fa-check"></i><b>5.2</b> Créer des sections dans un script</a></li>
<li class="chapter" data-level="5.3" data-path="05-organiser.html"><a href="05-organiser.html#répartir-son-travail-entre-plusieurs-scripts"><i class="fa fa-check"></i><b>5.3</b> Répartir son travail entre plusieurs scripts</a></li>
<li class="chapter" data-level="5.4" data-path="05-organiser.html"><a href="05-organiser.html#désactiver-la-sauvegarde-de-lespace-de-travail"><i class="fa fa-check"></i><b>5.4</b> Désactiver la sauvegarde de l’espace de travail</a></li>
</ul></li>
<li class="part"><span><b>II Introduction au tidyverse</b></span></li>
<li class="chapter" data-level="6" data-path="06-tidyverse.html"><a href="06-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Le tidyverse</a><ul>
<li class="chapter" data-level="6.1" data-path="06-tidyverse.html"><a href="06-tidyverse.html#extensions"><i class="fa fa-check"></i><b>6.1</b> Extensions</a></li>
<li class="chapter" data-level="6.2" data-path="06-tidyverse.html"><a href="06-tidyverse.html#installation"><i class="fa fa-check"></i><b>6.2</b> Installation</a></li>
<li class="chapter" data-level="6.3" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tidydata"><i class="fa fa-check"></i><b>6.3</b> tidy data</a></li>
<li class="chapter" data-level="6.4" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tibbles"><i class="fa fa-check"></i><b>6.4</b> tibbles</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-import.html"><a href="07-import.html"><i class="fa fa-check"></i><b>7</b> Importer et exporter des données</a><ul>
<li class="chapter" data-level="7.1" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-textes"><i class="fa fa-check"></i><b>7.1</b> Import de fichiers textes</a><ul>
<li class="chapter" data-level="7.1.1" data-path="07-import.html"><a href="07-import.html#interface-interactive-dimport-de-fichiers"><i class="fa fa-check"></i><b>7.1.1</b> Interface interactive d’import de fichiers</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="07-import.html"><a href="07-import.html#import-depuis-un-fichier-excel"><i class="fa fa-check"></i><b>7.2</b> Import depuis un fichier Excel</a></li>
<li class="chapter" data-level="7.3" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-sas-spss-et-stata"><i class="fa fa-check"></i><b>7.3</b> Import de fichiers SAS, SPSS et Stata</a></li>
<li class="chapter" data-level="7.4" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-dbase"><i class="fa fa-check"></i><b>7.4</b> Import de fichiers dBase</a></li>
<li class="chapter" data-level="7.5" data-path="07-import.html"><a href="07-import.html#connexion-à-des-bases-de-données"><i class="fa fa-check"></i><b>7.5</b> Connexion à des bases de données</a><ul>
<li class="chapter" data-level="7.5.1" data-path="07-import.html"><a href="07-import.html#interfaçage-via-lextension-dbi"><i class="fa fa-check"></i><b>7.5.1</b> Interfaçage via l’extension <code>DBI</code></a></li>
<li class="chapter" data-level="7.5.2" data-path="07-import.html"><a href="07-import.html#utilisation-de-dplyr-et-dbplyr"><i class="fa fa-check"></i><b>7.5.2</b> Utilisation de <code>dplyr</code> et <code>dbplyr</code></a></li>
<li class="chapter" data-level="7.5.3" data-path="07-import.html"><a href="07-import.html#ressources"><i class="fa fa-check"></i><b>7.5.3</b> Ressources</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="07-import.html"><a href="07-import.html#export-de-données"><i class="fa fa-check"></i><b>7.6</b> Export de données</a><ul>
<li class="chapter" data-level="7.6.1" data-path="07-import.html"><a href="07-import.html#export-de-tableaux-de-données"><i class="fa fa-check"></i><b>7.6.1</b> Export de tableaux de données</a></li>
<li class="chapter" data-level="7.6.2" data-path="07-import.html"><a href="07-import.html#sauvegarder-des-objets"><i class="fa fa-check"></i><b>7.6.2</b> Sauvegarder des objets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="08-ggplot2.html"><a href="08-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Visualiser avec <code>ggplot2</code></a><ul>
<li class="chapter" data-level="8.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#préparation"><i class="fa fa-check"></i><b>8.1</b> Préparation</a></li>
<li class="chapter" data-level="8.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#initialisation"><i class="fa fa-check"></i><b>8.2</b> Initialisation</a></li>
<li class="chapter" data-level="8.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-geom"><i class="fa fa-check"></i><b>8.3</b> Exemples de <code>geom</code></a><ul>
<li class="chapter" data-level="8.3.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_boxplot"><i class="fa fa-check"></i><b>8.3.1</b> <code>geom_boxplot</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_violin"><i class="fa fa-check"></i><b>8.3.2</b> <code>geom_violin</code></a></li>
<li class="chapter" data-level="8.3.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-geom_col"><i class="fa fa-check"></i><b>8.3.3</b> <code>geom_bar</code> et <code>geom_col</code></a></li>
<li class="chapter" data-level="8.3.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_text"><i class="fa fa-check"></i><b>8.3.4</b> <code>geom_text</code></a></li>
<li class="chapter" data-level="8.3.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_label"><i class="fa fa-check"></i><b>8.3.5</b> <code>geom_label</code></a></li>
<li class="chapter" data-level="8.3.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_density"><i class="fa fa-check"></i><b>8.3.6</b> <code>geom_density</code></a></li>
<li class="chapter" data-level="8.3.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_line"><i class="fa fa-check"></i><b>8.3.7</b> <code>geom_line</code></a></li>
<li class="chapter" data-level="8.3.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_hex-et-geom_bin2d"><i class="fa fa-check"></i><b>8.3.8</b> <code>geom_hex</code> et <code>geom_bin2d</code></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#mappages"><i class="fa fa-check"></i><b>8.4</b> Mappages</a><ul>
<li class="chapter" data-level="8.4.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-mappages"><i class="fa fa-check"></i><b>8.4.1</b> Exemples de mappages</a></li>
<li class="chapter" data-level="8.4.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#aes-or-not-aes"><i class="fa fa-check"></i><b>8.4.2</b> <code>aes()</code> or not <code>aes()</code> ?</a></li>
<li class="chapter" data-level="8.4.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-position"><i class="fa fa-check"></i><b>8.4.3</b> <code>geom_bar</code> et <code>position</code></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#représentation-de-plusieurs-geom"><i class="fa fa-check"></i><b>8.5</b> Représentation de plusieurs <code>geom</code></a><ul>
<li class="chapter" data-level="8.5.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#plusieurs-sources-de-données"><i class="fa fa-check"></i><b>8.5.1</b> Plusieurs sources de données</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#faceting"><i class="fa fa-check"></i><b>8.6</b> Faceting</a></li>
<li class="chapter" data-level="8.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scales"><i class="fa fa-check"></i><b>8.7</b> Scales</a><ul>
<li class="chapter" data-level="8.7.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_size"><i class="fa fa-check"></i><b>8.7.1</b> <code>scale_size</code></a></li>
<li class="chapter" data-level="8.7.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_x-scale_y"><i class="fa fa-check"></i><b>8.7.2</b> <code>scale_x</code>, <code>scale_y</code></a></li>
<li class="chapter" data-level="8.7.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scalecolor"><i class="fa fa-check"></i><b>8.7.3</b> <code>scale_color</code>, <code>scale_fill</code></a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#thèmes"><i class="fa fa-check"></i><b>8.8</b> Thèmes</a></li>
<li class="chapter" data-level="8.9" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ladd-in-esquisse"><i class="fa fa-check"></i><b>8.9</b> L’add-in <code>esquisse</code></a></li>
<li class="chapter" data-level="8.10" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ressources-1"><i class="fa fa-check"></i><b>8.10</b> Ressources</a></li>
<li class="chapter" data-level="8.11" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exercices-3"><i class="fa fa-check"></i><b>8.11</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="09-recodages.html"><a href="09-recodages.html"><i class="fa fa-check"></i><b>9</b> Recoder des variables</a><ul>
<li class="chapter" data-level="9.1" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs"><i class="fa fa-check"></i><b>9.1</b> Rappel sur les variables et les vecteurs</a></li>
<li class="chapter" data-level="9.2" data-path="09-recodages.html"><a href="09-recodages.html#tests"><i class="fa fa-check"></i><b>9.2</b> Tests et comparaison</a></li>
<li class="chapter" data-level="9.3" data-path="09-recodages.html"><a href="09-recodages.html#recoder-une-variable-qualitative"><i class="fa fa-check"></i><b>9.3</b> Recoder une variable qualitative</a><ul>
<li class="chapter" data-level="9.3.1" data-path="09-recodages.html"><a href="09-recodages.html#facteurs"><i class="fa fa-check"></i><b>9.3.1</b> Facteurs et <code>forcats</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="09-recodages.html"><a href="09-recodages.html#recode"><i class="fa fa-check"></i><b>9.3.2</b> Modifier les modalités d’une variable qualitative</a></li>
<li class="chapter" data-level="9.3.3" data-path="09-recodages.html"><a href="09-recodages.html#ordonner-les-modalités-dune-variable-qualitative"><i class="fa fa-check"></i><b>9.3.3</b> Ordonner les modalités d’une variable qualitative</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables"><i class="fa fa-check"></i><b>9.4</b> Combiner plusieurs variables</a><ul>
<li class="chapter" data-level="9.4.1" data-path="09-recodages.html"><a href="09-recodages.html#if-else"><i class="fa fa-check"></i><b>9.4.1</b> <code>if_else</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="09-recodages.html"><a href="09-recodages.html#case_when"><i class="fa fa-check"></i><b>9.4.2</b> <code>case_when</code></a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique-en-classes"><i class="fa fa-check"></i><b>9.5</b> Découper une variable numérique en classes</a><ul>
<li class="chapter" data-level="9.5.1" data-path="09-recodages.html"><a href="09-recodages.html#interface-graphique"><i class="fa fa-check"></i><b>9.5.1</b> Interface graphique</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="09-recodages.html"><a href="09-recodages.html#exercices-4"><i class="fa fa-check"></i><b>9.6</b> Exercices</a><ul>
<li class="chapter" data-level="9.6.1" data-path="09-recodages.html"><a href="09-recodages.html#préparation-1"><i class="fa fa-check"></i><b>9.6.1</b> Préparation</a></li>
<li class="chapter" data-level="9.6.2" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs-et-tests"><i class="fa fa-check"></i><b>9.6.2</b> Vecteurs et tests</a></li>
<li class="chapter" data-level="9.6.3" data-path="09-recodages.html"><a href="09-recodages.html#recodages-de-variable-qualitative"><i class="fa fa-check"></i><b>9.6.3</b> Recodages de variable qualitative</a></li>
<li class="chapter" data-level="9.6.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables-1"><i class="fa fa-check"></i><b>9.6.4</b> Combiner plusieurs variables</a></li>
<li class="chapter" data-level="9.6.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique"><i class="fa fa-check"></i><b>9.6.5</b> Découper une variable numérique</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-dplyr.html"><a href="10-dplyr.html"><i class="fa fa-check"></i><b>10</b> Manipuler les données avec <code>dplyr</code></a><ul>
<li class="chapter" data-level="10.1" data-path="10-dplyr.html"><a href="10-dplyr.html#préparation-2"><i class="fa fa-check"></i><b>10.1</b> Préparation</a></li>
<li class="chapter" data-level="10.2" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-dplyr"><i class="fa fa-check"></i><b>10.2</b> Les verbes de <code>dplyr</code></a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice"><i class="fa fa-check"></i><b>10.2.1</b> <code>slice</code></a></li>
<li class="chapter" data-level="10.2.2" data-path="10-dplyr.html"><a href="10-dplyr.html#filter"><i class="fa fa-check"></i><b>10.2.2</b> <code>filter</code></a></li>
<li class="chapter" data-level="10.2.3" data-path="10-dplyr.html"><a href="10-dplyr.html#select-rename"><i class="fa fa-check"></i><b>10.2.3</b> <code>select</code> et <code>rename</code></a></li>
<li class="chapter" data-level="10.2.4" data-path="10-dplyr.html"><a href="10-dplyr.html#arrange"><i class="fa fa-check"></i><b>10.2.4</b> <code>arrange</code></a></li>
<li class="chapter" data-level="10.2.5" data-path="10-dplyr.html"><a href="10-dplyr.html#mutate"><i class="fa fa-check"></i><b>10.2.5</b> <code>mutate</code></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-dplyr.html"><a href="10-dplyr.html#pipe"><i class="fa fa-check"></i><b>10.3</b> Enchaîner les opérations avec le <em>pipe</em></a></li>
<li class="chapter" data-level="10.4" data-path="10-dplyr.html"><a href="10-dplyr.html#opérations-groupées"><i class="fa fa-check"></i><b>10.4</b> Opérations groupées</a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by"><i class="fa fa-check"></i><b>10.4.1</b> <code>group_by</code></a></li>
<li class="chapter" data-level="10.4.2" data-path="10-dplyr.html"><a href="10-dplyr.html#summarise-et-count"><i class="fa fa-check"></i><b>10.4.2</b> <code>summarise</code> et <code>count</code></a></li>
<li class="chapter" data-level="10.4.3" data-path="10-dplyr.html"><a href="10-dplyr.html#grouper-selon-plusieurs-variables"><i class="fa fa-check"></i><b>10.4.3</b> Grouper selon plusieurs variables</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-dplyr.html"><a href="10-dplyr.html#autres-fonctions-utiles"><i class="fa fa-check"></i><b>10.5</b> Autres fonctions utiles</a><ul>
<li class="chapter" data-level="10.5.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice_sample"><i class="fa fa-check"></i><b>10.5.1</b> <code>slice_sample</code></a></li>
<li class="chapter" data-level="10.5.2" data-path="10-dplyr.html"><a href="10-dplyr.html#slice_head-slice_tail-slice_min-slice_max"><i class="fa fa-check"></i><b>10.5.2</b> <code>slice_head</code>, <code>slice_tail</code>, <code>slice_min</code>, <code>slice_max</code></a></li>
<li class="chapter" data-level="10.5.3" data-path="10-dplyr.html"><a href="10-dplyr.html#lead-et-lag"><i class="fa fa-check"></i><b>10.5.3</b> <code>lead</code> et <code>lag</code></a></li>
<li class="chapter" data-level="10.5.4" data-path="10-dplyr.html"><a href="10-dplyr.html#distinct-et-n_distinct"><i class="fa fa-check"></i><b>10.5.4</b> <code>distinct</code> et <code>n_distinct</code></a></li>
<li class="chapter" data-level="10.5.5" data-path="10-dplyr.html"><a href="10-dplyr.html#relocate"><i class="fa fa-check"></i><b>10.5.5</b> <code>relocate</code></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="10-dplyr.html"><a href="10-dplyr.html#tables-multiples"><i class="fa fa-check"></i><b>10.6</b> Tables multiples</a><ul>
<li class="chapter" data-level="10.6.1" data-path="10-dplyr.html"><a href="10-dplyr.html#concaténation-bind_rows-et-bind_cols"><i class="fa fa-check"></i><b>10.6.1</b> Concaténation : <code>bind_rows</code> et <code>bind_cols</code></a></li>
<li class="chapter" data-level="10.6.2" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures"><i class="fa fa-check"></i><b>10.6.2</b> Jointures</a></li>
<li class="chapter" data-level="10.6.3" data-path="10-dplyr.html"><a href="10-dplyr.html#types-de-jointures"><i class="fa fa-check"></i><b>10.6.3</b> Types de jointures</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="10-dplyr.html"><a href="10-dplyr.html#ressources-2"><i class="fa fa-check"></i><b>10.7</b> Ressources</a></li>
<li class="chapter" data-level="10.8" data-path="10-dplyr.html"><a href="10-dplyr.html#exercices-5"><i class="fa fa-check"></i><b>10.8</b> Exercices</a><ul>
<li class="chapter" data-level="10.8.1" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-base-de-dplyr"><i class="fa fa-check"></i><b>10.8.1</b> Les verbes de base de <code>dplyr</code></a></li>
<li class="chapter" data-level="10.8.2" data-path="10-dplyr.html"><a href="10-dplyr.html#enchaîner-des-opérations"><i class="fa fa-check"></i><b>10.8.2</b> Enchaîner des opérations</a></li>
<li class="chapter" data-level="10.8.3" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by-et-summarise"><i class="fa fa-check"></i><b>10.8.3</b> <code>group_by</code> et <code>summarise</code></a></li>
<li class="chapter" data-level="10.8.4" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures-1"><i class="fa fa-check"></i><b>10.8.4</b> Jointures</a></li>
<li class="chapter" data-level="10.8.5" data-path="10-dplyr.html"><a href="10-dplyr.html#bonus"><i class="fa fa-check"></i><b>10.8.5</b> Bonus</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-stringr.html"><a href="11-stringr.html"><i class="fa fa-check"></i><b>11</b> Manipuler du texte avec <code>stringr</code></a><ul>
<li class="chapter" data-level="11.1" data-path="11-stringr.html"><a href="11-stringr.html#expressions-régulières"><i class="fa fa-check"></i><b>11.1</b> Expressions régulières</a></li>
<li class="chapter" data-level="11.2" data-path="11-stringr.html"><a href="11-stringr.html#concat"><i class="fa fa-check"></i><b>11.2</b> Concaténer des chaînes</a></li>
<li class="chapter" data-level="11.3" data-path="11-stringr.html"><a href="11-stringr.html#convertir-en-majuscules-minuscules"><i class="fa fa-check"></i><b>11.3</b> Convertir en majuscules / minuscules</a></li>
<li class="chapter" data-level="11.4" data-path="11-stringr.html"><a href="11-stringr.html#découper-des-chaînes"><i class="fa fa-check"></i><b>11.4</b> Découper des chaînes</a></li>
<li class="chapter" data-level="11.5" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-sous-chaînes-par-position"><i class="fa fa-check"></i><b>11.5</b> Extraire des sous-chaînes par position</a></li>
<li class="chapter" data-level="11.6" data-path="11-stringr.html"><a href="11-stringr.html#str-detect"><i class="fa fa-check"></i><b>11.6</b> Détecter des motifs</a></li>
<li class="chapter" data-level="11.7" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-motifs"><i class="fa fa-check"></i><b>11.7</b> Extraire des motifs</a></li>
<li class="chapter" data-level="11.8" data-path="11-stringr.html"><a href="11-stringr.html#remplacer-des-motifs"><i class="fa fa-check"></i><b>11.8</b> Remplacer des motifs</a></li>
<li class="chapter" data-level="11.9" data-path="11-stringr.html"><a href="11-stringr.html#modificateurs"><i class="fa fa-check"></i><b>11.9</b> Modificateurs de motifs</a></li>
<li class="chapter" data-level="11.10" data-path="11-stringr.html"><a href="11-stringr.html#ressources-3"><i class="fa fa-check"></i><b>11.10</b> Ressources</a></li>
<li class="chapter" data-level="11.11" data-path="11-stringr.html"><a href="11-stringr.html#exercices-6"><i class="fa fa-check"></i><b>11.11</b> Exercices</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-tidyr.html"><a href="12-tidyr.html"><i class="fa fa-check"></i><b>12</b> Mettre en ordre avec <code>tidyr</code></a><ul>
<li class="chapter" data-level="12.1" data-path="12-tidyr.html"><a href="12-tidyr.html#tidy-data"><i class="fa fa-check"></i><b>12.1</b> Tidy data</a></li>
<li class="chapter" data-level="12.2" data-path="12-tidyr.html"><a href="12-tidyr.html#trois-règles-pour-des-données-bien-rangées"><i class="fa fa-check"></i><b>12.2</b> Trois règles pour des données bien rangées</a></li>
<li class="chapter" data-level="12.3" data-path="12-tidyr.html"><a href="12-tidyr.html#les-verbes-de-tidyr"><i class="fa fa-check"></i><b>12.3</b> Les verbes de <code>tidyr</code></a><ul>
<li class="chapter" data-level="12.3.1" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_longer-transformer-des-colonnes-en-lignes"><i class="fa fa-check"></i><b>12.3.1</b> <code>pivot_longer</code> : transformer des colonnes en lignes</a></li>
<li class="chapter" data-level="12.3.2" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_wider-transformer-des-lignes-en-colonnes"><i class="fa fa-check"></i><b>12.3.2</b> <code>pivot_wider</code> : transformer des lignes en colonnes</a></li>
<li class="chapter" data-level="12.3.3" data-path="12-tidyr.html"><a href="12-tidyr.html#separate"><i class="fa fa-check"></i><b>12.3.3</b> <code>separate</code> : séparer une colonne en plusieurs colonnes</a></li>
<li class="chapter" data-level="12.3.4" data-path="12-tidyr.html"><a href="12-tidyr.html#separate-rows"><i class="fa fa-check"></i><b>12.3.4</b> <code>separate_rows</code> : séparer une colonne en plusieurs lignes</a></li>
<li class="chapter" data-level="12.3.5" data-path="12-tidyr.html"><a href="12-tidyr.html#unite-regrouper-plusieurs-colonnes-en-une-seule"><i class="fa fa-check"></i><b>12.3.5</b> <code>unite</code> : regrouper plusieurs colonnes en une seule</a></li>
<li class="chapter" data-level="12.3.6" data-path="12-tidyr.html"><a href="12-tidyr.html#extract"><i class="fa fa-check"></i><b>12.3.6</b> <code>extract</code> : créer de nouvelles colonnes à partir d’une colonne de texte</a></li>
<li class="chapter" data-level="12.3.7" data-path="12-tidyr.html"><a href="12-tidyr.html#complete-compléter-des-combinaisons-de-variables-manquantes"><i class="fa fa-check"></i><b>12.3.7</b> <code>complete</code> : compléter des combinaisons de variables manquantes</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="12-tidyr.html"><a href="12-tidyr.html#ressources-4"><i class="fa fa-check"></i><b>12.4</b> Ressources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html"><i class="fa fa-check"></i><b>13</b> Diffuser et publier avec <code>rmarkdown</code></a><ul>
<li class="chapter" data-level="13.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#créer-un-nouveau-document"><i class="fa fa-check"></i><b>13.1</b> Créer un nouveau document</a></li>
<li class="chapter" data-level="13.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#éléments-dun-document-r-markdown"><i class="fa fa-check"></i><b>13.2</b> Éléments d’un document R Markdown</a><ul>
<li class="chapter" data-level="13.2.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#en-tête-préambule"><i class="fa fa-check"></i><b>13.2.1</b> En-tête (préambule)</a></li>
<li class="chapter" data-level="13.2.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#texte-du-document"><i class="fa fa-check"></i><b>13.2.2</b> Texte du document</a></li>
<li class="chapter" data-level="13.2.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#blocs-de-code-r"><i class="fa fa-check"></i><b>13.2.3</b> Blocs de code R</a></li>
<li class="chapter" data-level="13.2.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#compiler-un-document-knit"><i class="fa fa-check"></i><b>13.2.4</b> Compiler un document (<em>Knit</em>)</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#personnaliser-le-document-généré"><i class="fa fa-check"></i><b>13.3</b> Personnaliser le document généré</a></li>
<li class="chapter" data-level="13.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-des-blocs-de-code-r"><i class="fa fa-check"></i><b>13.4</b> Options des blocs de code R</a><ul>
<li class="chapter" data-level="13.4.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#nom-du-bloc"><i class="fa fa-check"></i><b>13.4.1</b> Nom du bloc</a></li>
<li class="chapter" data-level="13.4.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options"><i class="fa fa-check"></i><b>13.4.2</b> Options</a></li>
<li class="chapter" data-level="13.4.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#modifier-les-options"><i class="fa fa-check"></i><b>13.4.3</b> Modifier les options</a></li>
<li class="chapter" data-level="13.4.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-globales"><i class="fa fa-check"></i><b>13.4.4</b> Options globales</a></li>
<li class="chapter" data-level="13.4.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#mise-en-cache-des-résultats"><i class="fa fa-check"></i><b>13.4.5</b> Mise en cache des résultats</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#rendu-des-tableaux"><i class="fa fa-check"></i><b>13.5</b> Rendu des tableaux</a><ul>
<li class="chapter" data-level="13.5.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-croisés-1"><i class="fa fa-check"></i><b>13.5.1</b> Tableaux croisés</a></li>
<li class="chapter" data-level="13.5.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-de-données-et-tris-à-plat"><i class="fa fa-check"></i><b>13.5.2</b> Tableaux de données et tris à plat</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates"><i class="fa fa-check"></i><b>13.6</b> Modèles de documents</a><ul>
<li class="chapter" data-level="13.6.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#slides"><i class="fa fa-check"></i><b>13.6.1</b> Slides</a></li>
<li class="chapter" data-level="13.6.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates-1"><i class="fa fa-check"></i><b>13.6.2</b> Templates</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#ressources-5"><i class="fa fa-check"></i><b>13.7</b> Ressources</a></li>
</ul></li>
<li class="part"><span><b>III Aller plus loin</b></span></li>
<li class="chapter" data-level="14" data-path="14-fonctions.html"><a href="14-fonctions.html"><i class="fa fa-check"></i><b>14</b> Écrire ses propres fonctions</a><ul>
<li class="chapter" data-level="14.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples"><i class="fa fa-check"></i><b>14.1</b> Introduction et exemples</a><ul>
<li class="chapter" data-level="14.1.1" data-path="14-fonctions.html"><a href="14-fonctions.html#structure-dune-fonction"><i class="fa fa-check"></i><b>14.1.1</b> Structure d’une fonction</a></li>
<li class="chapter" data-level="14.1.2" data-path="14-fonctions.html"><a href="14-fonctions.html#exemple-de-fonction"><i class="fa fa-check"></i><b>14.1.2</b> Exemple de fonction</a></li>
<li class="chapter" data-level="14.1.3" data-path="14-fonctions.html"><a href="14-fonctions.html#effets-de-bord-et-affichage-de-messages"><i class="fa fa-check"></i><b>14.1.3</b> Effets de bord et affichage de messages</a></li>
<li class="chapter" data-level="14.1.4" data-path="14-fonctions.html"><a href="14-fonctions.html#utilité-des-fonctions"><i class="fa fa-check"></i><b>14.1.4</b> Utilité des fonctions</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat-dune-fonction"><i class="fa fa-check"></i><b>14.2</b> Arguments et résultat d’une fonction</a><ul>
<li class="chapter" data-level="14.2.1" data-path="14-fonctions.html"><a href="14-fonctions.html#définition-des-arguments"><i class="fa fa-check"></i><b>14.2.1</b> Définition des arguments</a></li>
<li class="chapter" data-level="14.2.2" data-path="14-fonctions.html"><a href="14-fonctions.html#valeurs-par-défaut"><i class="fa fa-check"></i><b>14.2.2</b> Valeurs par défaut</a></li>
<li class="chapter" data-level="14.2.3" data-path="14-fonctions.html"><a href="14-fonctions.html#arg-oblig"><i class="fa fa-check"></i><b>14.2.3</b> Arguments obligatoires et arguments facultatifs</a></li>
<li class="chapter" data-level="14.2.4" data-path="14-fonctions.html"><a href="14-fonctions.html#largument-..."><i class="fa fa-check"></i><b>14.2.4</b> L’argument <code>...</code></a></li>
<li class="chapter" data-level="14.2.5" data-path="14-fonctions.html"><a href="14-fonctions.html#resfunc"><i class="fa fa-check"></i><b>14.2.5</b> Résultat d’une fonction</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables"><i class="fa fa-check"></i><b>14.3</b> Portée des variables</a><ul>
<li class="chapter" data-level="14.3.1" data-path="14-fonctions.html"><a href="14-fonctions.html#une-fonction-peut-accéder-à-un-objet-extérieur"><i class="fa fa-check"></i><b>14.3.1</b> Une fonction peut accéder à un objet extérieur</a></li>
<li class="chapter" data-level="14.3.2" data-path="14-fonctions.html"><a href="14-fonctions.html#les-arguments-et-les-objets-créés-dans-la-fonction-sont-prioritaires"><i class="fa fa-check"></i><b>14.3.2</b> Les arguments et les objets créés dans la fonction sont prioritaires</a></li>
<li class="chapter" data-level="14.3.3" data-path="14-fonctions.html"><a href="14-fonctions.html#un-objet-créé-dans-une-fonction-nexiste-que-dans-cette-fonction"><i class="fa fa-check"></i><b>14.3.3</b> Un objet créé dans une fonction n’existe que dans cette fonction</a></li>
<li class="chapter" data-level="14.3.4" data-path="14-fonctions.html"><a href="14-fonctions.html#on-ne-peut-pas-modifier-un-objet-global-dans-une-fonction"><i class="fa fa-check"></i><b>14.3.4</b> On ne peut pas modifier un objet global dans une fonction</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets"><i class="fa fa-check"></i><b>14.4</b> Les fonctions comme objets</a><ul>
<li class="chapter" data-level="14.4.1" data-path="14-fonctions.html"><a href="14-fonctions.html#passer-des-fonctions-comme-argument"><i class="fa fa-check"></i><b>14.4.1</b> Passer des fonctions comme argument</a></li>
<li class="chapter" data-level="14.4.2" data-path="14-fonctions.html"><a href="14-fonctions.html#fonctions-anonymes"><i class="fa fa-check"></i><b>14.4.2</b> Fonctions anonymes</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="14-fonctions.html"><a href="14-fonctions.html#ressources-6"><i class="fa fa-check"></i><b>14.5</b> Ressources</a></li>
<li class="chapter" data-level="14.6" data-path="14-fonctions.html"><a href="14-fonctions.html#exercices-7"><i class="fa fa-check"></i><b>14.6</b> Exercices</a><ul>
<li class="chapter" data-level="14.6.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples-1"><i class="fa fa-check"></i><b>14.6.1</b> Introduction et exemples</a></li>
<li class="chapter" data-level="14.6.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat"><i class="fa fa-check"></i><b>14.6.2</b> Arguments et résultat</a></li>
<li class="chapter" data-level="14.6.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables-1"><i class="fa fa-check"></i><b>14.6.3</b> Portée des variables</a></li>
<li class="chapter" data-level="14.6.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets-1"><i class="fa fa-check"></i><b>14.6.4</b> Les fonctions comme objets</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html"><i class="fa fa-check"></i><b>15</b> <code>dplyr</code> avancé</a><ul>
<li class="chapter" data-level="15.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions"><i class="fa fa-check"></i><b>15.1</b> Appliquer ses propres fonctions</a><ul>
<li class="chapter" data-level="15.1.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-mutate"><i class="fa fa-check"></i><b>15.1.1</b> Exemple avec <code>mutate</code></a></li>
<li class="chapter" data-level="15.1.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-summarise"><i class="fa fa-check"></i><b>15.1.2</b> Exemple avec <code>summarise</code></a></li>
<li class="chapter" data-level="15.1.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-rename_with"><i class="fa fa-check"></i><b>15.1.3</b> Exemple avec <code>rename_with</code></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across"><i class="fa fa-check"></i><b>15.2</b> <code>across()</code> : appliquer des fonctions à plusieurs colonnes</a><ul>
<li class="chapter" data-level="15.2.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-une-fonction-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.1</b> Appliquer une fonction à plusieurs colonnes</a></li>
<li class="chapter" data-level="15.2.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#passer-des-arguments-supplémentaires-à-la-fonction-appliquée"><i class="fa fa-check"></i><b>15.2.2</b> Passer des arguments supplémentaires à la fonction appliquée</a></li>
<li class="chapter" data-level="15.2.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#noms-des-colonnes-créées-par-un-mutate"><i class="fa fa-check"></i><b>15.2.3</b> Noms des colonnes créées par un <code>mutate</code></a></li>
<li class="chapter" data-level="15.2.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-plusieurs-fonctions-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.4</b> Appliquer plusieurs fonctions à plusieurs colonnes</a></li>
<li class="chapter" data-level="15.2.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#renommer-plusieurs-colonnes-avec-une-fonction"><i class="fa fa-check"></i><b>15.2.5</b> Renommer plusieurs colonnes avec une fonction</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#syntaxes-abregees"><i class="fa fa-check"></i><b>15.3</b> Fonctions anonymes et syntaxes abrégées</a></li>
<li class="chapter" data-level="15.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across-appliquer-une-transformation-ligne-par-ligne"><i class="fa fa-check"></i><b>15.4</b> <code>rowwise()</code> et <code>c_across()</code> : appliquer une transformation ligne par ligne</a></li>
<li class="chapter" data-level="15.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#ressources-7"><i class="fa fa-check"></i><b>15.5</b> Ressources</a></li>
<li class="chapter" data-level="15.6" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exercices-8"><i class="fa fa-check"></i><b>15.6</b> Exercices</a><ul>
<li class="chapter" data-level="15.6.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions-1"><i class="fa fa-check"></i><b>15.6.1</b> Appliquer ses propres fonctions</a></li>
<li class="chapter" data-level="15.6.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across-1"><i class="fa fa-check"></i><b>15.6.2</b> <code>across()</code></a></li>
<li class="chapter" data-level="15.6.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#fonctions-anonymes-et-notations-abrégées"><i class="fa fa-check"></i><b>15.6.3</b> Fonctions anonymes et notations abrégées</a></li>
<li class="chapter" data-level="15.6.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across"><i class="fa fa-check"></i><b>15.6.4</b> <code>rowwise()</code> et <code>c_across()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html"><i class="fa fa-check"></i><b>16</b> Structures de données</a><ul>
<li class="chapter" data-level="16.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques"><i class="fa fa-check"></i><b>16.1</b> Vecteurs atomiques</a><ul>
<li class="chapter" data-level="16.1.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-dun-vecteur"><i class="fa fa-check"></i><b>16.1.1</b> Création d’un vecteur</a></li>
<li class="chapter" data-level="16.1.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-nommés"><i class="fa fa-check"></i><b>16.1.2</b> Vecteurs nommés</a></li>
<li class="chapter" data-level="16.1.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#types-de-vecteurs"><i class="fa fa-check"></i><b>16.1.3</b> Types de vecteurs</a></li>
<li class="chapter" data-level="16.1.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments"><i class="fa fa-check"></i><b>16.1.4</b> Sélection d’éléments</a></li>
<li class="chapter" data-level="16.1.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification"><i class="fa fa-check"></i><b>16.1.5</b> Modification</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes"><i class="fa fa-check"></i><b>16.2</b> Listes</a><ul>
<li class="chapter" data-level="16.2.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création"><i class="fa fa-check"></i><b>16.2.1</b> Création</a></li>
<li class="chapter" data-level="16.2.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ajout-déléments"><i class="fa fa-check"></i><b>16.2.2</b> Ajout d’éléments</a></li>
<li class="chapter" data-level="16.2.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments-1"><i class="fa fa-check"></i><b>16.2.3</b> Sélection d’éléments</a></li>
<li class="chapter" data-level="16.2.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-1"><i class="fa fa-check"></i><b>16.2.4</b> Modification</a></li>
<li class="chapter" data-level="16.2.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#utilisation"><i class="fa fa-check"></i><b>16.2.5</b> Utilisation</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#data-frame-tibbles"><i class="fa fa-check"></i><b>16.3</b> Tableaux de données (<em>data frame</em> et <em>tibble</em>)</a><ul>
<li class="chapter" data-level="16.3.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-1"><i class="fa fa-check"></i><b>16.3.1</b> Création</a></li>
<li class="chapter" data-level="16.3.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#noms-de-colonnes-et-de-lignes"><i class="fa fa-check"></i><b>16.3.2</b> Noms de colonnes et de lignes</a></li>
<li class="chapter" data-level="16.3.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#df-sel"><i class="fa fa-check"></i><b>16.3.3</b> Sélection de lignes et de colonnes</a></li>
<li class="chapter" data-level="16.3.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-2"><i class="fa fa-check"></i><b>16.3.4</b> Modification</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ressources-8"><i class="fa fa-check"></i><b>16.4</b> Ressources</a></li>
<li class="chapter" data-level="16.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#exercices-9"><i class="fa fa-check"></i><b>16.5</b> Exercices</a><ul>
<li class="chapter" data-level="16.5.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques-1"><i class="fa fa-check"></i><b>16.5.1</b> Vecteurs atomiques</a></li>
<li class="chapter" data-level="16.5.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes-1"><i class="fa fa-check"></i><b>16.5.2</b> Listes</a></li>
<li class="chapter" data-level="16.5.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#tableaux-de-données"><i class="fa fa-check"></i><b>16.5.3</b> Tableaux de données</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="17-if-boucles.html"><a href="17-if-boucles.html"><i class="fa fa-check"></i><b>17</b> Exécution conditionnelle et boucles</a><ul>
<li class="chapter" data-level="17.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else-exécuter-du-code-sous-certaines-conditions"><i class="fa fa-check"></i><b>17.1</b> <code>if</code> et <code>else</code> : exécuter du code sous certaines conditions</a><ul>
<li class="chapter" data-level="17.1.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if"><i class="fa fa-check"></i><b>17.1.1</b> <code>if</code></a></li>
<li class="chapter" data-level="17.1.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-1"><i class="fa fa-check"></i><b>17.1.2</b> <code>if</code> / <code>else</code></a></li>
<li class="chapter" data-level="17.1.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-if-else"><i class="fa fa-check"></i><b>17.1.3</b> “<code>if</code>” / “<code>else if</code>” / “<code>else</code>”</a></li>
<li class="chapter" data-level="17.1.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#construction-de-conditions-complexes"><i class="fa fa-check"></i><b>17.1.4</b> Construction de conditions complexes</a></li>
<li class="chapter" data-level="17.1.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#différence-entre-if-else-et-ifelse"><i class="fa fa-check"></i><b>17.1.5</b> Différence entre <code>if</code> / <code>else</code> et <code>ifelse</code></a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution-et-gestion-des-erreurs"><i class="fa fa-check"></i><b>17.2</b> Contrôle de l’exécution et gestion des erreurs</a><ul>
<li class="chapter" data-level="17.2.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#utilisation-de-return-pour-sortir-de-la-fonction"><i class="fa fa-check"></i><b>17.2.1</b> Utilisation de <code>return</code> pour sortir de la fonction</a></li>
<li class="chapter" data-level="17.2.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#warning"><i class="fa fa-check"></i><b>17.2.2</b> <code>warning</code></a></li>
<li class="chapter" data-level="17.2.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#stop-et-stopifnot"><i class="fa fa-check"></i><b>17.2.3</b> <code>stop</code> et <code>stopifnot</code></a></li>
<li class="chapter" data-level="17.2.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#test-arg"><i class="fa fa-check"></i><b>17.2.4</b> Tester la présence d’un argument facultatif</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for-et-while-répéter-des-instructions-dans-une-boucle"><i class="fa fa-check"></i><b>17.3</b> <code>for</code> et <code>while</code> : répéter des instructions dans une boucle</a><ul>
<li class="chapter" data-level="17.3.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for"><i class="fa fa-check"></i><b>17.3.1</b> <code>for</code></a></li>
<li class="chapter" data-level="17.3.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#while"><i class="fa fa-check"></i><b>17.3.2</b> <code>while</code></a></li>
<li class="chapter" data-level="17.3.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#next-et-break"><i class="fa fa-check"></i><b>17.3.3</b> <code>next</code> et <code>break</code></a></li>
<li class="chapter" data-level="17.3.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#no-boucles"><i class="fa fa-check"></i><b>17.3.4</b> Quand (ne pas) utiliser des boucles</a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#ressources-boucles"><i class="fa fa-check"></i><b>17.4</b> Ressources</a></li>
<li class="chapter" data-level="17.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#exercices-10"><i class="fa fa-check"></i><b>17.5</b> Exercices</a><ul>
<li class="chapter" data-level="17.5.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else"><i class="fa fa-check"></i><b>17.5.1</b> <code>if</code> et <code>else</code></a></li>
<li class="chapter" data-level="17.5.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution"><i class="fa fa-check"></i><b>17.5.2</b> Contrôle de l’exécution</a></li>
<li class="chapter" data-level="17.5.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#boucles"><i class="fa fa-check"></i><b>17.5.3</b> Boucles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="18-purrr.html"><a href="18-purrr.html"><i class="fa fa-check"></i><b>18</b> Itérer avec <code>purrr</code></a><ul>
<li class="chapter" data-level="18.1" data-path="18-purrr.html"><a href="18-purrr.html#exemple-dapplication"><i class="fa fa-check"></i><b>18.1</b> Exemple d’application</a></li>
<li class="chapter" data-level="18.2" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes"><i class="fa fa-check"></i><b>18.2</b> <code>map</code> et ses variantes</a><ul>
<li class="chapter" data-level="18.2.1" data-path="18-purrr.html"><a href="18-purrr.html#modes-dappel-de-map"><i class="fa fa-check"></i><b>18.2.1</b> Modes d’appel de <code>map</code></a></li>
<li class="chapter" data-level="18.2.2" data-path="18-purrr.html"><a href="18-purrr.html#variantes-de-map"><i class="fa fa-check"></i><b>18.2.2</b> Variantes de <code>map</code></a></li>
<li class="chapter" data-level="18.2.3" data-path="18-purrr.html"><a href="18-purrr.html#map_dfr-et-map_dfc"><i class="fa fa-check"></i><b>18.2.3</b> <code>map_dfr()</code> et <code>map_dfc()</code></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="18-purrr.html"><a href="18-purrr.html#itérer-sur-les-colonnes-dun-tableau-de-données"><i class="fa fa-check"></i><b>18.3</b> Itérer sur les colonnes d’un tableau de données</a></li>
<li class="chapter" data-level="18.4" data-path="18-purrr.html"><a href="18-purrr.html#modify"><i class="fa fa-check"></i><b>18.4</b> <code>modify</code></a></li>
<li class="chapter" data-level="18.5" data-path="18-purrr.html"><a href="18-purrr.html#imap"><i class="fa fa-check"></i><b>18.5</b> <code>imap</code></a></li>
<li class="chapter" data-level="18.6" data-path="18-purrr.html"><a href="18-purrr.html#walk"><i class="fa fa-check"></i><b>18.6</b> <code>walk</code></a></li>
<li class="chapter" data-level="18.7" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap-itérer-sur-plusieurs-vecteurs-en-parallèle"><i class="fa fa-check"></i><b>18.7</b> <code>map2</code> et <code>pmap</code> : itérer sur plusieurs vecteurs en parallèle</a></li>
<li class="chapter" data-level="18.8" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération"><i class="fa fa-check"></i><b>18.8</b> Répéter une opération</a></li>
<li class="chapter" data-level="18.9" data-path="18-purrr.html"><a href="18-purrr.html#quand-ne-pas-utiliser-map"><i class="fa fa-check"></i><b>18.9</b> Quand (ne pas) utiliser <code>map</code></a></li>
<li class="chapter" data-level="18.10" data-path="18-purrr.html"><a href="18-purrr.html#purrr-vs-apply"><i class="fa fa-check"></i><b>18.10</b> <code>purrr</code> vs <code>*apply</code></a></li>
<li class="chapter" data-level="18.11" data-path="18-purrr.html"><a href="18-purrr.html#ressources-9"><i class="fa fa-check"></i><b>18.11</b> Ressources</a></li>
<li class="chapter" data-level="18.12" data-path="18-purrr.html"><a href="18-purrr.html#exercices-11"><i class="fa fa-check"></i><b>18.12</b> Exercices</a><ul>
<li class="chapter" data-level="18.12.1" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes-1"><i class="fa fa-check"></i><b>18.12.1</b> <code>map</code> et ses variantes</a></li>
<li class="chapter" data-level="18.12.2" data-path="18-purrr.html"><a href="18-purrr.html#modify-et-itération-sur-les-colonnes-dun-tableau"><i class="fa fa-check"></i><b>18.12.2</b> <code>modify</code> et itération sur les colonnes d’un tableau</a></li>
<li class="chapter" data-level="18.12.3" data-path="18-purrr.html"><a href="18-purrr.html#imap-et-walk"><i class="fa fa-check"></i><b>18.12.3</b> <code>imap</code> et <code>walk</code></a></li>
<li class="chapter" data-level="18.12.4" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap"><i class="fa fa-check"></i><b>18.12.4</b> <code>map2</code> et <code>pmap</code></a></li>
<li class="chapter" data-level="18.12.5" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération-1"><i class="fa fa-check"></i><b>18.12.5</b> Répéter une opération</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html"><i class="fa fa-check"></i><b>19</b> Programmer avec le <em>tidyverse</em></a><ul>
<li class="chapter" data-level="19.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#spécificités-du-tidyverse"><i class="fa fa-check"></i><b>19.1</b> Spécificités du <em>tidyverse</em></a><ul>
<li class="chapter" data-level="19.1.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#data-masking"><i class="fa fa-check"></i><b>19.1.1</b> <em>data masking</em></a></li>
<li class="chapter" data-level="19.1.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#tidy-selection"><i class="fa fa-check"></i><b>19.1.2</b> <em>tidy selection</em></a></li>
<li class="chapter" data-level="19.1.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utilisation-dans-des-fonctions"><i class="fa fa-check"></i><b>19.1.3</b> Utilisation dans des fonctions</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.2</b> Programmer avec <code>dplyr</code> et <code>tidyr</code></a><ul>
<li class="chapter" data-level="19.2.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-colonne-passée-en-argument"><i class="fa fa-check"></i><b>19.2.1</b> Utiliser une colonne passée en argument</a></li>
<li class="chapter" data-level="19.2.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-sélection-de-colonnes-passée-en-argument"><i class="fa fa-check"></i><b>19.2.2</b> Utiliser une sélection de colonnes passée en argument</a></li>
<li class="chapter" data-level="19.2.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#nommer-de-nouvelles-colonnes-à-partir-dun-argument"><i class="fa fa-check"></i><b>19.2.3</b> Nommer de nouvelles colonnes à partir d’un argument</a></li>
<li class="chapter" data-level="19.2.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#désambiguïser-data-et-env"><i class="fa fa-check"></i><b>19.2.4</b> Désambiguïser data et env</a></li>
<li class="chapter" data-level="19.2.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#quand-les-arguments-sont-des-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.2.5</b> Quand les arguments sont des chaînes de caractères</a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-ggplot2"><i class="fa fa-check"></i><b>19.3</b> Programmer avec <code>ggplot2</code></a><ul>
<li class="chapter" data-level="19.3.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#sélection-de-colonnes-avec-aes"><i class="fa fa-check"></i><b>19.3.1</b> Sélection de colonnes avec <code>aes()</code></a></li>
<li class="chapter" data-level="19.3.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#faceting-1"><i class="fa fa-check"></i><b>19.3.2</b> Faceting</a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#aide-mémoire"><i class="fa fa-check"></i><b>19.4</b> Aide-mémoire</a></li>
<li class="chapter" data-level="19.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ressources-10"><i class="fa fa-check"></i><b>19.5</b> Ressources</a></li>
<li class="chapter" data-level="19.6" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#exercices-12"><i class="fa fa-check"></i><b>19.6</b> Exercices</a><ul>
<li class="chapter" data-level="19.6.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.6.1</b> <code>dplyr</code> et <code>tidyr</code></a></li>
<li class="chapter" data-level="19.6.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#noms-de-colonnes-en-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.6.2</b> Noms de colonnes en chaînes de caractères</a></li>
<li class="chapter" data-level="19.6.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ambiguïté-data-env"><i class="fa fa-check"></i><b>19.6.3</b> Ambiguïté <code>data</code> / <code>env</code></a></li>
<li class="chapter" data-level="19.6.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ggplot2-1"><i class="fa fa-check"></i><b>19.6.4</b> <code>ggplot2</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html"><i class="fa fa-check"></i><b>20</b> Débuggage et performance</a><ul>
<li class="chapter" data-level="20.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#débugguer-une-fonction"><i class="fa fa-check"></i><b>20.1</b> Débugguer une fonction</a><ul>
<li class="chapter" data-level="20.1.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#print"><i class="fa fa-check"></i><b>20.1.1</b> print()</a></li>
<li class="chapter" data-level="20.1.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#localiser-une-erreur"><i class="fa fa-check"></i><b>20.1.2</b> Localiser une erreur</a></li>
<li class="chapter" data-level="20.1.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#browser"><i class="fa fa-check"></i><b>20.1.3</b> browser()</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#benchmarking-mesurer-et-comparer-les-temps-dexécution"><i class="fa fa-check"></i><b>20.2</b> benchmarking : mesurer et comparer les temps d’exécution</a></li>
<li class="chapter" data-level="20.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#quelques-conseils-doptimisation"><i class="fa fa-check"></i><b>20.3</b> Quelques conseils d’optimisation</a><ul>
<li class="chapter" data-level="20.3.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#privilégier-les-fonctions-vectorisées"><i class="fa fa-check"></i><b>20.3.1</b> Privilégier les fonctions vectorisées</a></li>
<li class="chapter" data-level="20.3.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-le-minimum-dopérations-dans-les-boucles"><i class="fa fa-check"></i><b>20.3.2</b> Mettre le minimum d’opérations dans les boucles</a></li>
<li class="chapter" data-level="20.3.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#choisir-un-format-de-fichier-adapté"><i class="fa fa-check"></i><b>20.3.3</b> Choisir un format de fichier adapté</a></li>
<li class="chapter" data-level="20.3.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#repérer-les-opérations-coûteuses-avec-du-profiling"><i class="fa fa-check"></i><b>20.3.4</b> Repérer les opérations coûteuses avec du <em>profiling</em></a></li>
<li class="chapter" data-level="20.3.5" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-en-cache-des-résultats-intermédiaires"><i class="fa fa-check"></i><b>20.3.5</b> Mettre en cache des résultats intermédiaires</a></li>
<li class="chapter" data-level="20.3.6" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#utiliser-dautres-extensions"><i class="fa fa-check"></i><b>20.3.6</b> Utiliser d’autres extensions</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#ressources-11"><i class="fa fa-check"></i><b>20.4</b> Ressources</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="21-targets.html"><a href="21-targets.html"><i class="fa fa-check"></i><b>21</b> Organiser un projet avec <code>targets</code></a><ul>
<li class="chapter" data-level="21.1" data-path="21-targets.html"><a href="21-targets.html#définition-du-pipeline"><i class="fa fa-check"></i><b>21.1</b> Définition du pipeline</a><ul>
<li class="chapter" data-level="21.1.1" data-path="21-targets.html"><a href="21-targets.html#projet-dexemple"><i class="fa fa-check"></i><b>21.1.1</b> Projet d’exemple</a></li>
<li class="chapter" data-level="21.1.2" data-path="21-targets.html"><a href="21-targets.html#targets.r"><i class="fa fa-check"></i><b>21.1.2</b> <code>_targets.R</code></a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="21-targets.html"><a href="21-targets.html#exécution-du-pipeline"><i class="fa fa-check"></i><b>21.2</b> Exécution du pipeline</a></li>
<li class="chapter" data-level="21.3" data-path="21-targets.html"><a href="21-targets.html#modification-du-pipeline"><i class="fa fa-check"></i><b>21.3</b> Modification du pipeline</a></li>
<li class="chapter" data-level="21.4" data-path="21-targets.html"><a href="21-targets.html#rmarkdown"><i class="fa fa-check"></i><b>21.4</b> RMarkdown</a></li>
<li class="chapter" data-level="21.5" data-path="21-targets.html"><a href="21-targets.html#gestion-des-données-en-cache"><i class="fa fa-check"></i><b>21.5</b> Gestion des données en cache</a></li>
<li class="chapter" data-level="21.6" data-path="21-targets.html"><a href="21-targets.html#avantages-et-limites"><i class="fa fa-check"></i><b>21.6</b> Avantages et limites</a><ul>
<li class="chapter" data-level="21.6.1" data-path="21-targets.html"><a href="21-targets.html#avantages"><i class="fa fa-check"></i><b>21.6.1</b> Avantages</a></li>
<li class="chapter" data-level="21.6.2" data-path="21-targets.html"><a href="21-targets.html#interactivité-et-développement-du-pipeline"><i class="fa fa-check"></i><b>21.6.2</b> Interactivité et développement du pipeline</a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="21-targets.html"><a href="21-targets.html#ressources-12"><i class="fa fa-check"></i><b>21.7</b> Ressources</a></li>
</ul></li>
<li class="appendix"><span><b>Annexes</b></span></li>
<li class="chapter" data-level="A" data-path="22-ressources.html"><a href="22-ressources.html"><i class="fa fa-check"></i><b>A</b> Ressources</a><ul>
<li class="chapter" data-level="A.1" data-path="22-ressources.html"><a href="22-ressources.html#aide"><i class="fa fa-check"></i><b>A.1</b> Aide</a><ul>
<li class="chapter" data-level="A.1.1" data-path="22-ressources.html"><a href="22-ressources.html#aide-de-r-et-rstudio"><i class="fa fa-check"></i><b>A.1.1</b> Aide de R et RStudio</a></li>
<li class="chapter" data-level="A.1.2" data-path="22-ressources.html"><a href="22-ressources.html#aide-en-ligne"><i class="fa fa-check"></i><b>A.1.2</b> Aide en ligne</a></li>
<li class="chapter" data-level="A.1.3" data-path="22-ressources.html"><a href="22-ressources.html#antisèches"><i class="fa fa-check"></i><b>A.1.3</b> Antisèches</a></li>
<li class="chapter" data-level="A.1.4" data-path="22-ressources.html"><a href="22-ressources.html#où-poser-des-questions"><i class="fa fa-check"></i><b>A.1.4</b> Où poser des questions</a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="22-ressources.html"><a href="22-ressources.html#ouvrages-blogs-moocs"><i class="fa fa-check"></i><b>A.2</b> Ouvrages, blogs, MOOCs…</a><ul>
<li class="chapter" data-level="A.2.1" data-path="22-ressources.html"><a href="22-ressources.html#francophones"><i class="fa fa-check"></i><b>A.2.1</b> Francophones</a></li>
<li class="chapter" data-level="A.2.2" data-path="22-ressources.html"><a href="22-ressources.html#anglophones"><i class="fa fa-check"></i><b>A.2.2</b> Anglophones</a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="22-ressources.html"><a href="22-ressources.html#extensions-1"><i class="fa fa-check"></i><b>A.3</b> Extensions</a><ul>
<li class="chapter" data-level="A.3.1" data-path="22-ressources.html"><a href="22-ressources.html#où-trouver-des-extensions-intéressantes"><i class="fa fa-check"></i><b>A.3.1</b> Où trouver des extensions intéressantes ?</a></li>
<li class="chapter" data-level="A.3.2" data-path="22-ressources.html"><a href="22-ressources.html#lextension-questionr"><i class="fa fa-check"></i><b>A.3.2</b> L’extension <code>questionr</code></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction à R et au tidyverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="structures-donnees" class="section level1">
<h1><span class="header-section-number">Partie 16</span> Structures de données</h1>
<p>R propose de nombreuses structures de données différentes, et les extensions peuvent en implémenter de nouvelles. Cette section introduit trois structures parmi les plus utilisées : les <strong>vecteurs atomiques</strong>, les <strong>listes</strong> et les <strong>tableaux de données</strong>. Certaines ont déjà été abordées et utilisées précédemment, mais connaître leurs spécificités et savoir les manipuler est utile voire indispensable, notamment lorsqu’on veut créer ses propres fonctions.</p>
<div id="vecteurs-atomiques" class="section level2">
<h2><span class="header-section-number">16.1</span> Vecteurs atomiques</h2>
<p>Les vecteurs atomiques sont des structures qui regroupent ensemble plusieurs éléments constitués d’une seule valeur, avec deux contraintes : ces valeurs doivent toutes être du même type. Les vecteurs atomiques ont déjà été introduits section <a href="09-recodages.html#vecteurs">9.1</a>.</p>
<div id="création-dun-vecteur" class="section level3">
<h3><span class="header-section-number">16.1.1</span> Création d’un vecteur</h3>
<p>On peut construire un vecteur manuellement avec la fonction <code>c()</code>.</p>
<div class="sourceCode" id="cb786"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb786-1"><a href="16-structures-donnees.html#cb786-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">8</span>)</span></code></pre></div>
<p>Si on souhaite générer un vecteur de valeurs entières successives, on peut utiliser l’opérateur <code>:</code> ou la fonction <code>seq_len()</code>.</p>
<div class="sourceCode" id="cb787"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb787-1"><a href="16-structures-donnees.html#cb787-1"></a><span class="dv">2</span><span class="op">:</span><span class="dv">8</span></span>
<span id="cb787-2"><a href="16-structures-donnees.html#cb787-2"></a><span class="co">#&gt; [1] 2 3 4 5 6 7 8</span></span>
<span id="cb787-3"><a href="16-structures-donnees.html#cb787-3"></a><span class="kw">seq_len</span>(<span class="dv">5</span>)</span>
<span id="cb787-4"><a href="16-structures-donnees.html#cb787-4"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div>
<p>La fonction <code>seq()</code> permet de générer des séquences régulière plus complexes.</p>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="16-structures-donnees.html#cb788-1"></a><span class="kw">seq</span>(<span class="fl">0.5</span>, <span class="fl">2.5</span>, <span class="dt">by =</span> <span class="fl">0.5</span>)</span>
<span id="cb788-2"><a href="16-structures-donnees.html#cb788-2"></a><span class="co">#&gt; [1] 0.5 1.0 1.5 2.0 2.5</span></span>
<span id="cb788-3"><a href="16-structures-donnees.html#cb788-3"></a><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">4</span>, <span class="dt">length.out =</span> <span class="dv">6</span>)</span>
<span id="cb788-4"><a href="16-structures-donnees.html#cb788-4"></a><span class="co">#&gt; [1] 0.0 0.8 1.6 2.4 3.2 4.0</span></span></code></pre></div>
<p>Une autre variante de <code>seq()</code>, nommée <code>seq_along()</code>, permet de générer un vecteur d’entiers correspondant à la longueur d’un objet passé en argument :</p>
<div class="sourceCode" id="cb789"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb789-1"><a href="16-structures-donnees.html#cb789-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Poire&quot;</span>)</span>
<span id="cb789-2"><a href="16-structures-donnees.html#cb789-2"></a><span class="kw">seq_along</span>(x)</span>
<span id="cb789-3"><a href="16-structures-donnees.html#cb789-3"></a><span class="co">#&gt; [1] 1 2</span></span>
<span id="cb789-4"><a href="16-structures-donnees.html#cb789-4"></a>y &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">10</span>)</span>
<span id="cb789-5"><a href="16-structures-donnees.html#cb789-5"></a><span class="kw">seq_along</span>(y)</span>
<span id="cb789-6"><a href="16-structures-donnees.html#cb789-6"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>Enfin, la fonction <code>rep()</code> permet de répéter un élément ou un vecteur.</p>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="16-structures-donnees.html#cb790-1"></a><span class="kw">rep</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="dv">6</span>)</span>
<span id="cb790-2"><a href="16-structures-donnees.html#cb790-2"></a><span class="co">#&gt; [1] &quot;Pomme&quot; &quot;Pomme&quot; &quot;Pomme&quot; &quot;Pomme&quot; &quot;Pomme&quot; &quot;Pomme&quot;</span></span>
<span id="cb790-3"><a href="16-structures-donnees.html#cb790-3"></a><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb790-4"><a href="16-structures-donnees.html#cb790-4"></a><span class="co">#&gt; [1] 1 2 3 4 1 2 3 4</span></span></code></pre></div>
<p>Si on souhaite connaître le nombre d’éléments d’un vecteur, on peut utiliser la fonction <code>length()</code>.</p>
<div class="sourceCode" id="cb791"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb791-1"><a href="16-structures-donnees.html#cb791-1"></a>v &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb791-2"><a href="16-structures-donnees.html#cb791-2"></a><span class="kw">length</span>(v)</span>
<span id="cb791-3"><a href="16-structures-donnees.html#cb791-3"></a><span class="co">#&gt; [1] 8</span></span></code></pre></div>
<p>Il peut parfois être utile de créer des vecteurs “vides”. Dans ce cas on peut les initialiser avec les fonctions <code>vector()</code>, <code>character()</code> ou <code>numeric()</code>. Par défaut ces fonctions renvoient un vecteur sans élément, mais on peut aussi leur indiquer en argument le nombre d’éléments souhaités (qui seront alors initialisés avec une valeur par défaut).</p>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="16-structures-donnees.html#cb792-1"></a><span class="kw">numeric</span>()</span>
<span id="cb792-2"><a href="16-structures-donnees.html#cb792-2"></a><span class="co">#&gt; numeric(0)</span></span>
<span id="cb792-3"><a href="16-structures-donnees.html#cb792-3"></a><span class="kw">character</span>(<span class="dv">2</span>)</span>
<span id="cb792-4"><a href="16-structures-donnees.html#cb792-4"></a><span class="co">#&gt; [1] &quot;&quot; &quot;&quot;</span></span></code></pre></div>
</div>
<div id="vecteurs-nommés" class="section level3">
<h3><span class="header-section-number">16.1.2</span> Vecteurs nommés</h3>
<p>Les éléments d’un vecteur peuvent être nommés. Ces noms peuvent êtré définis au moment de la création du vecteur.</p>
<div class="sourceCode" id="cb793"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb793-1"><a href="16-structures-donnees.html#cb793-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">e1 =</span> <span class="dv">1</span>, <span class="dt">e2 =</span> <span class="dv">3</span>, <span class="dt">e3 =</span> <span class="dv">8</span>)</span>
<span id="cb793-2"><a href="16-structures-donnees.html#cb793-2"></a>x</span>
<span id="cb793-3"><a href="16-structures-donnees.html#cb793-3"></a><span class="co">#&gt; e1 e2 e3 </span></span>
<span id="cb793-4"><a href="16-structures-donnees.html#cb793-4"></a><span class="co">#&gt;  1  3  8</span></span></code></pre></div>
<p>On peut utiliser <code>names()</code> pour récupérer les noms des éléments d’un vecteur.</p>
<div class="sourceCode" id="cb794"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb794-1"><a href="16-structures-donnees.html#cb794-1"></a><span class="kw">names</span>(x)</span>
<span id="cb794-2"><a href="16-structures-donnees.html#cb794-2"></a><span class="co">#&gt; [1] &quot;e1&quot; &quot;e2&quot; &quot;e3&quot;</span></span></code></pre></div>
<p>On peut aussi utiliser <code>names()</code> pour créer ou modifier les noms d’un vecteur existant.</p>
<div class="sourceCode" id="cb795"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb795-1"><a href="16-structures-donnees.html#cb795-1"></a><span class="kw">names</span>(x) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;brouette&quot;</span>, <span class="st">&quot;moto&quot;</span>, <span class="st">&quot;igloo&quot;</span>)</span>
<span id="cb795-2"><a href="16-structures-donnees.html#cb795-2"></a>x</span>
<span id="cb795-3"><a href="16-structures-donnees.html#cb795-3"></a><span class="co">#&gt; brouette     moto    igloo </span></span>
<span id="cb795-4"><a href="16-structures-donnees.html#cb795-4"></a><span class="co">#&gt;        1        3        8</span></span></code></pre></div>
</div>
<div id="types-de-vecteurs" class="section level3">
<h3><span class="header-section-number">16.1.3</span> Types de vecteurs</h3>
<p>On peut déterminer le type d’un vecteur avec l’instruction <code>typeof</code>.</p>
<div class="sourceCode" id="cb796"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb796-1"><a href="16-structures-donnees.html#cb796-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">8</span>)</span>
<span id="cb796-2"><a href="16-structures-donnees.html#cb796-2"></a><span class="kw">typeof</span>(x)</span>
<span id="cb796-3"><a href="16-structures-donnees.html#cb796-3"></a><span class="co">#&gt; [1] &quot;double&quot;</span></span>
<span id="cb796-4"><a href="16-structures-donnees.html#cb796-4"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;baz&quot;</span>)</span>
<span id="cb796-5"><a href="16-structures-donnees.html#cb796-5"></a><span class="kw">typeof</span>(y)</span>
<span id="cb796-6"><a href="16-structures-donnees.html#cb796-6"></a><span class="co">#&gt; [1] &quot;character&quot;</span></span>
<span id="cb796-7"><a href="16-structures-donnees.html#cb796-7"></a>z &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">FALSE</span>)</span>
<span id="cb796-8"><a href="16-structures-donnees.html#cb796-8"></a><span class="kw">typeof</span>(z)</span>
<span id="cb796-9"><a href="16-structures-donnees.html#cb796-9"></a><span class="co">#&gt; [1] &quot;logical&quot;</span></span></code></pre></div>
<p>Parmi les principaux types de données on notera<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a> :</p>
<ul>
<li>les chaînes de caractères (<code>character</code>)</li>
<li>les nombres flottants (<code>double</code>)</li>
<li>les nombres entiers (<code>integer</code>)</li>
<li>les valeurs logiques (<code>logical</code>)</li>
</ul>
<p>À noter que par défaut les nombres sont considérés comme des nombres flottants (des nombres décimaux avec une virgule) : pour les définir explicitement comme nombres entiers on peut leur ajouter le suffixe <code>L</code>.</p>
<div class="sourceCode" id="cb797"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb797-1"><a href="16-structures-donnees.html#cb797-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(1L, 3L, 8L)</span>
<span id="cb797-2"><a href="16-structures-donnees.html#cb797-2"></a><span class="kw">typeof</span>(x)</span>
<span id="cb797-3"><a href="16-structures-donnees.html#cb797-3"></a><span class="co">#&gt; [1] &quot;integer&quot;</span></span></code></pre></div>
<p>On peut tester le type d’un vecteur avec les fonctions <code>is.character</code>, <code>is.double</code>, <code>is.logical</code>… Autre fonction utile, <code>is.numeric</code> teste si un vecteur est de type <code>double</code> ou <code>integer</code>.</p>
<div class="sourceCode" id="cb798"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb798-1"><a href="16-structures-donnees.html#cb798-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">8</span>)</span>
<span id="cb798-2"><a href="16-structures-donnees.html#cb798-2"></a><span class="kw">is.numeric</span>(x)</span>
<span id="cb798-3"><a href="16-structures-donnees.html#cb798-3"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb798-4"><a href="16-structures-donnees.html#cb798-4"></a>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb798-5"><a href="16-structures-donnees.html#cb798-5"></a><span class="co">#&gt; [1] FALSE  TRUE  TRUE</span></span>
<span id="cb798-6"><a href="16-structures-donnees.html#cb798-6"></a><span class="kw">is.logical</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">2</span>)</span>
<span id="cb798-7"><a href="16-structures-donnees.html#cb798-7"></a><span class="co">#&gt; [1] TRUE</span></span>
<span id="cb798-8"><a href="16-structures-donnees.html#cb798-8"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;bar&quot;</span>, <span class="st">&quot;baz&quot;</span>)</span>
<span id="cb798-9"><a href="16-structures-donnees.html#cb798-9"></a><span class="kw">is.character</span>(y)</span>
<span id="cb798-10"><a href="16-structures-donnees.html#cb798-10"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Petite spécificité, les facteurs (voir section <a href="09-recodages.html#facteurs">9.3.1</a>) ne sont pas considérés par R comme des <code>character</code>, même s’ils comportent des chaînes de caractères. Pour tester si un vecteur est de type facteur, on utilise <code>is.factor()</code>.</p>
<div class="sourceCode" id="cb799"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb799-1"><a href="16-structures-donnees.html#cb799-1"></a>fac &lt;-<span class="st"> </span><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;rouge&quot;</span>, <span class="st">&quot;vert&quot;</span>, <span class="st">&quot;rouge&quot;</span>))</span>
<span id="cb799-2"><a href="16-structures-donnees.html#cb799-2"></a><span class="kw">is.character</span>(fac)</span>
<span id="cb799-3"><a href="16-structures-donnees.html#cb799-3"></a><span class="co">#&gt; [1] FALSE</span></span>
<span id="cb799-4"><a href="16-structures-donnees.html#cb799-4"></a><span class="kw">is.factor</span>(fac)</span>
<span id="cb799-5"><a href="16-structures-donnees.html#cb799-5"></a><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Tous les éléments d’un vecteur doivent être du même type. Si ça n’est pas le cas, les éléments seront convertis au type le plus “général” présent dans le vecteur, sachant que les <code>character</code> sont plus généraux que les <code>numeric</code>, qui sont eux-mêmes plus généraux que les <code>logical</code>.</p>
<p>Dans l’exemple suivant, le nombre <code>1</code> est transformé en chaîne de caractère <code>"1"</code>.</p>
<div class="sourceCode" id="cb800"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb800-1"><a href="16-structures-donnees.html#cb800-1"></a><span class="kw">c</span>(<span class="dv">1</span>, <span class="st">&quot;foo&quot;</span>)</span>
<span id="cb800-2"><a href="16-structures-donnees.html#cb800-2"></a><span class="co">#&gt; [1] &quot;1&quot;   &quot;foo&quot;</span></span></code></pre></div>
<p>Si on mélange nombres et valeurs logiques, les <code>TRUE</code> sont convertis en <code>1</code> et les <code>FALSE</code> en <code>0</code>.</p>
<div class="sourceCode" id="cb801"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb801-1"><a href="16-structures-donnees.html#cb801-1"></a><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="dv">2</span>, <span class="ot">FALSE</span>)</span>
<span id="cb801-2"><a href="16-structures-donnees.html#cb801-2"></a><span class="co">#&gt; [1] 1 2 0</span></span></code></pre></div>
<div class="rmdnote">
<p>
Si la valeur <code>NA</code>, comme on l’a vu, permet d’indiquer une valeur manquante (<code>Not Available</code>), il existe en réalité plusieurs types de <code>NA</code>, même si cette distinction est la plupart du temps transparente pour l’utilisateur. On a ainsi notamment des valeurs <code>NA_integer_</code>, <code>NA_character_</code>, <code>NA_real_</code>.
</p>
</div>
<p>La conversion automatique d’un type en un autre est à l’origine d’un idiome courant en R. Quand on applique une fonction qui attend un vecteur de nombres à un vecteur de valeurs logiques, celles-ci sont automatiquement converties, les <code>TRUE</code> devenant 1 et les <code>FALSE</code> devenant 0. Du coup, si on applique <code>sum()</code> à un vecteur de valeurs logiques, le résultat est égal au nombre de valeurs <code>TRUE</code>.</p>
<div class="sourceCode" id="cb802"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb802-1"><a href="16-structures-donnees.html#cb802-1"></a><span class="kw">sum</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>))</span>
<span id="cb802-2"><a href="16-structures-donnees.html#cb802-2"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>On peut donc appliquer <code>sum()</code> à un test, et on obtiendra le nombre de valeurs pour lesquelles le test est vrai.</p>
<div class="sourceCode" id="cb803"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb803-1"><a href="16-structures-donnees.html#cb803-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">12</span>, <span class="dv">14</span>)</span>
<span id="cb803-2"><a href="16-structures-donnees.html#cb803-2"></a><span class="kw">sum</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span>)</span>
<span id="cb803-3"><a href="16-structures-donnees.html#cb803-3"></a><span class="co">#&gt; [1] 2</span></span></code></pre></div>
<p>Ceci fournit un raccourci très pratique. Dans l’exemple suivant, on tire 1000 nombres au hasard entre 0 et 1 et on calcule le nombre de valeurs obtenues qui sont inférieures à 0.5.</p>
<div class="sourceCode" id="cb804"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb804-1"><a href="16-structures-donnees.html#cb804-1"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">1000</span>)</span>
<span id="cb804-2"><a href="16-structures-donnees.html#cb804-2"></a><span class="kw">sum</span>(x <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span>)</span>
<span id="cb804-3"><a href="16-structures-donnees.html#cb804-3"></a><span class="co">#&gt; [1] 513</span></span></code></pre></div>
<p>Autre raccourci moins utilisé, appliquer <code>mean()</code> au résultat d’un test donne la proportion de valeurs pour lesquelles le test est vrai.</p>
<div class="sourceCode" id="cb805"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb805-1"><a href="16-structures-donnees.html#cb805-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">12</span>, <span class="dv">14</span>)</span>
<span id="cb805-2"><a href="16-structures-donnees.html#cb805-2"></a><span class="kw">mean</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span>)</span>
<span id="cb805-3"><a href="16-structures-donnees.html#cb805-3"></a><span class="co">#&gt; [1] 0.4</span></span>
<span id="cb805-4"><a href="16-structures-donnees.html#cb805-4"></a>x &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">1000</span>)</span>
<span id="cb805-5"><a href="16-structures-donnees.html#cb805-5"></a><span class="kw">mean</span>(x <span class="op">&lt;</span><span class="st"> </span><span class="fl">0.5</span>)</span>
<span id="cb805-6"><a href="16-structures-donnees.html#cb805-6"></a><span class="co">#&gt; [1] 0.522</span></span></code></pre></div>
<p>On peut convertir un vecteur d’un type à un autre avec les fonctions <code>as.character()</code>, <code>as.numeric()</code> et <code>as.logical()</code>. Si une valeur ne peut pas être convertie, elle est remplacée par un <code>NA</code>, et R affiche un avertissement.</p>
<div class="sourceCode" id="cb806"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb806-1"><a href="16-structures-donnees.html#cb806-1"></a><span class="kw">as.character</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb806-2"><a href="16-structures-donnees.html#cb806-2"></a><span class="co">#&gt; [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</span></span>
<span id="cb806-3"><a href="16-structures-donnees.html#cb806-3"></a><span class="kw">as.logical</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>))</span>
<span id="cb806-4"><a href="16-structures-donnees.html#cb806-4"></a><span class="co">#&gt; [1] FALSE  TRUE  TRUE</span></span>
<span id="cb806-5"><a href="16-structures-donnees.html#cb806-5"></a><span class="kw">as.numeric</span>(<span class="kw">c</span>(<span class="st">&quot;foo&quot;</span>, <span class="st">&quot;23&quot;</span>))</span>
<span id="cb806-6"><a href="16-structures-donnees.html#cb806-6"></a><span class="co">#&gt; Warning: NAs introduits lors de la conversion automatique</span></span>
<span id="cb806-7"><a href="16-structures-donnees.html#cb806-7"></a><span class="co">#&gt; [1] NA 23</span></span></code></pre></div>
</div>
<div id="sélection-déléments" class="section level3">
<h3><span class="header-section-number">16.1.4</span> Sélection d’éléments</h3>
<p>On a vu section <a href="09-recodages.html#vecteurs">9.1</a> que l’opérateur <code>[]</code> peut être utilisé pour sélectionner des éléments d’un vecteur. Cet opérateur peut comporter :</p>
<ul>
<li>des nombres (qui sélectionnent par position)</li>
<li>des chaînes de caractères (qui sélectionnent par nom)</li>
<li>un test ou des valeurs logiques (qui sélectionnent les éléments correspondant à <code>TRUE</code>)</li>
</ul>
<div class="sourceCode" id="cb807"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb807-1"><a href="16-structures-donnees.html#cb807-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">e1 =</span> <span class="dv">1</span>, <span class="dt">e2 =</span> <span class="dv">2</span>, <span class="dt">e3 =</span> <span class="dv">8</span>, <span class="dt">e4 =</span> <span class="dv">12</span>)</span>
<span id="cb807-2"><a href="16-structures-donnees.html#cb807-2"></a>x[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">4</span>)]</span>
<span id="cb807-3"><a href="16-structures-donnees.html#cb807-3"></a><span class="co">#&gt; e1 e4 </span></span>
<span id="cb807-4"><a href="16-structures-donnees.html#cb807-4"></a><span class="co">#&gt;  1 12</span></span>
<span id="cb807-5"><a href="16-structures-donnees.html#cb807-5"></a>x[<span class="kw">c</span>(<span class="st">&quot;e2&quot;</span>, <span class="st">&quot;e4&quot;</span>)]</span>
<span id="cb807-6"><a href="16-structures-donnees.html#cb807-6"></a><span class="co">#&gt; e2 e4 </span></span>
<span id="cb807-7"><a href="16-structures-donnees.html#cb807-7"></a><span class="co">#&gt;  2 12</span></span>
<span id="cb807-8"><a href="16-structures-donnees.html#cb807-8"></a>x[x <span class="op">&lt;</span><span class="st"> </span><span class="dv">10</span>]</span>
<span id="cb807-9"><a href="16-structures-donnees.html#cb807-9"></a><span class="co">#&gt; e1 e2 e3 </span></span>
<span id="cb807-10"><a href="16-structures-donnees.html#cb807-10"></a><span class="co">#&gt;  1  2  8</span></span></code></pre></div>
<p>Si on fournit à <code>[]</code> un ou plusieurs nombres négatifs, les valeurs correspondantes seront supprimées plutôt que sélectionnées.</p>
<div class="sourceCode" id="cb808"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb808-1"><a href="16-structures-donnees.html#cb808-1"></a>x[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb808-2"><a href="16-structures-donnees.html#cb808-2"></a><span class="co">#&gt; e2 e3 e4 </span></span>
<span id="cb808-3"><a href="16-structures-donnees.html#cb808-3"></a><span class="co">#&gt;  2  8 12</span></span>
<span id="cb808-4"><a href="16-structures-donnees.html#cb808-4"></a>x[<span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">-4</span>)]</span>
<span id="cb808-5"><a href="16-structures-donnees.html#cb808-5"></a><span class="co">#&gt; e1 e3 </span></span>
<span id="cb808-6"><a href="16-structures-donnees.html#cb808-6"></a><span class="co">#&gt;  1  8</span></span></code></pre></div>
<p>Si on souhaite afficher les premières ou dernières valeurs d’un vecteur, les fonctions <code>head()</code> et <code>tail()</code> peuvent être utiles.</p>
<div class="sourceCode" id="cb809"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb809-1"><a href="16-structures-donnees.html#cb809-1"></a><span class="kw">head</span>(x, <span class="dv">2</span>)</span>
<span id="cb809-2"><a href="16-structures-donnees.html#cb809-2"></a><span class="co">#&gt; e1 e2 </span></span>
<span id="cb809-3"><a href="16-structures-donnees.html#cb809-3"></a><span class="co">#&gt;  1  2</span></span>
<span id="cb809-4"><a href="16-structures-donnees.html#cb809-4"></a><span class="kw">tail</span>(x, <span class="dv">1</span>)</span>
<span id="cb809-5"><a href="16-structures-donnees.html#cb809-5"></a><span class="co">#&gt; e4 </span></span>
<span id="cb809-6"><a href="16-structures-donnees.html#cb809-6"></a><span class="co">#&gt; 12</span></span></code></pre></div>
</div>
<div id="modification" class="section level3">
<h3><span class="header-section-number">16.1.5</span> Modification</h3>
<p>Utilisé conjointement avec l’opérateur d’assignation <code>&lt;-</code>, l’opérateur <code>[]</code> permet de remplacer des éléments.</p>
<div class="sourceCode" id="cb810"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb810-1"><a href="16-structures-donnees.html#cb810-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">e1 =</span> <span class="dv">1</span>, <span class="dt">e2 =</span> <span class="dv">2</span>, <span class="dt">e3 =</span> <span class="dv">8</span>, <span class="dt">e4 =</span> <span class="dv">12</span>)</span>
<span id="cb810-2"><a href="16-structures-donnees.html#cb810-2"></a>x[<span class="dv">1</span>] &lt;-<span class="st"> </span><span class="dv">-1000</span></span>
<span id="cb810-3"><a href="16-structures-donnees.html#cb810-3"></a>x</span>
<span id="cb810-4"><a href="16-structures-donnees.html#cb810-4"></a><span class="co">#&gt;    e1    e2    e3    e4 </span></span>
<span id="cb810-5"><a href="16-structures-donnees.html#cb810-5"></a><span class="co">#&gt; -1000     2     8    12</span></span>
<span id="cb810-6"><a href="16-structures-donnees.html#cb810-6"></a>x[<span class="st">&quot;e2&quot;</span>] &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb810-7"><a href="16-structures-donnees.html#cb810-7"></a>x</span>
<span id="cb810-8"><a href="16-structures-donnees.html#cb810-8"></a><span class="co">#&gt;    e1    e2    e3    e4 </span></span>
<span id="cb810-9"><a href="16-structures-donnees.html#cb810-9"></a><span class="co">#&gt; -1000     0     8    12</span></span>
<span id="cb810-10"><a href="16-structures-donnees.html#cb810-10"></a>x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">10</span>] &lt;-<span class="st"> </span><span class="ot">NA</span></span>
<span id="cb810-11"><a href="16-structures-donnees.html#cb810-11"></a>x</span>
<span id="cb810-12"><a href="16-structures-donnees.html#cb810-12"></a><span class="co">#&gt;    e1    e2    e3    e4 </span></span>
<span id="cb810-13"><a href="16-structures-donnees.html#cb810-13"></a><span class="co">#&gt; -1000     0     8    NA</span></span></code></pre></div>
<p>Utilisé sans arguments, <code>[]</code> se contente de renvoyer le vecteur entier. Mais couplé à une assignation, il remplace chacun des éléments du vecteur plutôt que le vecteur lui-même.</p>
<div class="sourceCode" id="cb811"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb811-1"><a href="16-structures-donnees.html#cb811-1"></a>x[] &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb811-2"><a href="16-structures-donnees.html#cb811-2"></a>x</span>
<span id="cb811-3"><a href="16-structures-donnees.html#cb811-3"></a><span class="co">#&gt; e1 e2 e3 e4 </span></span>
<span id="cb811-4"><a href="16-structures-donnees.html#cb811-4"></a><span class="co">#&gt;  3  3  3  3</span></span></code></pre></div>
</div>
</div>
<div id="listes" class="section level2">
<h2><span class="header-section-number">16.2</span> Listes</h2>
<p>Les listes sont une généralisation des vecteurs : elles regroupent également plusieurs éléments ensemble, mais ceux-ci peuvent être de n’importe quel type, y compris des objets complexes. Une liste peut donc contenir des vecteurs, des listes, des tableaux de données, des fonctions, des graphiques <code>ggplot2</code> stockés dans un objet, etc.</p>
<div id="création" class="section level3">
<h3><span class="header-section-number">16.2.1</span> Création</h3>
<p>On construit une liste avec la fonction <code>list</code>.</p>
<div class="sourceCode" id="cb812"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb812-1"><a href="16-structures-donnees.html#cb812-1"></a><span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;foo&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>))</span>
<span id="cb812-2"><a href="16-structures-donnees.html#cb812-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb812-3"><a href="16-structures-donnees.html#cb812-3"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb812-4"><a href="16-structures-donnees.html#cb812-4"></a><span class="co">#&gt; </span></span>
<span id="cb812-5"><a href="16-structures-donnees.html#cb812-5"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb812-6"><a href="16-structures-donnees.html#cb812-6"></a><span class="co">#&gt; [1] &quot;foo&quot;</span></span>
<span id="cb812-7"><a href="16-structures-donnees.html#cb812-7"></a><span class="co">#&gt; </span></span>
<span id="cb812-8"><a href="16-structures-donnees.html#cb812-8"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb812-9"><a href="16-structures-donnees.html#cb812-9"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
<p>L’affichage du contenu d’une liste dans la console diffère de celui d’un vecteur. Dans le cas d’une liste les éléments sont affichés les uns en dessous des autres, et séparés par leur indice numérique entre une paire de crochets. Dans l’affichage ci-dessus, il faut bien distinguer les <code>[[1]]</code>, <code>[[2]]</code> et <code>[[3]]</code>, qui correspondent au numéro de l’élément de la liste, et les <code>[1]</code> qui font partie de l’affichage du contenu de ces éléments.</p>
<p>Comme pour les vecteurs, on peut nommer les éléments à la création de la liste.</p>
<div class="sourceCode" id="cb813"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb813-1"><a href="16-structures-donnees.html#cb813-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">nombre =</span> <span class="dv">1</span>, <span class="dt">char =</span> <span class="st">&quot;foo&quot;</span>, <span class="dt">vecteur =</span> <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>))</span>
<span id="cb813-2"><a href="16-structures-donnees.html#cb813-2"></a>liste</span>
<span id="cb813-3"><a href="16-structures-donnees.html#cb813-3"></a><span class="co">#&gt; $nombre</span></span>
<span id="cb813-4"><a href="16-structures-donnees.html#cb813-4"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb813-5"><a href="16-structures-donnees.html#cb813-5"></a><span class="co">#&gt; </span></span>
<span id="cb813-6"><a href="16-structures-donnees.html#cb813-6"></a><span class="co">#&gt; $char</span></span>
<span id="cb813-7"><a href="16-structures-donnees.html#cb813-7"></a><span class="co">#&gt; [1] &quot;foo&quot;</span></span>
<span id="cb813-8"><a href="16-structures-donnees.html#cb813-8"></a><span class="co">#&gt; </span></span>
<span id="cb813-9"><a href="16-structures-donnees.html#cb813-9"></a><span class="co">#&gt; $vecteur</span></span>
<span id="cb813-10"><a href="16-structures-donnees.html#cb813-10"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
<p>Dans ce cas l’affichage de la liste dans la console montre ces noms plutôt que les indices numériques des éléments.</p>
<p>Comme pour les vecteurs atomiques, on peut utiliser <code>names()</code> pour afficher ou modifier les noms des éléments.</p>
<div class="sourceCode" id="cb814"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb814-1"><a href="16-structures-donnees.html#cb814-1"></a><span class="kw">names</span>(liste)</span>
<span id="cb814-2"><a href="16-structures-donnees.html#cb814-2"></a><span class="co">#&gt; [1] &quot;nombre&quot;  &quot;char&quot;    &quot;vecteur&quot;</span></span></code></pre></div>
<p>Quand la liste est plus complexe, l’affichage peut vite devenir illisible.</p>
<div class="sourceCode" id="cb815"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb815-1"><a href="16-structures-donnees.html#cb815-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(</span>
<span id="cb815-2"><a href="16-structures-donnees.html#cb815-2"></a>    <span class="dt">l2 =</span> <span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">y =</span> <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>)),</span>
<span id="cb815-3"><a href="16-structures-donnees.html#cb815-3"></a>    <span class="dt">df =</span> <span class="kw">data.frame</span>(<span class="dt">v1 =</span> <span class="dv">2</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">v2 =</span> LETTERS[<span class="dv">2</span><span class="op">:</span><span class="dv">5</span>]),</span>
<span id="cb815-4"><a href="16-structures-donnees.html#cb815-4"></a>    <span class="dt">y =</span> <span class="kw">runif</span>(<span class="dv">10</span>)</span>
<span id="cb815-5"><a href="16-structures-donnees.html#cb815-5"></a>)</span>
<span id="cb815-6"><a href="16-structures-donnees.html#cb815-6"></a>liste</span>
<span id="cb815-7"><a href="16-structures-donnees.html#cb815-7"></a><span class="co">#&gt; $l2</span></span>
<span id="cb815-8"><a href="16-structures-donnees.html#cb815-8"></a><span class="co">#&gt; $l2$x</span></span>
<span id="cb815-9"><a href="16-structures-donnees.html#cb815-9"></a><span class="co">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span></span>
<span id="cb815-10"><a href="16-structures-donnees.html#cb815-10"></a><span class="co">#&gt; </span></span>
<span id="cb815-11"><a href="16-structures-donnees.html#cb815-11"></a><span class="co">#&gt; $l2$y</span></span>
<span id="cb815-12"><a href="16-structures-donnees.html#cb815-12"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span>
<span id="cb815-13"><a href="16-structures-donnees.html#cb815-13"></a><span class="co">#&gt; </span></span>
<span id="cb815-14"><a href="16-structures-donnees.html#cb815-14"></a><span class="co">#&gt; </span></span>
<span id="cb815-15"><a href="16-structures-donnees.html#cb815-15"></a><span class="co">#&gt; $df</span></span>
<span id="cb815-16"><a href="16-structures-donnees.html#cb815-16"></a><span class="co">#&gt;   v1 v2</span></span>
<span id="cb815-17"><a href="16-structures-donnees.html#cb815-17"></a><span class="co">#&gt; 1  2  B</span></span>
<span id="cb815-18"><a href="16-structures-donnees.html#cb815-18"></a><span class="co">#&gt; 2  3  C</span></span>
<span id="cb815-19"><a href="16-structures-donnees.html#cb815-19"></a><span class="co">#&gt; 3  4  D</span></span>
<span id="cb815-20"><a href="16-structures-donnees.html#cb815-20"></a><span class="co">#&gt; 4  5  E</span></span>
<span id="cb815-21"><a href="16-structures-donnees.html#cb815-21"></a><span class="co">#&gt; </span></span>
<span id="cb815-22"><a href="16-structures-donnees.html#cb815-22"></a><span class="co">#&gt; $y</span></span>
<span id="cb815-23"><a href="16-structures-donnees.html#cb815-23"></a><span class="co">#&gt;  [1] 0.69901501 0.09206802 0.12078778 0.72223653 0.09476776 0.38314043</span></span>
<span id="cb815-24"><a href="16-structures-donnees.html#cb815-24"></a><span class="co">#&gt;  [7] 0.48006825 0.65483899 0.12235615 0.33985941</span></span></code></pre></div>
<p>Dans ce cas la fonction <code>str</code> peut être utile pour afficher de manière plus compacte la structure de la liste. Dans cet exemple elle permet de voir un peu plus clairement que <code>x</code> et <code>y</code> sont des éléments d’une sous-liste <code>l2</code>.</p>
<div class="sourceCode" id="cb816"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb816-1"><a href="16-structures-donnees.html#cb816-1"></a><span class="kw">str</span>(liste)</span>
<span id="cb816-2"><a href="16-structures-donnees.html#cb816-2"></a><span class="co">#&gt; List of 3</span></span>
<span id="cb816-3"><a href="16-structures-donnees.html#cb816-3"></a><span class="co">#&gt;  $ l2:List of 2</span></span>
<span id="cb816-4"><a href="16-structures-donnees.html#cb816-4"></a><span class="co">#&gt;   ..$ x: int [1:10] 1 2 3 4 5 6 7 8 9 10</span></span>
<span id="cb816-5"><a href="16-structures-donnees.html#cb816-5"></a><span class="co">#&gt;   ..$ y: chr [1:2] &quot;Pomme&quot; &quot;Citron&quot;</span></span>
<span id="cb816-6"><a href="16-structures-donnees.html#cb816-6"></a><span class="co">#&gt;  $ df:&#39;data.frame&#39;:  4 obs. of  2 variables:</span></span>
<span id="cb816-7"><a href="16-structures-donnees.html#cb816-7"></a><span class="co">#&gt;   ..$ v1: int [1:4] 2 3 4 5</span></span>
<span id="cb816-8"><a href="16-structures-donnees.html#cb816-8"></a><span class="co">#&gt;   ..$ v2: chr [1:4] &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;</span></span>
<span id="cb816-9"><a href="16-structures-donnees.html#cb816-9"></a><span class="co">#&gt;  $ y : num [1:10] 0.699 0.0921 0.1208 0.7222 0.0948 ...</span></span></code></pre></div>
</div>
<div id="ajout-déléments" class="section level3">
<h3><span class="header-section-number">16.2.2</span> Ajout d’éléments</h3>
<p>Attention, si on souhaite ajouter un nouvel élément à une liste, il ne faut pas utiliser à nouveau <code>list()</code>, car dans ce cas notre liste de départ est insérée comme une “sous-liste”.</p>
<div class="sourceCode" id="cb817"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb817-1"><a href="16-structures-donnees.html#cb817-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">e1 =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dt">e2 =</span> <span class="st">&quot;Chihuhua&quot;</span>)</span>
<span id="cb817-2"><a href="16-structures-donnees.html#cb817-2"></a>liste2 &lt;-<span class="st"> </span><span class="kw">list</span>(liste, <span class="dt">nouveau =</span> <span class="dv">100</span>)</span>
<span id="cb817-3"><a href="16-structures-donnees.html#cb817-3"></a><span class="kw">str</span>(liste2)</span>
<span id="cb817-4"><a href="16-structures-donnees.html#cb817-4"></a><span class="co">#&gt; List of 2</span></span>
<span id="cb817-5"><a href="16-structures-donnees.html#cb817-5"></a><span class="co">#&gt;  $        :List of 2</span></span>
<span id="cb817-6"><a href="16-structures-donnees.html#cb817-6"></a><span class="co">#&gt;   ..$ e1: int [1:3] 1 2 3</span></span>
<span id="cb817-7"><a href="16-structures-donnees.html#cb817-7"></a><span class="co">#&gt;   ..$ e2: chr &quot;Chihuhua&quot;</span></span>
<span id="cb817-8"><a href="16-structures-donnees.html#cb817-8"></a><span class="co">#&gt;  $ nouveau: num 100</span></span></code></pre></div>
<p>Il faut à la place utiliser <code>c()</code>, comme pour les vecteurs.</p>
<div class="sourceCode" id="cb818"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb818-1"><a href="16-structures-donnees.html#cb818-1"></a>liste3 &lt;-<span class="st"> </span><span class="kw">c</span>(liste, <span class="dt">nouveau =</span> <span class="dv">100</span>)</span>
<span id="cb818-2"><a href="16-structures-donnees.html#cb818-2"></a><span class="kw">str</span>(liste3)</span>
<span id="cb818-3"><a href="16-structures-donnees.html#cb818-3"></a><span class="co">#&gt; List of 3</span></span>
<span id="cb818-4"><a href="16-structures-donnees.html#cb818-4"></a><span class="co">#&gt;  $ e1     : int [1:3] 1 2 3</span></span>
<span id="cb818-5"><a href="16-structures-donnees.html#cb818-5"></a><span class="co">#&gt;  $ e2     : chr &quot;Chihuhua&quot;</span></span>
<span id="cb818-6"><a href="16-structures-donnees.html#cb818-6"></a><span class="co">#&gt;  $ nouveau: num 100</span></span></code></pre></div>
<p><code>c()</code> permet aussi de “concaténer” deux listes existantes en une seule.</p>
<div class="sourceCode" id="cb819"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb819-1"><a href="16-structures-donnees.html#cb819-1"></a>liste1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">2</span>)</span>
<span id="cb819-2"><a href="16-structures-donnees.html#cb819-2"></a>liste2 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">x =</span> <span class="dv">3</span>, <span class="dt">y =</span> <span class="dv">4</span>)</span>
<span id="cb819-3"><a href="16-structures-donnees.html#cb819-3"></a><span class="kw">c</span>(liste1, liste2)</span>
<span id="cb819-4"><a href="16-structures-donnees.html#cb819-4"></a><span class="co">#&gt; $a</span></span>
<span id="cb819-5"><a href="16-structures-donnees.html#cb819-5"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb819-6"><a href="16-structures-donnees.html#cb819-6"></a><span class="co">#&gt; </span></span>
<span id="cb819-7"><a href="16-structures-donnees.html#cb819-7"></a><span class="co">#&gt; $b</span></span>
<span id="cb819-8"><a href="16-structures-donnees.html#cb819-8"></a><span class="co">#&gt; [1] 2</span></span>
<span id="cb819-9"><a href="16-structures-donnees.html#cb819-9"></a><span class="co">#&gt; </span></span>
<span id="cb819-10"><a href="16-structures-donnees.html#cb819-10"></a><span class="co">#&gt; $x</span></span>
<span id="cb819-11"><a href="16-structures-donnees.html#cb819-11"></a><span class="co">#&gt; [1] 3</span></span>
<span id="cb819-12"><a href="16-structures-donnees.html#cb819-12"></a><span class="co">#&gt; </span></span>
<span id="cb819-13"><a href="16-structures-donnees.html#cb819-13"></a><span class="co">#&gt; $y</span></span>
<span id="cb819-14"><a href="16-structures-donnees.html#cb819-14"></a><span class="co">#&gt; [1] 4</span></span></code></pre></div>
</div>
<div id="sélection-déléments-1" class="section level3">
<h3><span class="header-section-number">16.2.3</span> Sélection d’éléments</h3>
<p>Il y a deux opérateurs différents qui permettent de sélectionner les éléments d’une liste : les crochets simples <code>[]</code> et les crochets doubles <code>[[]]</code>. La différence entre ces deux opérateurs est souvent source de confusion.</p>
<p>Partons de la liste suivante :</p>
<div class="sourceCode" id="cb820"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb820-1"><a href="16-structures-donnees.html#cb820-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="st">&quot;foo&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>))</span>
<span id="cb820-2"><a href="16-structures-donnees.html#cb820-2"></a>liste</span>
<span id="cb820-3"><a href="16-structures-donnees.html#cb820-3"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb820-4"><a href="16-structures-donnees.html#cb820-4"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb820-5"><a href="16-structures-donnees.html#cb820-5"></a><span class="co">#&gt; </span></span>
<span id="cb820-6"><a href="16-structures-donnees.html#cb820-6"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb820-7"><a href="16-structures-donnees.html#cb820-7"></a><span class="co">#&gt; [1] &quot;foo&quot;</span></span>
<span id="cb820-8"><a href="16-structures-donnees.html#cb820-8"></a><span class="co">#&gt; </span></span>
<span id="cb820-9"><a href="16-structures-donnees.html#cb820-9"></a><span class="co">#&gt; [[3]]</span></span>
<span id="cb820-10"><a href="16-structures-donnees.html#cb820-10"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
<p>Si on utilise les crochets simples pour sélectionner le premier élément de cette liste, on obtient le résultat suivant :</p>
<div class="sourceCode" id="cb821"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb821-1"><a href="16-structures-donnees.html#cb821-1"></a>liste[<span class="dv">1</span>]</span>
<span id="cb821-2"><a href="16-structures-donnees.html#cb821-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb821-3"><a href="16-structures-donnees.html#cb821-3"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div>
<p>On notera que le résultat est une liste à un seul élément.</p>
<p>Si on utilise les crochets doubles :</p>
<div class="sourceCode" id="cb822"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb822-1"><a href="16-structures-donnees.html#cb822-1"></a>liste[[<span class="dv">1</span>]]</span>
<span id="cb822-2"><a href="16-structures-donnees.html#cb822-2"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span></code></pre></div>
<p>On obtient cette fois-ci non pas une liste composée du premier élément, mais le contenu de ce premier élément.</p>
<div class="rmdimportant">
<p>
La différence est importante, mais pas toujours facile à retenir. On peut utiliser deux petites astuces mnémotechniques :
</p>
<ul>
<li>
si une liste est un train composé de plusieurs wagons, <code>[1]</code> retourne le premier wagon du train, tandis que <code>[[1]]</code> renvoie le contenu du premier wagon.
</li>
<li>
une alternative est de considérer que <code>[[]]</code> va chercher “plus profondément” que <code>[]</code>.
</li>
</ul>
</div>
<p>Un autre point important est que si on passe plusieurs éléments à <code>[[]]</code>, la sélection se fait d’une manière récursive peu intuitive et source d’erreurs. Il est donc conseillé de <strong>toujours utiliser</strong> <code>[[]]</code> <strong>avec un seul argument</strong>, et d’utiliser <code>[]</code> si on souhaite sélectionner plusieurs éléments d’une liste.</p>
<div class="sourceCode" id="cb823"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb823-1"><a href="16-structures-donnees.html#cb823-1"></a>liste[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span>
<span id="cb823-2"><a href="16-structures-donnees.html#cb823-2"></a><span class="co">#&gt; [[1]]</span></span>
<span id="cb823-3"><a href="16-structures-donnees.html#cb823-3"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb823-4"><a href="16-structures-donnees.html#cb823-4"></a><span class="co">#&gt; </span></span>
<span id="cb823-5"><a href="16-structures-donnees.html#cb823-5"></a><span class="co">#&gt; [[2]]</span></span>
<span id="cb823-6"><a href="16-structures-donnees.html#cb823-6"></a><span class="co">#&gt; [1] &quot;foo&quot;</span></span></code></pre></div>
<div class="rmdimportant">
<p>
En résumé :
</p>
<ul>
<li>
si on souhaite récupérer uniquement le contenu d’un élément d’une liste, on utilise <code>[[]]</code> avec un seul argument.
</li>
<li>
si on souhaite récupérer une nouvelle liste en sélectionnant des éléments de notre liste actuelle, on utilise <code>[]</code> avec un ou plusieurs arguments.
</li>
</ul>
</div>
<div class="rmdnote">
<p>
Comme pour les vecteurs, on peut utiliser des nombres négatifs avec <code>[]</code> pour exclure des éléments plutôt que les sélectionner, et on peut également utiliser les fonctions <code>head()</code> et <code>tail()</code>.
</p>
</div>
<p>Si la liste est nommée, on peut sélectionner des éléments par noms avec les deux opérateurs.</p>
<div class="sourceCode" id="cb824"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb824-1"><a href="16-structures-donnees.html#cb824-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">nombre =</span> <span class="dv">1</span>, <span class="dt">char =</span> <span class="st">&quot;foo&quot;</span>, <span class="dt">vecteur =</span> <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>))</span>
<span id="cb824-2"><a href="16-structures-donnees.html#cb824-2"></a>liste[<span class="kw">c</span>(<span class="st">&quot;nombre&quot;</span>, <span class="st">&quot;char&quot;</span>)]</span>
<span id="cb824-3"><a href="16-structures-donnees.html#cb824-3"></a><span class="co">#&gt; $nombre</span></span>
<span id="cb824-4"><a href="16-structures-donnees.html#cb824-4"></a><span class="co">#&gt; [1] 1</span></span>
<span id="cb824-5"><a href="16-structures-donnees.html#cb824-5"></a><span class="co">#&gt; </span></span>
<span id="cb824-6"><a href="16-structures-donnees.html#cb824-6"></a><span class="co">#&gt; $char</span></span>
<span id="cb824-7"><a href="16-structures-donnees.html#cb824-7"></a><span class="co">#&gt; [1] &quot;foo&quot;</span></span>
<span id="cb824-8"><a href="16-structures-donnees.html#cb824-8"></a>liste[[<span class="st">&quot;vecteur&quot;</span>]]</span>
<span id="cb824-9"><a href="16-structures-donnees.html#cb824-9"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
<p>On peut aussi utiliser l’opérateur <code>$</code>, qui équivaut à <code>[[]]</code> :</p>
<div class="sourceCode" id="cb825"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb825-1"><a href="16-structures-donnees.html#cb825-1"></a>liste<span class="op">$</span>vecteur</span>
<span id="cb825-2"><a href="16-structures-donnees.html#cb825-2"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
</div>
<div id="modification-1" class="section level3">
<h3><span class="header-section-number">16.2.4</span> Modification</h3>
<p>Comme pour les vecteurs, on peut utiliser l’opérateur <code>[]</code> et l’opérateur d’assignation <code>&lt;-</code> pour modifier des éléments d’une liste.</p>
<div class="sourceCode" id="cb826"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb826-1"><a href="16-structures-donnees.html#cb826-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">nombre =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">char =</span> <span class="st">&quot;foo&quot;</span>, <span class="dt">vecteur =</span> <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>))</span>
<span id="cb826-2"><a href="16-structures-donnees.html#cb826-2"></a>liste[<span class="st">&quot;nombre&quot;</span>] &lt;-<span class="st"> &quot;first&quot;</span></span>
<span id="cb826-3"><a href="16-structures-donnees.html#cb826-3"></a>liste</span>
<span id="cb826-4"><a href="16-structures-donnees.html#cb826-4"></a><span class="co">#&gt; $nombre</span></span>
<span id="cb826-5"><a href="16-structures-donnees.html#cb826-5"></a><span class="co">#&gt; [1] &quot;first&quot;</span></span>
<span id="cb826-6"><a href="16-structures-donnees.html#cb826-6"></a><span class="co">#&gt; </span></span>
<span id="cb826-7"><a href="16-structures-donnees.html#cb826-7"></a><span class="co">#&gt; $char</span></span>
<span id="cb826-8"><a href="16-structures-donnees.html#cb826-8"></a><span class="co">#&gt; [1] &quot;foo&quot;</span></span>
<span id="cb826-9"><a href="16-structures-donnees.html#cb826-9"></a><span class="co">#&gt; </span></span>
<span id="cb826-10"><a href="16-structures-donnees.html#cb826-10"></a><span class="co">#&gt; $vecteur</span></span>
<span id="cb826-11"><a href="16-structures-donnees.html#cb826-11"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb827"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb827-1"><a href="16-structures-donnees.html#cb827-1"></a>liste[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb827-2"><a href="16-structures-donnees.html#cb827-2"></a>liste</span>
<span id="cb827-3"><a href="16-structures-donnees.html#cb827-3"></a><span class="co">#&gt; $nombre</span></span>
<span id="cb827-4"><a href="16-structures-donnees.html#cb827-4"></a><span class="co">#&gt; [1] 0</span></span>
<span id="cb827-5"><a href="16-structures-donnees.html#cb827-5"></a><span class="co">#&gt; </span></span>
<span id="cb827-6"><a href="16-structures-donnees.html#cb827-6"></a><span class="co">#&gt; $char</span></span>
<span id="cb827-7"><a href="16-structures-donnees.html#cb827-7"></a><span class="co">#&gt; [1] &quot;foo&quot;</span></span>
<span id="cb827-8"><a href="16-structures-donnees.html#cb827-8"></a><span class="co">#&gt; </span></span>
<span id="cb827-9"><a href="16-structures-donnees.html#cb827-9"></a><span class="co">#&gt; $vecteur</span></span>
<span id="cb827-10"><a href="16-structures-donnees.html#cb827-10"></a><span class="co">#&gt; [1] 0</span></span></code></pre></div>
<div class="rmdimportant">
<p>
Attention à ne pas utiliser les crochets doubles pour modifier des éléments d’une liste car ceux-ci peuvent avoir un comportement inattendu si on veut modifier plusieurs éléments d’un coup.
</p>
</div>
<p>Enfin, on peut supprimer un ou plusieurs éléments d’une liste, en leur attribuant la valeur <code>NULL</code><a href="#fn31" class="footnote-ref" id="fnref31"><sup>31</sup></a>.</p>
<div class="sourceCode" id="cb828"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb828-1"><a href="16-structures-donnees.html#cb828-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">nombre =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">char =</span> <span class="st">&quot;foo&quot;</span>, <span class="dt">vecteur =</span> <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>))</span>
<span id="cb828-2"><a href="16-structures-donnees.html#cb828-2"></a>liste<span class="op">$</span>char &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb828-3"><a href="16-structures-donnees.html#cb828-3"></a>liste</span>
<span id="cb828-4"><a href="16-structures-donnees.html#cb828-4"></a><span class="co">#&gt; $nombre</span></span>
<span id="cb828-5"><a href="16-structures-donnees.html#cb828-5"></a><span class="co">#&gt; [1] 1 2 3 4 5</span></span>
<span id="cb828-6"><a href="16-structures-donnees.html#cb828-6"></a><span class="co">#&gt; </span></span>
<span id="cb828-7"><a href="16-structures-donnees.html#cb828-7"></a><span class="co">#&gt; $vecteur</span></span>
<span id="cb828-8"><a href="16-structures-donnees.html#cb828-8"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
</div>
<div id="utilisation" class="section level3">
<h3><span class="header-section-number">16.2.5</span> Utilisation</h3>
<p>En tant que généralisation des vecteurs atomiques, les listes sont utiles dès qu’on souhaite regrouper des éléments complexes ou hétérogènes.</p>
<p>On les utilisera par exemple pour retourner plusieurs résultats depuis une fonction.</p>
<div class="sourceCode" id="cb829"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb829-1"><a href="16-structures-donnees.html#cb829-1"></a>indicateurs &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb829-2"><a href="16-structures-donnees.html#cb829-2"></a>    <span class="kw">list</span>(</span>
<span id="cb829-3"><a href="16-structures-donnees.html#cb829-3"></a>        <span class="dt">moyenne =</span> <span class="kw">mean</span>(x),</span>
<span id="cb829-4"><a href="16-structures-donnees.html#cb829-4"></a>        <span class="dt">variance =</span> <span class="kw">var</span>(x)</span>
<span id="cb829-5"><a href="16-structures-donnees.html#cb829-5"></a>    )</span>
<span id="cb829-6"><a href="16-structures-donnees.html#cb829-6"></a>}</span>
<span id="cb829-7"><a href="16-structures-donnees.html#cb829-7"></a></span>
<span id="cb829-8"><a href="16-structures-donnees.html#cb829-8"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb829-9"><a href="16-structures-donnees.html#cb829-9"></a>res &lt;-<span class="st"> </span><span class="kw">indicateurs</span>(x)</span>
<span id="cb829-10"><a href="16-structures-donnees.html#cb829-10"></a>res<span class="op">$</span>moyenne</span>
<span id="cb829-11"><a href="16-structures-donnees.html#cb829-11"></a><span class="co">#&gt; [1] 5.5</span></span>
<span id="cb829-12"><a href="16-structures-donnees.html#cb829-12"></a>res<span class="op">$</span>variance</span>
<span id="cb829-13"><a href="16-structures-donnees.html#cb829-13"></a><span class="co">#&gt; [1] 9.166667</span></span></code></pre></div>
<p>On utilise également les listes pour stocker des objets complexes et leur appliquer des fonctions. Ce fonctionnement sera abordé en détail dans la section <a href="18-purrr.html#purrr">18</a>, mais en guise de petit aperçu, l’exemple fictif suivant récupère les noms de tous les fichiers CSV du répertoire courant et les importe tous dans une liste à l’aide de <code>purrr::map()</code> et de <code>read_csv()</code>.</p>
<div class="sourceCode" id="cb830"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb830-1"><a href="16-structures-donnees.html#cb830-1"></a>files &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">pattern =</span> <span class="st">&quot;*.csv&quot;</span>)</span>
<span id="cb830-2"><a href="16-structures-donnees.html#cb830-2"></a>dfs &lt;-<span class="st"> </span>purrr<span class="op">::</span><span class="kw">map</span>(files, read_csv)</span></code></pre></div>
<p>On pourra ensuite utiliser cette liste de tableaux pour leur appliquer des transformations ou les fusionner.</p>
</div>
</div>
<div id="data-frame-tibbles" class="section level2">
<h2><span class="header-section-number">16.3</span> Tableaux de données (<em>data frame</em> et <em>tibble</em>)</h2>
<p>On a déjà utilisé les tableaux de données à de nombreux reprises en manipulant des <em>data frames</em> ou des <em>tibbles</em>. Les seconds sont une variante des premiers, les différences entre les deux ayant été abordées section <a href="06-tidyverse.html#tibbles">6.4</a>.</p>
<p>Un tableau de données est en réalité une liste nommée de vecteurs atomiques avec une contrainte spécifique : ces vecteurs doivent tous être de même longueur, ce qui garantit le format “tabulaire” des données.</p>
<div id="création-1" class="section level3">
<h3><span class="header-section-number">16.3.1</span> Création</h3>
<p>Un tableau de données est le plus souvent créé en important des données depuis un fichier au format CSV, tableur ou autre. On peut cependant créer un <em>data frame</em> manuellement via la fonction <code>data.frame()</code> :</p>
<div class="sourceCode" id="cb831"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb831-1"><a href="16-structures-donnees.html#cb831-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(</span>
<span id="cb831-2"><a href="16-structures-donnees.html#cb831-2"></a>    <span class="dt">fruit =</span> <span class="kw">c</span>(<span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Pomme&quot;</span>, <span class="st">&quot;Citron&quot;</span>),</span>
<span id="cb831-3"><a href="16-structures-donnees.html#cb831-3"></a>    <span class="dt">poids =</span> <span class="kw">c</span>(<span class="dv">154</span>, <span class="dv">167</span>, <span class="dv">92</span>),</span>
<span id="cb831-4"><a href="16-structures-donnees.html#cb831-4"></a>    <span class="dt">couleur =</span> <span class="kw">c</span>(<span class="st">&quot;vert&quot;</span>, <span class="st">&quot;vert&quot;</span>, <span class="st">&quot;jaune&quot;</span>)</span>
<span id="cb831-5"><a href="16-structures-donnees.html#cb831-5"></a>)</span></code></pre></div>
<p>On peut aussi créer un <em>tibble</em> manuellement avec la fonction <code>tibble()</code>. La syntaxe est la même que celle de <code>data.frame()</code>, mais avec un comportement un peu différent : notamment, les noms comportant des espaces ou des caractères spéciaux sont conservés tels quels.</p>
<p>La fonction <code>tribble()</code> permet de créer un tibble manuellement avec une syntaxe “par ligne” qui peut être un peu plus lisible.</p>
<div class="sourceCode" id="cb832"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb832-1"><a href="16-structures-donnees.html#cb832-1"></a>df_trib &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb832-2"><a href="16-structures-donnees.html#cb832-2"></a>    <span class="op">~</span>fruit,   <span class="op">~</span>poids, <span class="op">~</span>couleur,</span>
<span id="cb832-3"><a href="16-structures-donnees.html#cb832-3"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">154</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb832-4"><a href="16-structures-donnees.html#cb832-4"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">167</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb832-5"><a href="16-structures-donnees.html#cb832-5"></a>    <span class="st">&quot;Citron&quot;</span>, <span class="dv">92</span>,     <span class="st">&quot;jaune&quot;</span></span>
<span id="cb832-6"><a href="16-structures-donnees.html#cb832-6"></a>)</span></code></pre></div>
<p>On peut convertir un <em>data frame</em> en <em>tibble</em> avec la fonction <code>as_tibble()</code>.</p>
<div class="sourceCode" id="cb833"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb833-1"><a href="16-structures-donnees.html#cb833-1"></a>df_tib &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(df)</span>
<span id="cb833-2"><a href="16-structures-donnees.html#cb833-2"></a>df_tib</span>
<span id="cb833-3"><a href="16-structures-donnees.html#cb833-3"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb833-4"><a href="16-structures-donnees.html#cb833-4"></a><span class="co">#&gt;   fruit  poids couleur</span></span>
<span id="cb833-5"><a href="16-structures-donnees.html#cb833-5"></a><span class="co">#&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span id="cb833-6"><a href="16-structures-donnees.html#cb833-6"></a><span class="co">#&gt; 1 Pomme    154 vert   </span></span>
<span id="cb833-7"><a href="16-structures-donnees.html#cb833-7"></a><span class="co">#&gt; 2 Pomme    167 vert   </span></span>
<span id="cb833-8"><a href="16-structures-donnees.html#cb833-8"></a><span class="co">#&gt; 3 Citron    92 jaune</span></span></code></pre></div>
</div>
<div id="noms-de-colonnes-et-de-lignes" class="section level3">
<h3><span class="header-section-number">16.3.2</span> Noms de colonnes et de lignes</h3>
<p>On peut lister et modifier les noms des colonnes d’un tableau avec les fonctions <code>names()</code> ou <code>colnames()</code> (qui sont équivalentes).</p>
<div class="sourceCode" id="cb834"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb834-1"><a href="16-structures-donnees.html#cb834-1"></a><span class="kw">names</span>(df)</span>
<span id="cb834-2"><a href="16-structures-donnees.html#cb834-2"></a><span class="co">#&gt; [1] &quot;fruit&quot;   &quot;poids&quot;   &quot;couleur&quot;</span></span>
<span id="cb834-3"><a href="16-structures-donnees.html#cb834-3"></a><span class="kw">colnames</span>(df)</span>
<span id="cb834-4"><a href="16-structures-donnees.html#cb834-4"></a><span class="co">#&gt; [1] &quot;fruit&quot;   &quot;poids&quot;   &quot;couleur&quot;</span></span></code></pre></div>
<p>On peut attribuer des noms aux lignes d’un <em>data frame</em> à l’aide de la fonction <code>rownames()</code>. Attention cependant, les noms de ligne ne sont (volontairement) pas pris en charge par les <em>tibbles</em>.</p>
<div class="sourceCode" id="cb835"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb835-1"><a href="16-structures-donnees.html#cb835-1"></a><span class="kw">rownames</span>(df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;fruit1&quot;</span>, <span class="st">&quot;fruit2&quot;</span>, <span class="st">&quot;fruit3&quot;</span>)</span>
<span id="cb835-2"><a href="16-structures-donnees.html#cb835-2"></a><span class="kw">rownames</span>(df)</span>
<span id="cb835-3"><a href="16-structures-donnees.html#cb835-3"></a><span class="co">#&gt; [1] &quot;fruit1&quot; &quot;fruit2&quot; &quot;fruit3&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb836"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb836-1"><a href="16-structures-donnees.html#cb836-1"></a><span class="kw">rownames</span>(df_tib) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;fruit1&quot;</span>, <span class="st">&quot;fruit2&quot;</span>, <span class="st">&quot;fruit3&quot;</span>)</span>
<span id="cb836-2"><a href="16-structures-donnees.html#cb836-2"></a><span class="co">#&gt; Warning: Setting row names on a tibble is deprecated.</span></span></code></pre></div>
<p>Si on souhaite conserver des noms de ligne en passant d’un <em>data frame</em> à un <em>tibble</em>, il faut les stocker dans une nouvelle colonne, soit en la créant manuellement soit avec la fonction <code>rownames_to_column()</code> (qui a l’avantage de placer la nouvelle colonne en première position du tableau).</p>
<div class="sourceCode" id="cb837"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb837-1"><a href="16-structures-donnees.html#cb837-1"></a><span class="kw">rownames_to_column</span>(df, <span class="st">&quot;name&quot;</span>)</span>
<span id="cb837-2"><a href="16-structures-donnees.html#cb837-2"></a><span class="co">#&gt;     name  fruit poids couleur</span></span>
<span id="cb837-3"><a href="16-structures-donnees.html#cb837-3"></a><span class="co">#&gt; 1 fruit1  Pomme   154    vert</span></span>
<span id="cb837-4"><a href="16-structures-donnees.html#cb837-4"></a><span class="co">#&gt; 2 fruit2  Pomme   167    vert</span></span>
<span id="cb837-5"><a href="16-structures-donnees.html#cb837-5"></a><span class="co">#&gt; 3 fruit3 Citron    92   jaune</span></span></code></pre></div>
</div>
<div id="df-sel" class="section level3">
<h3><span class="header-section-number">16.3.3</span> Sélection de lignes et de colonnes</h3>
<p>On a déjà vu dans les parties précédentes plusieurs manières de sélectionner des éléments dans un tableau de données.</p>
<p>Ainsi, on peut sélectionner une colonne via l’opérateur <code>$</code>.</p>
<div class="sourceCode" id="cb838"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb838-1"><a href="16-structures-donnees.html#cb838-1"></a>df<span class="op">$</span>fruit</span>
<span id="cb838-2"><a href="16-structures-donnees.html#cb838-2"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
<p>Comme un tableau de données est en réalité une liste de colonnes, on peut aussi utiliser l’opérateur <code>[[]]</code> pour sélectionner l’une de ses colonnes, par position ou par nom<a href="#fn32" class="footnote-ref" id="fnref32"><sup>32</sup></a>.</p>
<div class="sourceCode" id="cb839"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb839-1"><a href="16-structures-donnees.html#cb839-1"></a>df[[<span class="st">&quot;fruit&quot;</span>]]</span>
<span id="cb839-2"><a href="16-structures-donnees.html#cb839-2"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Pomme&quot;  &quot;Citron&quot;</span></span>
<span id="cb839-3"><a href="16-structures-donnees.html#cb839-3"></a>df[[<span class="dv">2</span>]]</span>
<span id="cb839-4"><a href="16-structures-donnees.html#cb839-4"></a><span class="co">#&gt; [1] 154 167  92</span></span></code></pre></div>
<p>On peut utiliser <code>head()</code> et <code>tail()</code> avec un tableau de données : dans ce cas ces fonctions retourneront les premières ou dernières <em>lignes</em> du tableau.</p>
<div class="sourceCode" id="cb840"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb840-1"><a href="16-structures-donnees.html#cb840-1"></a><span class="kw">head</span>(df, <span class="dv">2</span>)</span>
<span id="cb840-2"><a href="16-structures-donnees.html#cb840-2"></a><span class="co">#&gt;        fruit poids couleur</span></span>
<span id="cb840-3"><a href="16-structures-donnees.html#cb840-3"></a><span class="co">#&gt; fruit1 Pomme   154    vert</span></span>
<span id="cb840-4"><a href="16-structures-donnees.html#cb840-4"></a><span class="co">#&gt; fruit2 Pomme   167    vert</span></span></code></pre></div>
<div class="sourceCode" id="cb841"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb841-1"><a href="16-structures-donnees.html#cb841-1"></a><span class="kw">tail</span>(df, <span class="dv">1</span>)</span>
<span id="cb841-2"><a href="16-structures-donnees.html#cb841-2"></a><span class="co">#&gt;         fruit poids couleur</span></span>
<span id="cb841-3"><a href="16-structures-donnees.html#cb841-3"></a><span class="co">#&gt; fruit3 Citron    92   jaune</span></span></code></pre></div>
<p>On peut également utiliser l’opérateur <code>[,]</code> pour sélectionner à la fois des lignes et des colonnes, en lui passant deux arguments séparés par une virgule : d’abord la sélection des lignes puis celle des colonnes. Dans les deux cas on peut sélectionner par position, nom ou condition. Si on laisse un argument vide, on sélectionne l’intégralité des lignes ou des colonnes.</p>
<div class="sourceCode" id="cb842"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb842-1"><a href="16-structures-donnees.html#cb842-1"></a><span class="co"># Lignes 1 et 3 et colonne &quot;poids&quot;</span></span>
<span id="cb842-2"><a href="16-structures-donnees.html#cb842-2"></a>df[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>), <span class="st">&quot;poids&quot;</span>]</span>
<span id="cb842-3"><a href="16-structures-donnees.html#cb842-3"></a><span class="co">#&gt; [1] 154  92</span></span></code></pre></div>
<div class="sourceCode" id="cb843"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb843-1"><a href="16-structures-donnees.html#cb843-1"></a><span class="co"># Toutes les lignes et colonnes &quot;poids&quot; et &quot;fruit&quot;</span></span>
<span id="cb843-2"><a href="16-structures-donnees.html#cb843-2"></a>df[, <span class="kw">c</span>(<span class="st">&quot;poids&quot;</span>, <span class="st">&quot;fruit&quot;</span>)]</span>
<span id="cb843-3"><a href="16-structures-donnees.html#cb843-3"></a><span class="co">#&gt;        poids  fruit</span></span>
<span id="cb843-4"><a href="16-structures-donnees.html#cb843-4"></a><span class="co">#&gt; fruit1   154  Pomme</span></span>
<span id="cb843-5"><a href="16-structures-donnees.html#cb843-5"></a><span class="co">#&gt; fruit2   167  Pomme</span></span>
<span id="cb843-6"><a href="16-structures-donnees.html#cb843-6"></a><span class="co">#&gt; fruit3    92 Citron</span></span></code></pre></div>
<div class="sourceCode" id="cb844"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb844-1"><a href="16-structures-donnees.html#cb844-1"></a><span class="co"># Lignes pour lesquelles poids &gt; 150, et toutes les colonnes</span></span>
<span id="cb844-2"><a href="16-structures-donnees.html#cb844-2"></a>df[df<span class="op">$</span>poids <span class="op">&gt;</span><span class="st"> </span><span class="dv">150</span>, ]</span>
<span id="cb844-3"><a href="16-structures-donnees.html#cb844-3"></a><span class="co">#&gt;        fruit poids couleur</span></span>
<span id="cb844-4"><a href="16-structures-donnees.html#cb844-4"></a><span class="co">#&gt; fruit1 Pomme   154    vert</span></span>
<span id="cb844-5"><a href="16-structures-donnees.html#cb844-5"></a><span class="co">#&gt; fruit2 Pomme   167    vert</span></span></code></pre></div>
<div class="sourceCode" id="cb845"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb845-1"><a href="16-structures-donnees.html#cb845-1"></a><span class="kw">library</span>(stringr)</span>
<span id="cb845-2"><a href="16-structures-donnees.html#cb845-2"></a><span class="co"># Colonnes dont le nom contient un &quot;o&quot;, et toutes les lignes</span></span>
<span id="cb845-3"><a href="16-structures-donnees.html#cb845-3"></a>df[, <span class="kw">str_detect</span>(<span class="kw">names</span>(df), <span class="st">&quot;o&quot;</span>)]</span>
<span id="cb845-4"><a href="16-structures-donnees.html#cb845-4"></a><span class="co">#&gt;        poids couleur</span></span>
<span id="cb845-5"><a href="16-structures-donnees.html#cb845-5"></a><span class="co">#&gt; fruit1   154    vert</span></span>
<span id="cb845-6"><a href="16-structures-donnees.html#cb845-6"></a><span class="co">#&gt; fruit2   167    vert</span></span>
<span id="cb845-7"><a href="16-structures-donnees.html#cb845-7"></a><span class="co">#&gt; fruit3    92   jaune</span></span></code></pre></div>
<p>Attention, le comportement de <code>[,]</code> est différent entre les <em>tibbles</em> et les <em>data frame</em> lorsqu’on ne sélectionne qu’une seule colonne. Dans le cas d’un <em>data frame</em>, le résultat est un vecteur, dans le cas d’un <em>tibble</em> le résultat est un tableau à une colonne.</p>
<div class="sourceCode" id="cb846"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb846-1"><a href="16-structures-donnees.html#cb846-1"></a>df[, <span class="st">&quot;fruit&quot;</span>]</span>
<span id="cb846-2"><a href="16-structures-donnees.html#cb846-2"></a><span class="co">#&gt; [1] &quot;Pomme&quot;  &quot;Pomme&quot;  &quot;Citron&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb847"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb847-1"><a href="16-structures-donnees.html#cb847-1"></a>df_tib[, <span class="st">&quot;fruit&quot;</span>]</span>
<span id="cb847-2"><a href="16-structures-donnees.html#cb847-2"></a><span class="co">#&gt; # A tibble: 3 × 1</span></span>
<span id="cb847-3"><a href="16-structures-donnees.html#cb847-3"></a><span class="co">#&gt;   fruit </span></span>
<span id="cb847-4"><a href="16-structures-donnees.html#cb847-4"></a><span class="co">#&gt;   &lt;chr&gt; </span></span>
<span id="cb847-5"><a href="16-structures-donnees.html#cb847-5"></a><span class="co">#&gt; 1 Pomme </span></span>
<span id="cb847-6"><a href="16-structures-donnees.html#cb847-6"></a><span class="co">#&gt; 2 Pomme </span></span>
<span id="cb847-7"><a href="16-structures-donnees.html#cb847-7"></a><span class="co">#&gt; 3 Citron</span></span></code></pre></div>
<p>Cette différence peut parfois être source d’erreurs, notamment quand on développe une fonction qui prend un tableau de données en argument.</p>
</div>
<div id="modification-2" class="section level3">
<h3><span class="header-section-number">16.3.4</span> Modification</h3>
<p>On peut utiliser <code>[[]]</code> et <code>[,]</code> avec l’opérateur d’assignation <code>&lt;-</code> pour modifier tout ou partie d’un tableau de données.</p>
<div class="sourceCode" id="cb848"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb848-1"><a href="16-structures-donnees.html#cb848-1"></a><span class="co"># Création d&#39;une nouvelle colonne poids_kg</span></span>
<span id="cb848-2"><a href="16-structures-donnees.html#cb848-2"></a>df[[<span class="st">&quot;poids_kg&quot;</span>]] &lt;-<span class="st"> </span>df<span class="op">$</span>poids <span class="op">/</span><span class="st"> </span><span class="dv">1000</span></span>
<span id="cb848-3"><a href="16-structures-donnees.html#cb848-3"></a>df</span>
<span id="cb848-4"><a href="16-structures-donnees.html#cb848-4"></a><span class="co">#&gt;         fruit poids couleur poids_kg</span></span>
<span id="cb848-5"><a href="16-structures-donnees.html#cb848-5"></a><span class="co">#&gt; fruit1  Pomme   154    vert    0.154</span></span>
<span id="cb848-6"><a href="16-structures-donnees.html#cb848-6"></a><span class="co">#&gt; fruit2  Pomme   167    vert    0.167</span></span>
<span id="cb848-7"><a href="16-structures-donnees.html#cb848-7"></a><span class="co">#&gt; fruit3 Citron    92   jaune    0.092</span></span></code></pre></div>
<div class="sourceCode" id="cb849"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb849-1"><a href="16-structures-donnees.html#cb849-1"></a><span class="co"># Remplacement de la valeur de la colonne &quot;fruit&quot; pour les lignes </span></span>
<span id="cb849-2"><a href="16-structures-donnees.html#cb849-2"></a><span class="co"># pour lesquelles &quot;fruit&quot; vaut &quot;Citron&quot;</span></span>
<span id="cb849-3"><a href="16-structures-donnees.html#cb849-3"></a>df[df<span class="op">$</span>fruit <span class="op">==</span><span class="st"> &quot;Citron&quot;</span>, <span class="st">&quot;fruit&quot;</span>] &lt;-<span class="st"> &quot;Agrume&quot;</span></span>
<span id="cb849-4"><a href="16-structures-donnees.html#cb849-4"></a>df</span>
<span id="cb849-5"><a href="16-structures-donnees.html#cb849-5"></a><span class="co">#&gt;         fruit poids couleur poids_kg</span></span>
<span id="cb849-6"><a href="16-structures-donnees.html#cb849-6"></a><span class="co">#&gt; fruit1  Pomme   154    vert    0.154</span></span>
<span id="cb849-7"><a href="16-structures-donnees.html#cb849-7"></a><span class="co">#&gt; fruit2  Pomme   167    vert    0.167</span></span>
<span id="cb849-8"><a href="16-structures-donnees.html#cb849-8"></a><span class="co">#&gt; fruit3 Agrume    92   jaune    0.092</span></span></code></pre></div>
<p>Pour conclure, on peut noter que l’utilisation des opérateurs <code>[[]]</code> et <code>[,]</code> sur un tableau de données peut sembler redondante et moins pratique que l’utilisation des verbes de <code>dplyr</code> comme <code>select()</code> ou <code>filter()</code>. Ils peuvent cependant être utiles lorsqu’on souhaite éviter les complications liées à l’utilisation du <em>tidyverse</em> à l’intérieur de fonctions, comme indiqué section <a href="19-programmer-tidyverse.html#programmer-tidyverse">19</a>. Ils peuvent également être plus rapides, et il est important de les connaître car on les rencontrera très fréquemment dans du code R sur le Web ou dans des packages.</p>
</div>
</div>
<div id="ressources-8" class="section level2">
<h2><span class="header-section-number">16.4</span> Ressources</h2>
<p>L’ouvrage <em>R for Data Science</em> (en anglais), accessible en ligne, contient <a href="https://r4ds.had.co.nz/vectors.html">un chapitre sur les vecteurs atomiques et les listes</a>, et <a href="https://r4ds.had.co.nz/tibbles.html#tibbles">un chapitre dédié aux <em>tibbles</em></a>.</p>
<p>Pour aller encore plus loin, l’ouvrage <em>Advanced R</em> (également en anglais) aborde de manière approfondie <a href="https://adv-r.hadley.nz/vectors-chap.html">les structures de données</a> et <a href="https://adv-r.hadley.nz/subsetting.html">les opérateurs de sélection</a> <code>[]</code>, <code>[[]]</code> et <code>$</code>.</p>
</div>
<div id="exercices-9" class="section level2">
<h2><span class="header-section-number">16.5</span> Exercices</h2>
<div id="vecteurs-atomiques-1" class="section level3">
<h3><span class="header-section-number">16.5.1</span> Vecteurs atomiques</h3>
<p><strong>Exercice 1.1</strong></p>
<p>À l’aide de <code>seq()</code>, créer un vecteur <code>v</code> contenant tous les nombres pairs entre 10 et 20.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb850"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb850-1"><a href="16-structures-donnees.html#cb850-1"></a>v &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dt">by =</span> <span class="dv">2</span>)</span></code></pre></div>
</div>

<p>Sélectionner les 3 premières valeurs de <code>v</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb851"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb851-1"><a href="16-structures-donnees.html#cb851-1"></a>v[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</span>
<span id="cb851-2"><a href="16-structures-donnees.html#cb851-2"></a><span class="kw">head</span>(v, <span class="dv">3</span>)</span></code></pre></div>
</div>

<p>Sélectionner toutes les valeurs de <code>v</code> strictement inférieures à 15.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb852"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb852-1"><a href="16-structures-donnees.html#cb852-1"></a>v[v <span class="op">&lt;</span><span class="st"> </span><span class="dv">15</span>]</span></code></pre></div>
</div>

<p>Créer une fonction <code>derniere()</code> qui prend en paramètre un vecteur et retourne son dernier élément (la fonction doit pouvoir s’appliquer à n’importe quel vecteur, quelle que soit sa longueur).</p>
<div class="sourceCode" id="cb853"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb853-1"><a href="16-structures-donnees.html#cb853-1"></a><span class="kw">derniere</span>(v)</span>
<span id="cb853-2"><a href="16-structures-donnees.html#cb853-2"></a><span class="co">#&gt; [1] 20</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb854"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb854-1"><a href="16-structures-donnees.html#cb854-1"></a>derniere &lt;-<span class="st"> </span><span class="cf">function</span>(v) {</span>
<span id="cb854-2"><a href="16-structures-donnees.html#cb854-2"></a>    v[<span class="kw">length</span>(v)]</span>
<span id="cb854-3"><a href="16-structures-donnees.html#cb854-3"></a>}</span>
<span id="cb854-4"><a href="16-structures-donnees.html#cb854-4"></a></span>
<span id="cb854-5"><a href="16-structures-donnees.html#cb854-5"></a><span class="co"># Ou bien</span></span>
<span id="cb854-6"><a href="16-structures-donnees.html#cb854-6"></a></span>
<span id="cb854-7"><a href="16-structures-donnees.html#cb854-7"></a>derniere &lt;-<span class="st"> </span><span class="cf">function</span>(v) {</span>
<span id="cb854-8"><a href="16-structures-donnees.html#cb854-8"></a>    <span class="kw">tail</span>(v, <span class="dv">1</span>)</span>
<span id="cb854-9"><a href="16-structures-donnees.html#cb854-9"></a>}</span></code></pre></div>
</div>

<p>Créer une fonction <code>sauf_derniere()</code> qui prend en paramètre un vecteur et retourne ce vecteur sans son dernier élément.</p>
<div class="sourceCode" id="cb855"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb855-1"><a href="16-structures-donnees.html#cb855-1"></a><span class="kw">sauf_derniere</span>(v)</span>
<span id="cb855-2"><a href="16-structures-donnees.html#cb855-2"></a><span class="co">#&gt; [1] 10 12 14 16 18</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb856"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb856-1"><a href="16-structures-donnees.html#cb856-1"></a>sauf_derniere &lt;-<span class="st"> </span><span class="cf">function</span>(v) {</span>
<span id="cb856-2"><a href="16-structures-donnees.html#cb856-2"></a>    v[<span class="op">-</span><span class="kw">length</span>(v)]</span>
<span id="cb856-3"><a href="16-structures-donnees.html#cb856-3"></a>}</span>
<span id="cb856-4"><a href="16-structures-donnees.html#cb856-4"></a></span>
<span id="cb856-5"><a href="16-structures-donnees.html#cb856-5"></a><span class="co"># Ou bien</span></span>
<span id="cb856-6"><a href="16-structures-donnees.html#cb856-6"></a></span>
<span id="cb856-7"><a href="16-structures-donnees.html#cb856-7"></a>sauf_derniere &lt;-<span class="st"> </span><span class="cf">function</span>(v) {</span>
<span id="cb856-8"><a href="16-structures-donnees.html#cb856-8"></a>    <span class="kw">head</span>(v, <span class="dv">-1</span>)</span>
<span id="cb856-9"><a href="16-structures-donnees.html#cb856-9"></a>}</span></code></pre></div>
</div>

<p><strong>Exercice 1.2</strong></p>
<p>Soit le vecteur <code>vn</code> suivant :</p>
<div class="sourceCode" id="cb857"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb857-1"><a href="16-structures-donnees.html#cb857-1"></a>vn &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">val1 =</span> <span class="dv">10</span>, <span class="dt">val2 =</span> <span class="dv">0</span>, <span class="dt">val3 =</span> <span class="dv">14</span>)</span></code></pre></div>
<p>Sélectionner les valeurs nommées “val1” et “val3”.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb858"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb858-1"><a href="16-structures-donnees.html#cb858-1"></a>vn[<span class="kw">c</span>(<span class="st">&quot;val1&quot;</span>, <span class="st">&quot;val3&quot;</span>)]</span></code></pre></div>
</div>

<p>Créer une fonction <code>select_noms()</code> qui prend en argument un vecteur <code>v</code> et un ou plusieurs noms, et retourne uniquement les éléments de <code>v</code> correspondant à ces noms.</p>
<div class="sourceCode" id="cb859"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb859-1"><a href="16-structures-donnees.html#cb859-1"></a><span class="kw">select_noms</span>(vn, <span class="kw">c</span>(<span class="st">&quot;val2&quot;</span>, <span class="st">&quot;val3&quot;</span>))</span>
<span id="cb859-2"><a href="16-structures-donnees.html#cb859-2"></a><span class="co">#&gt; val2 val3 </span></span>
<span id="cb859-3"><a href="16-structures-donnees.html#cb859-3"></a><span class="co">#&gt;    0   14</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb860"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb860-1"><a href="16-structures-donnees.html#cb860-1"></a>select_noms &lt;-<span class="st"> </span><span class="cf">function</span>(v, noms) {</span>
<span id="cb860-2"><a href="16-structures-donnees.html#cb860-2"></a>    v[noms]</span>
<span id="cb860-3"><a href="16-structures-donnees.html#cb860-3"></a>}</span></code></pre></div>
</div>

<p><em>Facultatif :</em> créer une fonction <code>sauf_nom()</code> qui prend en argument un vecteur <code>v</code> et un nom, et retourne tous les éléments de <code>v</code> sauf celui correspondant à ce nom.</p>
<div class="sourceCode" id="cb861"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb861-1"><a href="16-structures-donnees.html#cb861-1"></a><span class="kw">sauf_nom</span>(vn, <span class="st">&quot;val2&quot;</span>)</span>
<span id="cb861-2"><a href="16-structures-donnees.html#cb861-2"></a><span class="co">#&gt; val1 val3 </span></span>
<span id="cb861-3"><a href="16-structures-donnees.html#cb861-3"></a><span class="co">#&gt;   10   14</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb862"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb862-1"><a href="16-structures-donnees.html#cb862-1"></a>sauf_nom &lt;-<span class="st"> </span><span class="cf">function</span>(v, nom) {</span>
<span id="cb862-2"><a href="16-structures-donnees.html#cb862-2"></a>    v[<span class="kw">names</span>(v) <span class="op">!=</span><span class="st"> </span>nom]</span>
<span id="cb862-3"><a href="16-structures-donnees.html#cb862-3"></a>}</span></code></pre></div>
</div>

<p><em>Facultatif :</em> comparer les résultats des deux instructions suivantes.</p>
<div class="sourceCode" id="cb863"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb863-1"><a href="16-structures-donnees.html#cb863-1"></a>vn[<span class="st">&quot;val1&quot;</span>]</span>
<span id="cb863-2"><a href="16-structures-donnees.html#cb863-2"></a>vn[[<span class="st">&quot;val1&quot;</span>]]</span></code></pre></div>
<p><strong>Exercice 1.3</strong></p>
<p>Soit les vecteurs <code>x</code> et <code>y</code> suivants :</p>
<div class="sourceCode" id="cb864"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb864-1"><a href="16-structures-donnees.html#cb864-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="ot">NA</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="ot">NA</span>)</span>
<span id="cb864-2"><a href="16-structures-donnees.html#cb864-2"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span></code></pre></div>
<p>À l’aide de l’opérateur <code>[]</code>, sélectionner uniquement les valeurs <code>NA</code> de <code>x</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb865"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb865-1"><a href="16-structures-donnees.html#cb865-1"></a>x[<span class="kw">is.na</span>(x)]</span></code></pre></div>
</div>

<p>De la même manière, sélectionner les valeurs de <code>y</code> correspondant aux valeurs <code>NA</code> de <code>x</code> (c’est-à-dire les valeurs 20 et 50).</p>

<div class="solution-exo">
<div class="sourceCode" id="cb866"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb866-1"><a href="16-structures-donnees.html#cb866-1"></a>y[<span class="kw">is.na</span>(x)]</span></code></pre></div>
</div>

<p>En utilisant les deux instructions précédentes et l’opérateur d’assignation <code>&lt;-</code>, remplacer les valeurs manquantes de <code>x</code> par les valeurs correspondantes de <code>y</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb867"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb867-1"><a href="16-structures-donnees.html#cb867-1"></a>x[<span class="kw">is.na</span>(x)] &lt;-<span class="st"> </span>y[<span class="kw">is.na</span>(x)]</span></code></pre></div>
</div>

<p><strong>Exercice 1.4</strong></p>
<p>Créer une fonction <code>problemes_conversion</code> qui :</p>
<ul>
<li>prend en argument un vecteur <code>v</code></li>
<li>le convertit en vecteur numérique</li>
<li>retourne les valeurs de <code>v</code> qui n’ont pas été converties correctement, c’est-à-dire celles qui ne valaient pas <code>NA</code> dans <code>v</code> mais valent <code>NA</code> après la conversion.</li>
</ul>
<p>Vérifier avec :</p>
<div class="sourceCode" id="cb868"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb868-1"><a href="16-structures-donnees.html#cb868-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;igloo&quot;</span>, <span class="st">&quot;20&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;3.5&quot;</span>, <span class="st">&quot;4,8&quot;</span>)</span>
<span id="cb868-2"><a href="16-structures-donnees.html#cb868-2"></a><span class="kw">problemes_conversion</span>(x)</span>
<span id="cb868-3"><a href="16-structures-donnees.html#cb868-3"></a><span class="co">#&gt; Warning in problemes_conversion(x): NAs introduits lors de la conversion</span></span>
<span id="cb868-4"><a href="16-structures-donnees.html#cb868-4"></a><span class="co">#&gt; automatique</span></span>
<span id="cb868-5"><a href="16-structures-donnees.html#cb868-5"></a><span class="co">#&gt; [1] &quot;igloo&quot; &quot;4,8&quot;</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb869"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb869-1"><a href="16-structures-donnees.html#cb869-1"></a>problemes_conversion &lt;-<span class="st"> </span><span class="cf">function</span>(v) {</span>
<span id="cb869-2"><a href="16-structures-donnees.html#cb869-2"></a>    conv &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(v)</span>
<span id="cb869-3"><a href="16-structures-donnees.html#cb869-3"></a>    v[<span class="op">!</span><span class="kw">is.na</span>(v) <span class="op">&amp;</span><span class="st"> </span><span class="kw">is.na</span>(conv)]</span>
<span id="cb869-4"><a href="16-structures-donnees.html#cb869-4"></a>}</span></code></pre></div>
</div>

</div>
<div id="listes-1" class="section level3">
<h3><span class="header-section-number">16.5.2</span> Listes</h3>
<p><strong>Exercice 2.1</strong></p>
<p>Créer une liste <code>liste</code> ayant la structure suivante :</p>
<pre><code>#&gt; List of 3
#&gt;  $ : num 1
#&gt;  $ : chr &quot;oui&quot;
#&gt;  $ : int [1:3] 10 11 12</code></pre>

<div class="solution-exo">
<div class="sourceCode" id="cb871"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb871-1"><a href="16-structures-donnees.html#cb871-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;oui&quot;</span>, <span class="dv">10</span><span class="op">:</span><span class="dv">12</span>)</span></code></pre></div>
</div>

<p>Donner les noms suivants aux éléments de la liste : <code>num</code>, <code>reponse</code> et <code>vec</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb872"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb872-1"><a href="16-structures-donnees.html#cb872-1"></a><span class="kw">names</span>(liste) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;num&quot;</span>, <span class="st">&quot;reponse&quot;</span>, <span class="st">&quot;vec&quot;</span>)</span></code></pre></div>
</div>

<p>Ajouter un élément nommé <code>chat</code> et ayant pour valeur “Ronron” à la fin de <code>liste</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb873"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb873-1"><a href="16-structures-donnees.html#cb873-1"></a>liste &lt;-<span class="st"> </span><span class="kw">c</span>(liste, <span class="dt">chat =</span> <span class="st">&quot;Ronron&quot;</span>)</span></code></pre></div>
</div>

<p>Modifier l’élément <code>chat</code> pour lui donner la valeur “Ronpchi”.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb874"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb874-1"><a href="16-structures-donnees.html#cb874-1"></a>liste<span class="op">$</span>chat &lt;-<span class="st"> &quot;Ronpchi&quot;</span></span>
<span id="cb874-2"><a href="16-structures-donnees.html#cb874-2"></a><span class="co"># Ou bien</span></span>
<span id="cb874-3"><a href="16-structures-donnees.html#cb874-3"></a>liste[<span class="st">&quot;chat&quot;</span>] &lt;-<span class="st"> &quot;Ronpchi&quot;</span></span></code></pre></div>
</div>

<p>Supprimer l’élément <code>vec</code> de <code>liste</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb875"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb875-1"><a href="16-structures-donnees.html#cb875-1"></a>liste<span class="op">$</span>vec &lt;-<span class="st"> </span><span class="ot">NULL</span></span>
<span id="cb875-2"><a href="16-structures-donnees.html#cb875-2"></a><span class="co"># Ou bien</span></span>
<span id="cb875-3"><a href="16-structures-donnees.html#cb875-3"></a>liste[<span class="st">&quot;vec&quot;</span>] &lt;-<span class="st"> </span><span class="ot">NULL</span></span></code></pre></div>
</div>

<p><strong>Exercice 2.2</strong></p>
<p>Créer une fonction nommée <code>extremes</code> qui prend en argument un vecteur et retourne une liste nommée comportant sa valeur minimale et sa valeur maximale.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb876"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb876-1"><a href="16-structures-donnees.html#cb876-1"></a>extremes &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</span>
<span id="cb876-2"><a href="16-structures-donnees.html#cb876-2"></a>    <span class="kw">list</span>(<span class="dt">min =</span> <span class="kw">min</span>(x), <span class="dt">max =</span> <span class="kw">max</span>(x))</span>
<span id="cb876-3"><a href="16-structures-donnees.html#cb876-3"></a>}</span></code></pre></div>
</div>

<p>Appliquer cette fonction à un vecteur de votre choix et utiliser le résultat pour calculer l’étendue (soit la différence entre la valeur maximale et la valeur minimale).</p>

<div class="solution-exo">
<div class="sourceCode" id="cb877"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb877-1"><a href="16-structures-donnees.html#cb877-1"></a>v &lt;-<span class="st"> </span><span class="kw">runif</span>(<span class="dv">10</span>)</span>
<span id="cb877-2"><a href="16-structures-donnees.html#cb877-2"></a>res &lt;-<span class="st"> </span><span class="kw">extremes</span>(v)</span>
<span id="cb877-3"><a href="16-structures-donnees.html#cb877-3"></a>res<span class="op">$</span>max <span class="op">-</span><span class="st"> </span>res<span class="op">$</span>min</span></code></pre></div>
</div>

<p><strong>Exercice 2.3</strong></p>
<p>Soit la liste suivante :</p>
<div class="sourceCode" id="cb878"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb878-1"><a href="16-structures-donnees.html#cb878-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="kw">runif</span>(<span class="dv">5</span>), <span class="st">&quot;youpi&quot;</span>)</span></code></pre></div>
<p>Sélectionner la sous liste composée des éléments 1 et 3 de <code>liste</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb879-1"><a href="16-structures-donnees.html#cb879-1"></a>liste[<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</span></code></pre></div>
</div>

<p>Sélectionner la sous-liste composée du premier élément de <code>liste</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb880"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb880-1"><a href="16-structures-donnees.html#cb880-1"></a>liste[<span class="dv">1</span>]</span></code></pre></div>
</div>

<p>Sélectionner le contenu du premier élément de <code>liste</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb881"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb881-1"><a href="16-structures-donnees.html#cb881-1"></a>liste[[<span class="dv">1</span>]]</span></code></pre></div>
</div>

<p>En enchaînant deux opérations de sélection, sélectionner le deuxième élément du premier élément de <code>liste</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb882"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb882-1"><a href="16-structures-donnees.html#cb882-1"></a>liste[[<span class="dv">1</span>]][<span class="dv">2</span>]</span></code></pre></div>
</div>

<p><strong>Exercice 2.4</strong></p>
<p>Créer une fonction <code>description_liste</code> qui prend en argument une liste et retourne :</p>
<ul>
<li>son premier élément</li>
<li>son dernier élément</li>
<li>le nombre d’éléments qu’elle contient</li>
</ul>
<p>Vérifier avec :</p>
<div class="sourceCode" id="cb883"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb883-1"><a href="16-structures-donnees.html#cb883-1"></a>liste &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="kw">runif</span>(<span class="dv">5</span>), <span class="st">&quot;youpi&quot;</span>)</span>
<span id="cb883-2"><a href="16-structures-donnees.html#cb883-2"></a><span class="kw">description_liste</span>(liste)</span>
<span id="cb883-3"><a href="16-structures-donnees.html#cb883-3"></a><span class="co">#&gt; $premier_element</span></span>
<span id="cb883-4"><a href="16-structures-donnees.html#cb883-4"></a><span class="co">#&gt; [1] 1 2 3</span></span>
<span id="cb883-5"><a href="16-structures-donnees.html#cb883-5"></a><span class="co">#&gt; </span></span>
<span id="cb883-6"><a href="16-structures-donnees.html#cb883-6"></a><span class="co">#&gt; $dernier_element</span></span>
<span id="cb883-7"><a href="16-structures-donnees.html#cb883-7"></a><span class="co">#&gt; [1] &quot;youpi&quot;</span></span>
<span id="cb883-8"><a href="16-structures-donnees.html#cb883-8"></a><span class="co">#&gt; </span></span>
<span id="cb883-9"><a href="16-structures-donnees.html#cb883-9"></a><span class="co">#&gt; $nb_elements</span></span>
<span id="cb883-10"><a href="16-structures-donnees.html#cb883-10"></a><span class="co">#&gt; [1] 3</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb884"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb884-1"><a href="16-structures-donnees.html#cb884-1"></a>description_liste &lt;-<span class="st"> </span><span class="cf">function</span>(liste) {</span>
<span id="cb884-2"><a href="16-structures-donnees.html#cb884-2"></a>    <span class="kw">list</span>(</span>
<span id="cb884-3"><a href="16-structures-donnees.html#cb884-3"></a>        <span class="dt">premier_element =</span> liste[[<span class="dv">1</span>]],</span>
<span id="cb884-4"><a href="16-structures-donnees.html#cb884-4"></a>        <span class="dt">dernier_element =</span> liste[[<span class="kw">length</span>(liste)]],</span>
<span id="cb884-5"><a href="16-structures-donnees.html#cb884-5"></a>        <span class="dt">nb_elements =</span> <span class="kw">length</span>(liste)</span>
<span id="cb884-6"><a href="16-structures-donnees.html#cb884-6"></a>    )</span>
<span id="cb884-7"><a href="16-structures-donnees.html#cb884-7"></a>}</span></code></pre></div>
</div>

</div>
<div id="tableaux-de-données" class="section level3">
<h3><span class="header-section-number">16.5.3</span> Tableaux de données</h3>
<p><strong>Exercice 3.1</strong></p>
<p>Créer le tableau <code>df</code> suivant :</p>
<div class="sourceCode" id="cb885"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb885-1"><a href="16-structures-donnees.html#cb885-1"></a>df &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb885-2"><a href="16-structures-donnees.html#cb885-2"></a>    <span class="op">~</span>fruit,   <span class="op">~</span>poids, <span class="op">~</span>couleur,</span>
<span id="cb885-3"><a href="16-structures-donnees.html#cb885-3"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">154</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb885-4"><a href="16-structures-donnees.html#cb885-4"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">167</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb885-5"><a href="16-structures-donnees.html#cb885-5"></a>    <span class="st">&quot;Citron&quot;</span>, <span class="dv">92</span>,     <span class="st">&quot;jaune&quot;</span></span>
<span id="cb885-6"><a href="16-structures-donnees.html#cb885-6"></a>)</span></code></pre></div>
<p>À l’aide de l’opérateur <code>$</code>, sélectionner la colonne <code>fruit</code> de <code>df</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb886"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb886-1"><a href="16-structures-donnees.html#cb886-1"></a>df<span class="op">$</span>fruit</span></code></pre></div>
</div>

<p>Faire de même avec l’opérateur <code>[[]]</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb887"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb887-1"><a href="16-structures-donnees.html#cb887-1"></a>df[[<span class="st">&quot;fruit&quot;</span>]]</span></code></pre></div>
</div>

<p>À l’aide de l’opérateur <code>[[]]</code> et de la fonction <code>str_to_upper()</code> de <code>stringr</code>, transformer la colonne <code>fruit</code> en passant ses valeurs en majuscules.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb888"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb888-1"><a href="16-structures-donnees.html#cb888-1"></a><span class="kw">library</span>(stringr)</span>
<span id="cb888-2"><a href="16-structures-donnees.html#cb888-2"></a>df[[<span class="st">&quot;fruit&quot;</span>]] &lt;-<span class="st"> </span><span class="kw">str_to_upper</span>(df[[<span class="st">&quot;fruit&quot;</span>]])</span></code></pre></div>
</div>

<p>Créer une fonction <code>colonne_maj</code> qui prend en argument un tableau de données <code>d</code> et un nom de colonne <code>colonne</code>, et retourne le tableau avec la colonne correspondante convertie en majuscules. Vérifier avec :</p>
<div class="sourceCode" id="cb889"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb889-1"><a href="16-structures-donnees.html#cb889-1"></a><span class="kw">colonne_maj</span>(df, <span class="st">&quot;couleur&quot;</span>)</span>
<span id="cb889-2"><a href="16-structures-donnees.html#cb889-2"></a><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span id="cb889-3"><a href="16-structures-donnees.html#cb889-3"></a><span class="co">#&gt;   fruit  poids couleur</span></span>
<span id="cb889-4"><a href="16-structures-donnees.html#cb889-4"></a><span class="co">#&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span id="cb889-5"><a href="16-structures-donnees.html#cb889-5"></a><span class="co">#&gt; 1 Pomme    154 VERT   </span></span>
<span id="cb889-6"><a href="16-structures-donnees.html#cb889-6"></a><span class="co">#&gt; 2 Pomme    167 VERT   </span></span>
<span id="cb889-7"><a href="16-structures-donnees.html#cb889-7"></a><span class="co">#&gt; 3 Citron    92 JAUNE</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb890"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb890-1"><a href="16-structures-donnees.html#cb890-1"></a>colonne_maj &lt;-<span class="st"> </span><span class="cf">function</span>(d, colonne) {</span>
<span id="cb890-2"><a href="16-structures-donnees.html#cb890-2"></a>    d[[colonne]] &lt;-<span class="st"> </span><span class="kw">str_to_upper</span>(d[[colonne]])</span>
<span id="cb890-3"><a href="16-structures-donnees.html#cb890-3"></a>    d</span>
<span id="cb890-4"><a href="16-structures-donnees.html#cb890-4"></a>}</span></code></pre></div>
</div>

<p><strong>Exercice 3.2</strong></p>
<p>Créer le tableau <code>df</code> suivant :</p>
<div class="sourceCode" id="cb891"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb891-1"><a href="16-structures-donnees.html#cb891-1"></a>df &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb891-2"><a href="16-structures-donnees.html#cb891-2"></a>    <span class="op">~</span>fruit,   <span class="op">~</span>poids, <span class="op">~</span>couleur,</span>
<span id="cb891-3"><a href="16-structures-donnees.html#cb891-3"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">154</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb891-4"><a href="16-structures-donnees.html#cb891-4"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">167</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb891-5"><a href="16-structures-donnees.html#cb891-5"></a>    <span class="st">&quot;Citron&quot;</span>, <span class="dv">92</span>,     <span class="st">&quot;jaune&quot;</span></span>
<span id="cb891-6"><a href="16-structures-donnees.html#cb891-6"></a>)</span></code></pre></div>
<p>À l’aide de l’opérateur <code>[,]</code>, sélectionner :</p>
<ul>
<li>les citrons</li>
<li>les pommes et les colonnes <code>fruit</code> et <code>couleur</code></li>
<li>la première colonne des lignes ayant un poids inférieur à 100</li>
</ul>

<div class="solution-exo">
<div class="sourceCode" id="cb892"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb892-1"><a href="16-structures-donnees.html#cb892-1"></a>df[df<span class="op">$</span>fruit <span class="op">==</span><span class="st"> &quot;Citron&quot;</span>,]</span>
<span id="cb892-2"><a href="16-structures-donnees.html#cb892-2"></a>df[df<span class="op">$</span>fruit <span class="op">==</span><span class="st"> &quot;Pomme&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;fruit&quot;</span>, <span class="st">&quot;couleur&quot;</span>)]</span>
<span id="cb892-3"><a href="16-structures-donnees.html#cb892-3"></a>df[df<span class="op">$</span>poids <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span>, <span class="dv">1</span>]</span></code></pre></div>
</div>

<p>Créer une fonction <code>filtre_valeur()</code> qui prend un seul argument nommé <code>valeur</code> et retourne les lignes de <code>df</code> pour lesquelles la colonne <code>fruit</code> vaut <code>valeur</code>. Vérifier avec :</p>
<div class="sourceCode" id="cb893"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb893-1"><a href="16-structures-donnees.html#cb893-1"></a><span class="kw">filtre_valeur</span>(<span class="st">&quot;Pomme&quot;</span>)</span>
<span id="cb893-2"><a href="16-structures-donnees.html#cb893-2"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb893-3"><a href="16-structures-donnees.html#cb893-3"></a><span class="co">#&gt;   fruit poids couleur</span></span>
<span id="cb893-4"><a href="16-structures-donnees.html#cb893-4"></a><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span id="cb893-5"><a href="16-structures-donnees.html#cb893-5"></a><span class="co">#&gt; 1 Pomme   154 vert   </span></span>
<span id="cb893-6"><a href="16-structures-donnees.html#cb893-6"></a><span class="co">#&gt; 2 Pomme   167 vert</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb894"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb894-1"><a href="16-structures-donnees.html#cb894-1"></a>filtre_valeur &lt;-<span class="st"> </span><span class="cf">function</span>(valeur) {</span>
<span id="cb894-2"><a href="16-structures-donnees.html#cb894-2"></a>    df[df<span class="op">$</span>fruit <span class="op">==</span><span class="st"> </span>valeur,]</span>
<span id="cb894-3"><a href="16-structures-donnees.html#cb894-3"></a>}</span></code></pre></div>
</div>

<p>Modifier la fonction pour qu’elle accepte également un argument <code>d</code> contenant le tableau à filtrer. Vérifier avec :</p>
<div class="sourceCode" id="cb895"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb895-1"><a href="16-structures-donnees.html#cb895-1"></a><span class="kw">filtre_valeur</span>(df, <span class="st">&quot;Pomme&quot;</span>)</span>
<span id="cb895-2"><a href="16-structures-donnees.html#cb895-2"></a><span class="co">#&gt; # A tibble: 2 × 3</span></span>
<span id="cb895-3"><a href="16-structures-donnees.html#cb895-3"></a><span class="co">#&gt;   fruit poids couleur</span></span>
<span id="cb895-4"><a href="16-structures-donnees.html#cb895-4"></a><span class="co">#&gt;   &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span id="cb895-5"><a href="16-structures-donnees.html#cb895-5"></a><span class="co">#&gt; 1 Pomme   154 vert   </span></span>
<span id="cb895-6"><a href="16-structures-donnees.html#cb895-6"></a><span class="co">#&gt; 2 Pomme   167 vert</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb896"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb896-1"><a href="16-structures-donnees.html#cb896-1"></a>filtre_valeur &lt;-<span class="st"> </span><span class="cf">function</span>(d, valeur) {</span>
<span id="cb896-2"><a href="16-structures-donnees.html#cb896-2"></a>    d[d<span class="op">$</span>fruit <span class="op">==</span><span class="st"> </span>valeur,]</span>
<span id="cb896-3"><a href="16-structures-donnees.html#cb896-3"></a>}</span></code></pre></div>
</div>

<p>Modifier à nouveau la fonction pour qu’elle accepte aussi un argument <code>colonne</code> qui contient le nom de la colonne à utiliser pour filtrer les lignes. Vérifier avec :</p>
<div class="sourceCode" id="cb897"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb897-1"><a href="16-structures-donnees.html#cb897-1"></a><span class="kw">filtre_valeur</span>(df, <span class="dt">colonne =</span> <span class="st">&quot;couleur&quot;</span>, <span class="dt">valeur =</span> <span class="st">&quot;jaune&quot;</span>)</span>
<span id="cb897-2"><a href="16-structures-donnees.html#cb897-2"></a><span class="co">#&gt; # A tibble: 1 × 3</span></span>
<span id="cb897-3"><a href="16-structures-donnees.html#cb897-3"></a><span class="co">#&gt;   fruit  poids couleur</span></span>
<span id="cb897-4"><a href="16-structures-donnees.html#cb897-4"></a><span class="co">#&gt;   &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;  </span></span>
<span id="cb897-5"><a href="16-structures-donnees.html#cb897-5"></a><span class="co">#&gt; 1 Citron    92 jaune</span></span></code></pre></div>

<div class="solution-exo">
<div class="sourceCode" id="cb898"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb898-1"><a href="16-structures-donnees.html#cb898-1"></a>filtre_valeur &lt;-<span class="st"> </span><span class="cf">function</span>(d, colonne, valeur) {</span>
<span id="cb898-2"><a href="16-structures-donnees.html#cb898-2"></a>    d[d[colonne] <span class="op">==</span><span class="st"> </span>valeur,]</span>
<span id="cb898-3"><a href="16-structures-donnees.html#cb898-3"></a>}</span></code></pre></div>
</div>

<p>Vérifier que cette fonction marche aussi sur un autre jeu de données :</p>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb899-1"><a href="16-structures-donnees.html#cb899-1"></a><span class="kw">library</span>(questionr)</span>
<span id="cb899-2"><a href="16-structures-donnees.html#cb899-2"></a><span class="kw">data</span>(hdv2003)</span>
<span id="cb899-3"><a href="16-structures-donnees.html#cb899-3"></a><span class="kw">filtre_valeur</span>(hdv2003, <span class="st">&quot;sexe&quot;</span>, <span class="st">&quot;Femme&quot;</span>)</span></code></pre></div>
<p><strong>Exercice 3.3</strong></p>
<p>Reprendre le tableau <code>df</code> des exercices précédents :</p>
<div class="sourceCode" id="cb900"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb900-1"><a href="16-structures-donnees.html#cb900-1"></a>df &lt;-<span class="st"> </span><span class="kw">tribble</span>(</span>
<span id="cb900-2"><a href="16-structures-donnees.html#cb900-2"></a>    <span class="op">~</span>fruit,   <span class="op">~</span>poids, <span class="op">~</span>couleur,</span>
<span id="cb900-3"><a href="16-structures-donnees.html#cb900-3"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">154</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb900-4"><a href="16-structures-donnees.html#cb900-4"></a>    <span class="st">&quot;Pomme&quot;</span>,  <span class="dv">167</span>,    <span class="st">&quot;vert&quot;</span>,</span>
<span id="cb900-5"><a href="16-structures-donnees.html#cb900-5"></a>    <span class="st">&quot;Citron&quot;</span>, <span class="dv">92</span>,     <span class="st">&quot;jaune&quot;</span></span>
<span id="cb900-6"><a href="16-structures-donnees.html#cb900-6"></a>)</span></code></pre></div>
<p>À l’aide de l’opérateur <code>[,]</code>, effectuer les opérations suivantes :</p>
<ul>
<li>Créer une nouvelle colonne <code>id</code> avec les valeurs 1, 2, 3</li>
<li>Remplacer la valeur “jaune” de la variable <code>couleur</code> par “jaune citron”</li>
<li>Créer une nouvelle colonne <code>poids_rec</code> qui vaut “léger” si <code>poids</code> est inférieur à 100, et “lourd” sinon</li>
</ul>

<div class="solution-exo">
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb901-1"><a href="16-structures-donnees.html#cb901-1"></a>df[, <span class="st">&quot;id&quot;</span>] &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">3</span></span>
<span id="cb901-2"><a href="16-structures-donnees.html#cb901-2"></a>df[df<span class="op">$</span>couleur <span class="op">==</span><span class="st"> &quot;jaune&quot;</span>, <span class="st">&quot;couleur&quot;</span>] &lt;-<span class="st"> &quot;jaune citron&quot;</span></span>
<span id="cb901-3"><a href="16-structures-donnees.html#cb901-3"></a></span>
<span id="cb901-4"><a href="16-structures-donnees.html#cb901-4"></a>df[df<span class="op">$</span>poids <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span>, <span class="st">&quot;poids_rec&quot;</span>] &lt;-<span class="st"> &quot;léger&quot;</span></span>
<span id="cb901-5"><a href="16-structures-donnees.html#cb901-5"></a>df[df<span class="op">$</span>poids <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span>, <span class="st">&quot;poids_rec&quot;</span>] &lt;-<span class="st"> &quot;lourd&quot;</span></span>
<span id="cb901-6"><a href="16-structures-donnees.html#cb901-6"></a><span class="co"># Ou bien :</span></span>
<span id="cb901-7"><a href="16-structures-donnees.html#cb901-7"></a>df[, <span class="st">&quot;poids_rec&quot;</span>] &lt;-<span class="st"> </span><span class="kw">if_else</span>(df<span class="op">$</span>poids <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span>, <span class="st">&quot;léger&quot;</span>, <span class="st">&quot;lourd&quot;</span>)</span></code></pre></div>
</div>

<p><em>Facultatif :</em> effectuer les mêmes opérations en utilisant les verbes de <code>dplyr</code>.</p>

<div class="solution-exo">
<div class="sourceCode" id="cb902"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb902-1"><a href="16-structures-donnees.html#cb902-1"></a>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">id =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span>
<span id="cb902-2"><a href="16-structures-donnees.html#cb902-2"></a></span>
<span id="cb902-3"><a href="16-structures-donnees.html#cb902-3"></a>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></span>
<span id="cb902-4"><a href="16-structures-donnees.html#cb902-4"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb902-5"><a href="16-structures-donnees.html#cb902-5"></a>        <span class="dt">couleur =</span> <span class="kw">if_else</span>(couleur <span class="op">==</span><span class="st"> &quot;jaune&quot;</span>, <span class="st">&quot;jaune_citron&quot;</span>, couleur)</span>
<span id="cb902-6"><a href="16-structures-donnees.html#cb902-6"></a>    )</span>
<span id="cb902-7"><a href="16-structures-donnees.html#cb902-7"></a><span class="co"># Ou bien :</span></span>
<span id="cb902-8"><a href="16-structures-donnees.html#cb902-8"></a><span class="kw">library</span>(forcats)</span>
<span id="cb902-9"><a href="16-structures-donnees.html#cb902-9"></a>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></span>
<span id="cb902-10"><a href="16-structures-donnees.html#cb902-10"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb902-11"><a href="16-structures-donnees.html#cb902-11"></a>        <span class="dt">couleur =</span> <span class="kw">fct_recode</span>(couleur, <span class="st">&quot;jaune_citron&quot;</span> =<span class="st"> &quot;jaune&quot;</span>)</span>
<span id="cb902-12"><a href="16-structures-donnees.html#cb902-12"></a>    )</span>
<span id="cb902-13"><a href="16-structures-donnees.html#cb902-13"></a></span>
<span id="cb902-14"><a href="16-structures-donnees.html#cb902-14"></a>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></span>
<span id="cb902-15"><a href="16-structures-donnees.html#cb902-15"></a><span class="st">    </span><span class="kw">mutate</span>(</span>
<span id="cb902-16"><a href="16-structures-donnees.html#cb902-16"></a>        <span class="dt">poids_rec =</span> <span class="kw">if_else</span>(poids <span class="op">&lt;</span><span class="st"> </span><span class="dv">100</span>, <span class="st">&quot;léger&quot;</span>, <span class="st">&quot;lourd&quot;</span>)</span>
<span id="cb902-17"><a href="16-structures-donnees.html#cb902-17"></a>    )</span></code></pre></div>
</div>


</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="30">
<li id="fn30"><p>Il en existe d’autres, comme <code>complex</code> ou <code>raw</code>, mais qui sont moins fréquemment utilisés.<a href="16-structures-donnees.html#fnref30" class="footnote-back">↩︎</a></p></li>
<li id="fn31"><p>Si on veut ajouter un élément <code>NULL</code> à une liste, il faut utiliser les crochets simples avec la syntaxe <code>liste["foo"] &lt;- list(NULL)</code>.<a href="16-structures-donnees.html#fnref31" class="footnote-back">↩︎</a></p></li>
<li id="fn32"><p>Attention, comme pour les listes, à ne pas utiliser <code>[[]]</code> avec un argument de longueur supérieur à 1, car cela mène soit à des erreurs soit à des résultats contre-intuitifs.<a href="16-structures-donnees.html#fnref32" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="15-dplyr-avance.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="17-if-boucles.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/juba/tidyverse/blob/main/16-structures-donnees.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["introduction_au_tidyverse.epub", "introduction_au_tidyverse.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
