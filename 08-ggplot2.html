<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Partie 8 Visualiser avec ggplot2 | Introduction à R et au tidyverse</title>
  <meta name="description" content="Une introduction à R et aux extensions du tidyverse" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Partie 8 Visualiser avec ggplot2 | Introduction à R et au tidyverse" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Une introduction à R et aux extensions du tidyverse" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Partie 8 Visualiser avec ggplot2 | Introduction à R et au tidyverse" />
  
  <meta name="twitter:description" content="Une introduction à R et aux extensions du tidyverse" />
  

<meta name="author" content="Julien Barnier" />


<meta name="date" content="2022-04-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="07-import.html"/>
<link rel="next" href="09-recodages.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<link href="libs/vis-9.1.0/vis-network.min.css" rel="stylesheet" />
<script src="libs/vis-9.1.0/vis-network.min.js"></script>
<script src="libs/visNetwork-binding-2.1.0/visNetwork.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span. { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>


<link rel="stylesheet" href="css/tidyverse.css" type="text/css" />
<link rel="stylesheet" href="css/fonts.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./index.html">Introduction à R et au <em>tidyverse</em></a></li>

<li class="divider"></li>
<li><a href="index.html#à-propos-de-ce-document">À propos de ce document<span></span></a><ul>
<li><a href="index.html#remerciements">Remerciements<span></span></a></li>
<li><a href="index.html#licence">Licence<span></span></a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="01-presentation.html"><a href="01-presentation.html"><i class="fa fa-check"></i><b>1</b> Présentation<span></span></a><ul>
<li class="chapter" data-level="1.1" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-de-r"><i class="fa fa-check"></i><b>1.1</b> À propos de R<span></span></a></li>
<li class="chapter" data-level="1.2" data-path="01-presentation.html"><a href="01-presentation.html#rstudio"><i class="fa fa-check"></i><b>1.2</b> À propos de RStudio<span></span></a></li>
<li class="chapter" data-level="1.3" data-path="01-presentation.html"><a href="01-presentation.html#à-propos-du-tidyverse"><i class="fa fa-check"></i><b>1.3</b> À propos du <em>tidyverse</em><span></span></a></li>
<li class="chapter" data-level="1.4" data-path="01-presentation.html"><a href="01-presentation.html#structure-du-document"><i class="fa fa-check"></i><b>1.4</b> Structure du document<span></span></a></li>
<li class="chapter" data-level="1.5" data-path="01-presentation.html"><a href="01-presentation.html#prérequis"><i class="fa fa-check"></i><b>1.5</b> Prérequis<span></span></a></li>
</ul></li>
<li class="part"><span><b>I Introduction à R<span></span></b></span></li>
<li class="chapter" data-level="2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html"><i class="fa fa-check"></i><b>2</b> Prise en main<span></span></a><ul>
<li class="chapter" data-level="2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#la-console"><i class="fa fa-check"></i><b>2.1</b> La console<span></span></a><ul>
<li class="chapter" data-level="2.1.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#linvite-de-commandes"><i class="fa fa-check"></i><b>2.1.1</b> L’invite de commandes<span></span></a></li>
<li class="chapter" data-level="2.1.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#précisions-concernant-la-saisie-des-commandes"><i class="fa fa-check"></i><b>2.1.2</b> Précisions concernant la saisie des commandes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets"><i class="fa fa-check"></i><b>2.2</b> Objets<span></span></a><ul>
<li class="chapter" data-level="2.2.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#objets-simples"><i class="fa fa-check"></i><b>2.2.1</b> Objets simples<span></span></a></li>
<li class="chapter" data-level="2.2.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#introvecteurs"><i class="fa fa-check"></i><b>2.2.2</b> Vecteurs<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#fonctions"><i class="fa fa-check"></i><b>2.3</b> Fonctions<span></span></a><ul>
<li class="chapter" data-level="2.3.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#principe"><i class="fa fa-check"></i><b>2.3.1</b> Principe<span></span></a></li>
<li class="chapter" data-level="2.3.2" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#arguments"><i class="fa fa-check"></i><b>2.3.2</b> Arguments<span></span></a></li>
<li class="chapter" data-level="2.3.3" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#aide-sur-une-fonction"><i class="fa fa-check"></i><b>2.3.3</b> Aide sur une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#regrouper-ses-commandes-dans-des-scripts"><i class="fa fa-check"></i><b>2.4</b> Regrouper ses commandes dans des scripts<span></span></a><ul>
<li class="chapter" data-level="2.4.1" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#commentaires"><i class="fa fa-check"></i><b>2.4.1</b> Commentaires<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#packages"><i class="fa fa-check"></i><b>2.5</b> Installer et charger des extensions (<em>packages</em>)<span></span></a></li>
<li class="chapter" data-level="2.6" data-path="02-prise_en_main.html"><a href="02-prise_en_main.html#exercices"><i class="fa fa-check"></i><b>2.6</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="03-premier_travail.html"><a href="03-premier_travail.html"><i class="fa fa-check"></i><b>3</b> Premier travail avec des données<span></span></a><ul>
<li class="chapter" data-level="3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#jeu-de-données-dexemple"><i class="fa fa-check"></i><b>3.1</b> Jeu de données d’exemple<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#tableau-de-données-data-frame"><i class="fa fa-check"></i><b>3.2</b> Tableau de données (<em>data frame</em>)<span></span></a><ul>
<li class="chapter" data-level="3.2.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#structure-du-tableau"><i class="fa fa-check"></i><b>3.2.1</b> Structure du tableau<span></span></a></li>
<li class="chapter" data-level="3.2.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#accéder-aux-variables-dun-tableau"><i class="fa fa-check"></i><b>3.2.2</b> Accéder aux variables d’un tableau<span></span></a></li>
<li class="chapter" data-level="3.2.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#créer-une-nouvelle-variable"><i class="fa fa-check"></i><b>3.2.3</b> Créer une nouvelle variable<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyse-univariée"><i class="fa fa-check"></i><b>3.3</b> Analyse univariée<span></span></a><ul>
<li class="chapter" data-level="3.3.1" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-quantitative"><i class="fa fa-check"></i><b>3.3.1</b> Analyser une variable quantitative<span></span></a></li>
<li class="chapter" data-level="3.3.2" data-path="03-premier_travail.html"><a href="03-premier_travail.html#analyser-une-variable-qualitative"><i class="fa fa-check"></i><b>3.3.2</b> Analyser une variable qualitative<span></span></a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="03-premier_travail.html"><a href="03-premier_travail.html#exercices-1"><i class="fa fa-check"></i><b>3.4</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="04-bivarie.html"><a href="04-bivarie.html"><i class="fa fa-check"></i><b>4</b> Analyse bivariée<span></span></a><ul>
<li class="chapter" data-level="4.1" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-qualitatives"><i class="fa fa-check"></i><b>4.1</b> Croisement de deux variables qualitatives<span></span></a><ul>
<li class="chapter" data-level="4.1.1" data-path="04-bivarie.html"><a href="04-bivarie.html#tableaux-croisés"><i class="fa fa-check"></i><b>4.1.1</b> Tableaux croisés<span></span></a></li>
<li class="chapter" data-level="4.1.2" data-path="04-bivarie.html"><a href="04-bivarie.html#test-du-χ²"><i class="fa fa-check"></i><b>4.1.2</b> Test du χ²<span></span></a></li>
<li class="chapter" data-level="4.1.3" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-1"><i class="fa fa-check"></i><b>4.1.3</b> Représentation graphique<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-dune-variable-quantitative-et-dune-variable-qualitative"><i class="fa fa-check"></i><b>4.2</b> Croisement d’une variable quantitative et d’une variable qualitative<span></span></a><ul>
<li class="chapter" data-level="4.2.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-2"><i class="fa fa-check"></i><b>4.2.1</b> Représentation graphique<span></span></a></li>
<li class="chapter" data-level="4.2.2" data-path="04-bivarie.html"><a href="04-bivarie.html#tapply"><i class="fa fa-check"></i><b>4.2.2</b> Calculs d’indicateurs<span></span></a></li>
<li class="chapter" data-level="4.2.3" data-path="04-bivarie.html"><a href="04-bivarie.html#tests-statistiques"><i class="fa fa-check"></i><b>4.2.3</b> Tests statistiques<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="04-bivarie.html"><a href="04-bivarie.html#croisement-de-deux-variables-quantitatives"><i class="fa fa-check"></i><b>4.3</b> Croisement de deux variables quantitatives<span></span></a><ul>
<li class="chapter" data-level="4.3.1" data-path="04-bivarie.html"><a href="04-bivarie.html#représentation-graphique-3"><i class="fa fa-check"></i><b>4.3.1</b> Représentation graphique<span></span></a></li>
<li class="chapter" data-level="4.3.2" data-path="04-bivarie.html"><a href="04-bivarie.html#calcul-dindicateurs"><i class="fa fa-check"></i><b>4.3.2</b> Calcul d’indicateurs<span></span></a></li>
<li class="chapter" data-level="4.3.3" data-path="04-bivarie.html"><a href="04-bivarie.html#régression-linéaire"><i class="fa fa-check"></i><b>4.3.3</b> Régression linéaire<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="04-bivarie.html"><a href="04-bivarie.html#exercices-2"><i class="fa fa-check"></i><b>4.4</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="05-organiser.html"><a href="05-organiser.html"><i class="fa fa-check"></i><b>5</b> Organiser ses scripts<span></span></a><ul>
<li class="chapter" data-level="5.1" data-path="05-organiser.html"><a href="05-organiser.html#projets"><i class="fa fa-check"></i><b>5.1</b> Les projets dans RStudio<span></span></a></li>
<li class="chapter" data-level="5.2" data-path="05-organiser.html"><a href="05-organiser.html#créer-des-sections-dans-un-script"><i class="fa fa-check"></i><b>5.2</b> Créer des sections dans un script<span></span></a></li>
<li class="chapter" data-level="5.3" data-path="05-organiser.html"><a href="05-organiser.html#répartir-son-travail-entre-plusieurs-scripts"><i class="fa fa-check"></i><b>5.3</b> Répartir son travail entre plusieurs scripts<span></span></a></li>
<li class="chapter" data-level="5.4" data-path="05-organiser.html"><a href="05-organiser.html#désactiver-la-sauvegarde-de-lespace-de-travail"><i class="fa fa-check"></i><b>5.4</b> Désactiver la sauvegarde de l’espace de travail<span></span></a></li>
</ul></li>
<li class="part"><span><b>II Introduction au tidyverse<span></span></b></span></li>
<li class="chapter" data-level="6" data-path="06-tidyverse.html"><a href="06-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Le tidyverse<span></span></a><ul>
<li class="chapter" data-level="6.1" data-path="06-tidyverse.html"><a href="06-tidyverse.html#extensions"><i class="fa fa-check"></i><b>6.1</b> Extensions<span></span></a></li>
<li class="chapter" data-level="6.2" data-path="06-tidyverse.html"><a href="06-tidyverse.html#installation"><i class="fa fa-check"></i><b>6.2</b> Installation<span></span></a></li>
<li class="chapter" data-level="6.3" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tidydata"><i class="fa fa-check"></i><b>6.3</b> tidy data<span></span></a></li>
<li class="chapter" data-level="6.4" data-path="06-tidyverse.html"><a href="06-tidyverse.html#tibbles"><i class="fa fa-check"></i><b>6.4</b> tibbles<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="07-import.html"><a href="07-import.html"><i class="fa fa-check"></i><b>7</b> Importer et exporter des données<span></span></a><ul>
<li class="chapter" data-level="7.1" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-textes"><i class="fa fa-check"></i><b>7.1</b> Import de fichiers textes<span></span></a><ul>
<li class="chapter" data-level="7.1.1" data-path="07-import.html"><a href="07-import.html#interface-interactive-dimport-de-fichiers"><i class="fa fa-check"></i><b>7.1.1</b> Interface interactive d’import de fichiers<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="07-import.html"><a href="07-import.html#import-depuis-un-fichier-excel"><i class="fa fa-check"></i><b>7.2</b> Import depuis un fichier Excel<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-sas-spss-et-stata"><i class="fa fa-check"></i><b>7.3</b> Import de fichiers SAS, SPSS et Stata<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="07-import.html"><a href="07-import.html#import-de-fichiers-dbase"><i class="fa fa-check"></i><b>7.4</b> Import de fichiers dBase<span></span></a></li>
<li class="chapter" data-level="7.5" data-path="07-import.html"><a href="07-import.html#connexion-à-des-bases-de-données"><i class="fa fa-check"></i><b>7.5</b> Connexion à des bases de données<span></span></a><ul>
<li class="chapter" data-level="7.5.1" data-path="07-import.html"><a href="07-import.html#interfaçage-via-lextension-dbi"><i class="fa fa-check"></i><b>7.5.1</b> Interfaçage via l’extension <code>DBI</code><span></span></a></li>
<li class="chapter" data-level="7.5.2" data-path="07-import.html"><a href="07-import.html#utilisation-de-dplyr-et-dbplyr"><i class="fa fa-check"></i><b>7.5.2</b> Utilisation de <code>dplyr</code> et <code>dbplyr</code><span></span></a></li>
<li class="chapter" data-level="7.5.3" data-path="07-import.html"><a href="07-import.html#ressources"><i class="fa fa-check"></i><b>7.5.3</b> Ressources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="07-import.html"><a href="07-import.html#export-de-données"><i class="fa fa-check"></i><b>7.6</b> Export de données<span></span></a><ul>
<li class="chapter" data-level="7.6.1" data-path="07-import.html"><a href="07-import.html#export-de-tableaux-de-données"><i class="fa fa-check"></i><b>7.6.1</b> Export de tableaux de données<span></span></a></li>
<li class="chapter" data-level="7.6.2" data-path="07-import.html"><a href="07-import.html#sauvegarder-des-objets"><i class="fa fa-check"></i><b>7.6.2</b> Sauvegarder des objets<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="08-ggplot2.html"><a href="08-ggplot2.html"><i class="fa fa-check"></i><b>8</b> Visualiser avec <code>ggplot2</code><span></span></a><ul>
<li class="chapter" data-level="8.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#préparation"><i class="fa fa-check"></i><b>8.1</b> Préparation<span></span></a></li>
<li class="chapter" data-level="8.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#initialisation"><i class="fa fa-check"></i><b>8.2</b> Initialisation<span></span></a></li>
<li class="chapter" data-level="8.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-geom"><i class="fa fa-check"></i><b>8.3</b> Exemples de <code>geom</code><span></span></a><ul>
<li class="chapter" data-level="8.3.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_boxplot"><i class="fa fa-check"></i><b>8.3.1</b> <code>geom_boxplot</code><span></span></a></li>
<li class="chapter" data-level="8.3.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_violin"><i class="fa fa-check"></i><b>8.3.2</b> <code>geom_violin</code><span></span></a></li>
<li class="chapter" data-level="8.3.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-geom_col"><i class="fa fa-check"></i><b>8.3.3</b> <code>geom_bar</code> et <code>geom_col</code><span></span></a></li>
<li class="chapter" data-level="8.3.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_text"><i class="fa fa-check"></i><b>8.3.4</b> <code>geom_text</code><span></span></a></li>
<li class="chapter" data-level="8.3.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_label"><i class="fa fa-check"></i><b>8.3.5</b> <code>geom_label</code><span></span></a></li>
<li class="chapter" data-level="8.3.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_density"><i class="fa fa-check"></i><b>8.3.6</b> <code>geom_density</code><span></span></a></li>
<li class="chapter" data-level="8.3.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_line"><i class="fa fa-check"></i><b>8.3.7</b> <code>geom_line</code><span></span></a></li>
<li class="chapter" data-level="8.3.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_hex-et-geom_bin2d"><i class="fa fa-check"></i><b>8.3.8</b> <code>geom_hex</code> et <code>geom_bin2d</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="08-ggplot2.html"><a href="08-ggplot2.html#mappages"><i class="fa fa-check"></i><b>8.4</b> Mappages<span></span></a><ul>
<li class="chapter" data-level="8.4.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exemples-de-mappages"><i class="fa fa-check"></i><b>8.4.1</b> Exemples de mappages<span></span></a></li>
<li class="chapter" data-level="8.4.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#aes-or-not-aes"><i class="fa fa-check"></i><b>8.4.2</b> <code>aes()</code> or not <code>aes()</code> ?<span></span></a></li>
<li class="chapter" data-level="8.4.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#geom_bar-et-position"><i class="fa fa-check"></i><b>8.4.3</b> <code>geom_bar</code> et <code>position</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="08-ggplot2.html"><a href="08-ggplot2.html#représentation-de-plusieurs-geom"><i class="fa fa-check"></i><b>8.5</b> Représentation de plusieurs <code>geom</code><span></span></a><ul>
<li class="chapter" data-level="8.5.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#plusieurs-sources-de-données"><i class="fa fa-check"></i><b>8.5.1</b> Plusieurs sources de données<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="08-ggplot2.html"><a href="08-ggplot2.html#faceting"><i class="fa fa-check"></i><b>8.6</b> Faceting<span></span></a></li>
<li class="chapter" data-level="8.7" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scales"><i class="fa fa-check"></i><b>8.7</b> Scales<span></span></a><ul>
<li class="chapter" data-level="8.7.1" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_size"><i class="fa fa-check"></i><b>8.7.1</b> <code>scale_size</code><span></span></a></li>
<li class="chapter" data-level="8.7.2" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scale_x-scale_y"><i class="fa fa-check"></i><b>8.7.2</b> <code>scale_x</code>, <code>scale_y</code><span></span></a></li>
<li class="chapter" data-level="8.7.3" data-path="08-ggplot2.html"><a href="08-ggplot2.html#scalecolor"><i class="fa fa-check"></i><b>8.7.3</b> <code>scale_color</code>, <code>scale_fill</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="08-ggplot2.html"><a href="08-ggplot2.html#thèmes"><i class="fa fa-check"></i><b>8.8</b> Thèmes<span></span></a></li>
<li class="chapter" data-level="8.9" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ladd-in-esquisse"><i class="fa fa-check"></i><b>8.9</b> L’add-in <code>esquisse</code><span></span></a></li>
<li class="chapter" data-level="8.10" data-path="08-ggplot2.html"><a href="08-ggplot2.html#ressources-1"><i class="fa fa-check"></i><b>8.10</b> Ressources<span></span></a></li>
<li class="chapter" data-level="8.11" data-path="08-ggplot2.html"><a href="08-ggplot2.html#exercices-3"><i class="fa fa-check"></i><b>8.11</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="09-recodages.html"><a href="09-recodages.html"><i class="fa fa-check"></i><b>9</b> Recoder des variables<span></span></a><ul>
<li class="chapter" data-level="9.1" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs"><i class="fa fa-check"></i><b>9.1</b> Rappel sur les variables et les vecteurs<span></span></a></li>
<li class="chapter" data-level="9.2" data-path="09-recodages.html"><a href="09-recodages.html#tests"><i class="fa fa-check"></i><b>9.2</b> Tests et comparaison<span></span></a></li>
<li class="chapter" data-level="9.3" data-path="09-recodages.html"><a href="09-recodages.html#recoder-une-variable-qualitative"><i class="fa fa-check"></i><b>9.3</b> Recoder une variable qualitative<span></span></a><ul>
<li class="chapter" data-level="9.3.1" data-path="09-recodages.html"><a href="09-recodages.html#facteurs"><i class="fa fa-check"></i><b>9.3.1</b> Facteurs et <code>forcats</code><span></span></a></li>
<li class="chapter" data-level="9.3.2" data-path="09-recodages.html"><a href="09-recodages.html#recode"><i class="fa fa-check"></i><b>9.3.2</b> Modifier les modalités d’une variable qualitative<span></span></a></li>
<li class="chapter" data-level="9.3.3" data-path="09-recodages.html"><a href="09-recodages.html#ordonner-les-modalités-dune-variable-qualitative"><i class="fa fa-check"></i><b>9.3.3</b> Ordonner les modalités d’une variable qualitative<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables"><i class="fa fa-check"></i><b>9.4</b> Combiner plusieurs variables<span></span></a><ul>
<li class="chapter" data-level="9.4.1" data-path="09-recodages.html"><a href="09-recodages.html#if-else"><i class="fa fa-check"></i><b>9.4.1</b> <code>ifelse</code><span></span></a></li>
<li class="chapter" data-level="9.4.2" data-path="09-recodages.html"><a href="09-recodages.html#case_when"><i class="fa fa-check"></i><b>9.4.2</b> <code>case_when</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique-en-classes"><i class="fa fa-check"></i><b>9.5</b> Découper une variable numérique en classes<span></span></a><ul>
<li class="chapter" data-level="9.5.1" data-path="09-recodages.html"><a href="09-recodages.html#interface-graphique"><i class="fa fa-check"></i><b>9.5.1</b> Interface graphique<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="09-recodages.html"><a href="09-recodages.html#exercices-4"><i class="fa fa-check"></i><b>9.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="9.6.1" data-path="09-recodages.html"><a href="09-recodages.html#préparation-1"><i class="fa fa-check"></i><b>9.6.1</b> Préparation<span></span></a></li>
<li class="chapter" data-level="9.6.2" data-path="09-recodages.html"><a href="09-recodages.html#vecteurs-et-tests"><i class="fa fa-check"></i><b>9.6.2</b> Vecteurs et tests<span></span></a></li>
<li class="chapter" data-level="9.6.3" data-path="09-recodages.html"><a href="09-recodages.html#recodages-de-variable-qualitative"><i class="fa fa-check"></i><b>9.6.3</b> Recodages de variable qualitative<span></span></a></li>
<li class="chapter" data-level="9.6.4" data-path="09-recodages.html"><a href="09-recodages.html#combiner-plusieurs-variables-1"><i class="fa fa-check"></i><b>9.6.4</b> Combiner plusieurs variables<span></span></a></li>
<li class="chapter" data-level="9.6.5" data-path="09-recodages.html"><a href="09-recodages.html#découper-une-variable-numérique"><i class="fa fa-check"></i><b>9.6.5</b> Découper une variable numérique<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-dplyr.html"><a href="10-dplyr.html"><i class="fa fa-check"></i><b>10</b> Manipuler les données avec <code>dplyr</code><span></span></a><ul>
<li class="chapter" data-level="10.1" data-path="10-dplyr.html"><a href="10-dplyr.html#préparation-2"><i class="fa fa-check"></i><b>10.1</b> Préparation<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-dplyr"><i class="fa fa-check"></i><b>10.2</b> Les verbes de <code>dplyr</code><span></span></a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice"><i class="fa fa-check"></i><b>10.2.1</b> <code>slice</code><span></span></a></li>
<li class="chapter" data-level="10.2.2" data-path="10-dplyr.html"><a href="10-dplyr.html#filter"><i class="fa fa-check"></i><b>10.2.2</b> <code>filter</code><span></span></a></li>
<li class="chapter" data-level="10.2.3" data-path="10-dplyr.html"><a href="10-dplyr.html#select-rename"><i class="fa fa-check"></i><b>10.2.3</b> <code>select</code> et <code>rename</code><span></span></a></li>
<li class="chapter" data-level="10.2.4" data-path="10-dplyr.html"><a href="10-dplyr.html#arrange"><i class="fa fa-check"></i><b>10.2.4</b> <code>arrange</code><span></span></a></li>
<li class="chapter" data-level="10.2.5" data-path="10-dplyr.html"><a href="10-dplyr.html#mutate"><i class="fa fa-check"></i><b>10.2.5</b> <code>mutate</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-dplyr.html"><a href="10-dplyr.html#pipe"><i class="fa fa-check"></i><b>10.3</b> Enchaîner les opérations avec le <em>pipe</em><span></span></a></li>
<li class="chapter" data-level="10.4" data-path="10-dplyr.html"><a href="10-dplyr.html#opérations-groupées"><i class="fa fa-check"></i><b>10.4</b> Opérations groupées<span></span></a><ul>
<li class="chapter" data-level="10.4.1" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by"><i class="fa fa-check"></i><b>10.4.1</b> <code>group_by</code><span></span></a></li>
<li class="chapter" data-level="10.4.2" data-path="10-dplyr.html"><a href="10-dplyr.html#summarise-et-count"><i class="fa fa-check"></i><b>10.4.2</b> <code>summarise</code> et <code>count</code><span></span></a></li>
<li class="chapter" data-level="10.4.3" data-path="10-dplyr.html"><a href="10-dplyr.html#grouper-selon-plusieurs-variables"><i class="fa fa-check"></i><b>10.4.3</b> Grouper selon plusieurs variables<span></span></a></li>
<li class="chapter" data-level="10.4.4" data-path="10-dplyr.html"><a href="10-dplyr.html#dégroupage"><i class="fa fa-check"></i><b>10.4.4</b> Dégroupage<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="10-dplyr.html"><a href="10-dplyr.html#autres-fonctions-utiles"><i class="fa fa-check"></i><b>10.5</b> Autres fonctions utiles<span></span></a><ul>
<li class="chapter" data-level="10.5.1" data-path="10-dplyr.html"><a href="10-dplyr.html#slice_sample"><i class="fa fa-check"></i><b>10.5.1</b> <code>slice_sample</code><span></span></a></li>
<li class="chapter" data-level="10.5.2" data-path="10-dplyr.html"><a href="10-dplyr.html#lead-et-lag"><i class="fa fa-check"></i><b>10.5.2</b> <code>lead</code> et <code>lag</code><span></span></a></li>
<li class="chapter" data-level="10.5.3" data-path="10-dplyr.html"><a href="10-dplyr.html#distinct-et-n_distinct"><i class="fa fa-check"></i><b>10.5.3</b> <code>distinct</code> et <code>n_distinct</code><span></span></a></li>
<li class="chapter" data-level="10.5.4" data-path="10-dplyr.html"><a href="10-dplyr.html#relocate"><i class="fa fa-check"></i><b>10.5.4</b> <code>relocate</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="10-dplyr.html"><a href="10-dplyr.html#tables-multiples"><i class="fa fa-check"></i><b>10.6</b> Tables multiples<span></span></a><ul>
<li class="chapter" data-level="10.6.1" data-path="10-dplyr.html"><a href="10-dplyr.html#concaténation-bind_rows-et-bind_cols"><i class="fa fa-check"></i><b>10.6.1</b> Concaténation : <code>bind_rows</code> et <code>bind_cols</code><span></span></a></li>
<li class="chapter" data-level="10.6.2" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures"><i class="fa fa-check"></i><b>10.6.2</b> Jointures<span></span></a></li>
<li class="chapter" data-level="10.6.3" data-path="10-dplyr.html"><a href="10-dplyr.html#types-de-jointures"><i class="fa fa-check"></i><b>10.6.3</b> Types de jointures<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="10-dplyr.html"><a href="10-dplyr.html#ressources-2"><i class="fa fa-check"></i><b>10.7</b> Ressources<span></span></a></li>
<li class="chapter" data-level="10.8" data-path="10-dplyr.html"><a href="10-dplyr.html#exercices-5"><i class="fa fa-check"></i><b>10.8</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="10.8.1" data-path="10-dplyr.html"><a href="10-dplyr.html#les-verbes-de-base-de-dplyr"><i class="fa fa-check"></i><b>10.8.1</b> Les verbes de base de <code>dplyr</code><span></span></a></li>
<li class="chapter" data-level="10.8.2" data-path="10-dplyr.html"><a href="10-dplyr.html#enchaîner-des-opérations"><i class="fa fa-check"></i><b>10.8.2</b> Enchaîner des opérations<span></span></a></li>
<li class="chapter" data-level="10.8.3" data-path="10-dplyr.html"><a href="10-dplyr.html#group_by-et-summarise"><i class="fa fa-check"></i><b>10.8.3</b> <code>group_by</code> et <code>summarise</code><span></span></a></li>
<li class="chapter" data-level="10.8.4" data-path="10-dplyr.html"><a href="10-dplyr.html#jointures-1"><i class="fa fa-check"></i><b>10.8.4</b> Jointures<span></span></a></li>
<li class="chapter" data-level="10.8.5" data-path="10-dplyr.html"><a href="10-dplyr.html#bonus"><i class="fa fa-check"></i><b>10.8.5</b> Bonus<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-stringr.html"><a href="11-stringr.html"><i class="fa fa-check"></i><b>11</b> Manipuler du texte avec <code>stringr</code><span></span></a><ul>
<li class="chapter" data-level="11.1" data-path="11-stringr.html"><a href="11-stringr.html#expressions-régulières"><i class="fa fa-check"></i><b>11.1</b> Expressions régulières<span></span></a></li>
<li class="chapter" data-level="11.2" data-path="11-stringr.html"><a href="11-stringr.html#concat"><i class="fa fa-check"></i><b>11.2</b> Concaténer des chaînes<span></span></a></li>
<li class="chapter" data-level="11.3" data-path="11-stringr.html"><a href="11-stringr.html#convertir-en-majuscules-minuscules"><i class="fa fa-check"></i><b>11.3</b> Convertir en majuscules / minuscules<span></span></a></li>
<li class="chapter" data-level="11.4" data-path="11-stringr.html"><a href="11-stringr.html#découper-des-chaînes"><i class="fa fa-check"></i><b>11.4</b> Découper des chaînes<span></span></a></li>
<li class="chapter" data-level="11.5" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-sous-chaînes-par-position"><i class="fa fa-check"></i><b>11.5</b> Extraire des sous-chaînes par position<span></span></a></li>
<li class="chapter" data-level="11.6" data-path="11-stringr.html"><a href="11-stringr.html#str-detect"><i class="fa fa-check"></i><b>11.6</b> Détecter des motifs<span></span></a></li>
<li class="chapter" data-level="11.7" data-path="11-stringr.html"><a href="11-stringr.html#extraire-des-motifs"><i class="fa fa-check"></i><b>11.7</b> Extraire des motifs<span></span></a></li>
<li class="chapter" data-level="11.8" data-path="11-stringr.html"><a href="11-stringr.html#remplacer-des-motifs"><i class="fa fa-check"></i><b>11.8</b> Remplacer des motifs<span></span></a></li>
<li class="chapter" data-level="11.9" data-path="11-stringr.html"><a href="11-stringr.html#modificateurs"><i class="fa fa-check"></i><b>11.9</b> Modificateurs de motifs<span></span></a></li>
<li class="chapter" data-level="11.10" data-path="11-stringr.html"><a href="11-stringr.html#ressources-3"><i class="fa fa-check"></i><b>11.10</b> Ressources<span></span></a></li>
<li class="chapter" data-level="11.11" data-path="11-stringr.html"><a href="11-stringr.html#exercices-6"><i class="fa fa-check"></i><b>11.11</b> Exercices<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-tidyr.html"><a href="12-tidyr.html"><i class="fa fa-check"></i><b>12</b> Mettre en ordre avec <code>tidyr</code><span></span></a><ul>
<li class="chapter" data-level="12.1" data-path="12-tidyr.html"><a href="12-tidyr.html#tidy-data"><i class="fa fa-check"></i><b>12.1</b> Tidy data<span></span></a></li>
<li class="chapter" data-level="12.2" data-path="12-tidyr.html"><a href="12-tidyr.html#trois-règles-pour-des-données-bien-rangées"><i class="fa fa-check"></i><b>12.2</b> Trois règles pour des données bien rangées<span></span></a></li>
<li class="chapter" data-level="12.3" data-path="12-tidyr.html"><a href="12-tidyr.html#les-verbes-de-tidyr"><i class="fa fa-check"></i><b>12.3</b> Les verbes de <code>tidyr</code><span></span></a><ul>
<li class="chapter" data-level="12.3.1" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_longer-transformer-des-colonnes-en-lignes"><i class="fa fa-check"></i><b>12.3.1</b> <code>pivot_longer</code> : transformer des colonnes en lignes<span></span></a></li>
<li class="chapter" data-level="12.3.2" data-path="12-tidyr.html"><a href="12-tidyr.html#pivot_wider-transformer-des-lignes-en-colonnes"><i class="fa fa-check"></i><b>12.3.2</b> <code>pivot_wider</code> : transformer des lignes en colonnes<span></span></a></li>
<li class="chapter" data-level="12.3.3" data-path="12-tidyr.html"><a href="12-tidyr.html#separate"><i class="fa fa-check"></i><b>12.3.3</b> <code>separate</code> : séparer une colonne en plusieurs colonnes<span></span></a></li>
<li class="chapter" data-level="12.3.4" data-path="12-tidyr.html"><a href="12-tidyr.html#separate-rows"><i class="fa fa-check"></i><b>12.3.4</b> <code>separate_rows</code> : séparer une colonne en plusieurs lignes<span></span></a></li>
<li class="chapter" data-level="12.3.5" data-path="12-tidyr.html"><a href="12-tidyr.html#unite-regrouper-plusieurs-colonnes-en-une-seule"><i class="fa fa-check"></i><b>12.3.5</b> <code>unite</code> : regrouper plusieurs colonnes en une seule<span></span></a></li>
<li class="chapter" data-level="12.3.6" data-path="12-tidyr.html"><a href="12-tidyr.html#extract"><i class="fa fa-check"></i><b>12.3.6</b> <code>extract</code> : créer de nouvelles colonnes à partir d’une colonne de texte<span></span></a></li>
<li class="chapter" data-level="12.3.7" data-path="12-tidyr.html"><a href="12-tidyr.html#complete-compléter-des-combinaisons-de-variables-manquantes"><i class="fa fa-check"></i><b>12.3.7</b> <code>complete</code> : compléter des combinaisons de variables manquantes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="12-tidyr.html"><a href="12-tidyr.html#ressources-4"><i class="fa fa-check"></i><b>12.4</b> Ressources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html"><i class="fa fa-check"></i><b>13</b> Diffuser et publier avec <code>rmarkdown</code><span></span></a><ul>
<li class="chapter" data-level="13.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#créer-un-nouveau-document"><i class="fa fa-check"></i><b>13.1</b> Créer un nouveau document<span></span></a></li>
<li class="chapter" data-level="13.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#éléments-dun-document-r-markdown"><i class="fa fa-check"></i><b>13.2</b> Éléments d’un document R Markdown<span></span></a><ul>
<li class="chapter" data-level="13.2.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#en-tête-préambule"><i class="fa fa-check"></i><b>13.2.1</b> En-tête (préambule)<span></span></a></li>
<li class="chapter" data-level="13.2.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#texte-du-document"><i class="fa fa-check"></i><b>13.2.2</b> Texte du document<span></span></a></li>
<li class="chapter" data-level="13.2.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#blocs-de-code-r"><i class="fa fa-check"></i><b>13.2.3</b> Blocs de code R<span></span></a></li>
<li class="chapter" data-level="13.2.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#compiler-un-document-knit"><i class="fa fa-check"></i><b>13.2.4</b> Compiler un document (<em>Knit</em>)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#personnaliser-le-document-généré"><i class="fa fa-check"></i><b>13.3</b> Personnaliser le document généré<span></span></a></li>
<li class="chapter" data-level="13.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-des-blocs-de-code-r"><i class="fa fa-check"></i><b>13.4</b> Options des blocs de code R<span></span></a><ul>
<li class="chapter" data-level="13.4.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#nom-du-bloc"><i class="fa fa-check"></i><b>13.4.1</b> Nom du bloc<span></span></a></li>
<li class="chapter" data-level="13.4.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options"><i class="fa fa-check"></i><b>13.4.2</b> Options<span></span></a></li>
<li class="chapter" data-level="13.4.3" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#modifier-les-options"><i class="fa fa-check"></i><b>13.4.3</b> Modifier les options<span></span></a></li>
<li class="chapter" data-level="13.4.4" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#options-globales"><i class="fa fa-check"></i><b>13.4.4</b> Options globales<span></span></a></li>
<li class="chapter" data-level="13.4.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#mise-en-cache-des-résultats"><i class="fa fa-check"></i><b>13.4.5</b> Mise en cache des résultats<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#rendu-des-tableaux"><i class="fa fa-check"></i><b>13.5</b> Rendu des tableaux<span></span></a><ul>
<li class="chapter" data-level="13.5.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-croisés-1"><i class="fa fa-check"></i><b>13.5.1</b> Tableaux croisés<span></span></a></li>
<li class="chapter" data-level="13.5.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#tableaux-de-données-et-tris-à-plat"><i class="fa fa-check"></i><b>13.5.2</b> Tableaux de données et tris à plat<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates"><i class="fa fa-check"></i><b>13.6</b> Modèles de documents<span></span></a><ul>
<li class="chapter" data-level="13.6.1" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#slides"><i class="fa fa-check"></i><b>13.6.1</b> Slides<span></span></a></li>
<li class="chapter" data-level="13.6.2" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#templates-1"><i class="fa fa-check"></i><b>13.6.2</b> Templates<span></span></a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="13-rmarkdown.html"><a href="13-rmarkdown.html#ressources-5"><i class="fa fa-check"></i><b>13.7</b> Ressources<span></span></a></li>
</ul></li>
<li class="part"><span><b>III Aller plus loin<span></span></b></span></li>
<li class="chapter" data-level="14" data-path="14-fonctions.html"><a href="14-fonctions.html"><i class="fa fa-check"></i><b>14</b> Écrire ses propres fonctions<span></span></a><ul>
<li class="chapter" data-level="14.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples"><i class="fa fa-check"></i><b>14.1</b> Introduction et exemples<span></span></a><ul>
<li class="chapter" data-level="14.1.1" data-path="14-fonctions.html"><a href="14-fonctions.html#structure-dune-fonction"><i class="fa fa-check"></i><b>14.1.1</b> Structure d’une fonction<span></span></a></li>
<li class="chapter" data-level="14.1.2" data-path="14-fonctions.html"><a href="14-fonctions.html#exemple-de-fonction"><i class="fa fa-check"></i><b>14.1.2</b> Exemple de fonction<span></span></a></li>
<li class="chapter" data-level="14.1.3" data-path="14-fonctions.html"><a href="14-fonctions.html#effets-de-bord-et-affichage-de-messages"><i class="fa fa-check"></i><b>14.1.3</b> Effets de bord et affichage de messages<span></span></a></li>
<li class="chapter" data-level="14.1.4" data-path="14-fonctions.html"><a href="14-fonctions.html#utilité-des-fonctions"><i class="fa fa-check"></i><b>14.1.4</b> Utilité des fonctions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat-dune-fonction"><i class="fa fa-check"></i><b>14.2</b> Arguments et résultat d’une fonction<span></span></a><ul>
<li class="chapter" data-level="14.2.1" data-path="14-fonctions.html"><a href="14-fonctions.html#définition-des-arguments"><i class="fa fa-check"></i><b>14.2.1</b> Définition des arguments<span></span></a></li>
<li class="chapter" data-level="14.2.2" data-path="14-fonctions.html"><a href="14-fonctions.html#valeurs-par-défaut"><i class="fa fa-check"></i><b>14.2.2</b> Valeurs par défaut<span></span></a></li>
<li class="chapter" data-level="14.2.3" data-path="14-fonctions.html"><a href="14-fonctions.html#arg-oblig"><i class="fa fa-check"></i><b>14.2.3</b> Arguments obligatoires et arguments facultatifs<span></span></a></li>
<li class="chapter" data-level="14.2.4" data-path="14-fonctions.html"><a href="14-fonctions.html#largument-..."><i class="fa fa-check"></i><b>14.2.4</b> L’argument <code>...</code><span></span></a></li>
<li class="chapter" data-level="14.2.5" data-path="14-fonctions.html"><a href="14-fonctions.html#resfunc"><i class="fa fa-check"></i><b>14.2.5</b> Résultat d’une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables"><i class="fa fa-check"></i><b>14.3</b> Portée des variables<span></span></a><ul>
<li class="chapter" data-level="14.3.1" data-path="14-fonctions.html"><a href="14-fonctions.html#une-fonction-peut-accéder-à-un-objet-extérieur"><i class="fa fa-check"></i><b>14.3.1</b> Une fonction peut accéder à un objet extérieur<span></span></a></li>
<li class="chapter" data-level="14.3.2" data-path="14-fonctions.html"><a href="14-fonctions.html#les-arguments-et-les-objets-créés-dans-la-fonction-sont-prioritaires"><i class="fa fa-check"></i><b>14.3.2</b> Les arguments et les objets créés dans la fonction sont prioritaires<span></span></a></li>
<li class="chapter" data-level="14.3.3" data-path="14-fonctions.html"><a href="14-fonctions.html#un-objet-créé-dans-une-fonction-nexiste-que-dans-cette-fonction"><i class="fa fa-check"></i><b>14.3.3</b> Un objet créé dans une fonction n’existe que dans cette fonction<span></span></a></li>
<li class="chapter" data-level="14.3.4" data-path="14-fonctions.html"><a href="14-fonctions.html#on-ne-peut-pas-modifier-un-objet-global-dans-une-fonction"><i class="fa fa-check"></i><b>14.3.4</b> On ne peut pas modifier un objet global dans une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets"><i class="fa fa-check"></i><b>14.4</b> Les fonctions comme objets<span></span></a><ul>
<li class="chapter" data-level="14.4.1" data-path="14-fonctions.html"><a href="14-fonctions.html#passer-des-fonctions-comme-argument"><i class="fa fa-check"></i><b>14.4.1</b> Passer des fonctions comme argument<span></span></a></li>
<li class="chapter" data-level="14.4.2" data-path="14-fonctions.html"><a href="14-fonctions.html#fonctions-anonymes"><i class="fa fa-check"></i><b>14.4.2</b> Fonctions anonymes<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="14-fonctions.html"><a href="14-fonctions.html#ressources-6"><i class="fa fa-check"></i><b>14.5</b> Ressources<span></span></a></li>
<li class="chapter" data-level="14.6" data-path="14-fonctions.html"><a href="14-fonctions.html#exercices-7"><i class="fa fa-check"></i><b>14.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="14.6.1" data-path="14-fonctions.html"><a href="14-fonctions.html#introduction-et-exemples-1"><i class="fa fa-check"></i><b>14.6.1</b> Introduction et exemples<span></span></a></li>
<li class="chapter" data-level="14.6.2" data-path="14-fonctions.html"><a href="14-fonctions.html#arguments-et-résultat"><i class="fa fa-check"></i><b>14.6.2</b> Arguments et résultat<span></span></a></li>
<li class="chapter" data-level="14.6.3" data-path="14-fonctions.html"><a href="14-fonctions.html#portée-des-variables-1"><i class="fa fa-check"></i><b>14.6.3</b> Portée des variables<span></span></a></li>
<li class="chapter" data-level="14.6.4" data-path="14-fonctions.html"><a href="14-fonctions.html#les-fonctions-comme-objets-1"><i class="fa fa-check"></i><b>14.6.4</b> Les fonctions comme objets<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html"><i class="fa fa-check"></i><b>15</b> <code>dplyr</code> avancé<span></span></a><ul>
<li class="chapter" data-level="15.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions"><i class="fa fa-check"></i><b>15.1</b> Appliquer ses propres fonctions<span></span></a><ul>
<li class="chapter" data-level="15.1.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-mutate"><i class="fa fa-check"></i><b>15.1.1</b> Exemple avec <code>mutate</code><span></span></a></li>
<li class="chapter" data-level="15.1.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-summarise"><i class="fa fa-check"></i><b>15.1.2</b> Exemple avec <code>summarise</code><span></span></a></li>
<li class="chapter" data-level="15.1.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exemple-avec-rename_with"><i class="fa fa-check"></i><b>15.1.3</b> Exemple avec <code>rename_with</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across"><i class="fa fa-check"></i><b>15.2</b> <code>across()</code> : appliquer des fonctions à plusieurs colonnes<span></span></a><ul>
<li class="chapter" data-level="15.2.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-une-fonction-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.1</b> Appliquer une fonction à plusieurs colonnes<span></span></a></li>
<li class="chapter" data-level="15.2.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#passer-des-arguments-supplémentaires-à-la-fonction-appliquée"><i class="fa fa-check"></i><b>15.2.2</b> Passer des arguments supplémentaires à la fonction appliquée<span></span></a></li>
<li class="chapter" data-level="15.2.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#noms-des-colonnes-créées-par-un-mutate"><i class="fa fa-check"></i><b>15.2.3</b> Noms des colonnes créées par un <code>mutate</code><span></span></a></li>
<li class="chapter" data-level="15.2.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-plusieurs-fonctions-à-plusieurs-colonnes"><i class="fa fa-check"></i><b>15.2.4</b> Appliquer plusieurs fonctions à plusieurs colonnes<span></span></a></li>
<li class="chapter" data-level="15.2.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#renommer-plusieurs-colonnes-avec-une-fonction"><i class="fa fa-check"></i><b>15.2.5</b> Renommer plusieurs colonnes avec une fonction<span></span></a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#syntaxes-abregees"><i class="fa fa-check"></i><b>15.3</b> Fonctions anonymes et syntaxes abrégées<span></span></a></li>
<li class="chapter" data-level="15.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across-appliquer-une-transformation-ligne-par-ligne"><i class="fa fa-check"></i><b>15.4</b> <code>rowwise()</code> et <code>c_across()</code> : appliquer une transformation ligne par ligne<span></span></a></li>
<li class="chapter" data-level="15.5" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#ressources-7"><i class="fa fa-check"></i><b>15.5</b> Ressources<span></span></a></li>
<li class="chapter" data-level="15.6" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#exercices-8"><i class="fa fa-check"></i><b>15.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="15.6.1" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#appliquer-ses-propres-fonctions-1"><i class="fa fa-check"></i><b>15.6.1</b> Appliquer ses propres fonctions<span></span></a></li>
<li class="chapter" data-level="15.6.2" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#across-1"><i class="fa fa-check"></i><b>15.6.2</b> <code>across()</code><span></span></a></li>
<li class="chapter" data-level="15.6.3" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#fonctions-anonymes-et-notations-abrégées"><i class="fa fa-check"></i><b>15.6.3</b> Fonctions anonymes et notations abrégées<span></span></a></li>
<li class="chapter" data-level="15.6.4" data-path="15-dplyr-avance.html"><a href="15-dplyr-avance.html#rowwise-et-c_across"><i class="fa fa-check"></i><b>15.6.4</b> <code>rowwise()</code> et <code>c_across()</code><span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html"><i class="fa fa-check"></i><b>16</b> Structures de données<span></span></a><ul>
<li class="chapter" data-level="16.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques"><i class="fa fa-check"></i><b>16.1</b> Vecteurs atomiques<span></span></a><ul>
<li class="chapter" data-level="16.1.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-dun-vecteur"><i class="fa fa-check"></i><b>16.1.1</b> Création d’un vecteur<span></span></a></li>
<li class="chapter" data-level="16.1.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-nommés"><i class="fa fa-check"></i><b>16.1.2</b> Vecteurs nommés<span></span></a></li>
<li class="chapter" data-level="16.1.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#types-de-vecteurs"><i class="fa fa-check"></i><b>16.1.3</b> Types de vecteurs<span></span></a></li>
<li class="chapter" data-level="16.1.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments"><i class="fa fa-check"></i><b>16.1.4</b> Sélection d’éléments<span></span></a></li>
<li class="chapter" data-level="16.1.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification"><i class="fa fa-check"></i><b>16.1.5</b> Modification<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes"><i class="fa fa-check"></i><b>16.2</b> Listes<span></span></a><ul>
<li class="chapter" data-level="16.2.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création"><i class="fa fa-check"></i><b>16.2.1</b> Création<span></span></a></li>
<li class="chapter" data-level="16.2.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ajout-déléments"><i class="fa fa-check"></i><b>16.2.2</b> Ajout d’éléments<span></span></a></li>
<li class="chapter" data-level="16.2.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#sélection-déléments-1"><i class="fa fa-check"></i><b>16.2.3</b> Sélection d’éléments<span></span></a></li>
<li class="chapter" data-level="16.2.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-1"><i class="fa fa-check"></i><b>16.2.4</b> Modification<span></span></a></li>
<li class="chapter" data-level="16.2.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#utilisation"><i class="fa fa-check"></i><b>16.2.5</b> Utilisation<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#data-frame-tibbles"><i class="fa fa-check"></i><b>16.3</b> Tableaux de données (<em>data frame</em> et <em>tibble</em>)<span></span></a><ul>
<li class="chapter" data-level="16.3.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#création-1"><i class="fa fa-check"></i><b>16.3.1</b> Création<span></span></a></li>
<li class="chapter" data-level="16.3.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#noms-de-colonnes-et-de-lignes"><i class="fa fa-check"></i><b>16.3.2</b> Noms de colonnes et de lignes<span></span></a></li>
<li class="chapter" data-level="16.3.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#df-sel"><i class="fa fa-check"></i><b>16.3.3</b> Sélection de lignes et de colonnes<span></span></a></li>
<li class="chapter" data-level="16.3.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#modification-2"><i class="fa fa-check"></i><b>16.3.4</b> Modification<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#ressources-8"><i class="fa fa-check"></i><b>16.4</b> Ressources<span></span></a></li>
<li class="chapter" data-level="16.5" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#exercices-9"><i class="fa fa-check"></i><b>16.5</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="16.5.1" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#vecteurs-atomiques-1"><i class="fa fa-check"></i><b>16.5.1</b> Vecteurs atomiques<span></span></a></li>
<li class="chapter" data-level="16.5.2" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#listes-1"><i class="fa fa-check"></i><b>16.5.2</b> Listes<span></span></a></li>
<li class="chapter" data-level="16.5.3" data-path="16-structures-donnees.html"><a href="16-structures-donnees.html#tableaux-de-données"><i class="fa fa-check"></i><b>16.5.3</b> Tableaux de données<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="17-if-boucles.html"><a href="17-if-boucles.html"><i class="fa fa-check"></i><b>17</b> Exécution conditionnelle et boucles<span></span></a><ul>
<li class="chapter" data-level="17.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else-exécuter-du-code-sous-certaines-conditions"><i class="fa fa-check"></i><b>17.1</b> <code>if</code> et <code>else</code> : exécuter du code sous certaines conditions<span></span></a><ul>
<li class="chapter" data-level="17.1.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if"><i class="fa fa-check"></i><b>17.1.1</b> <code>if</code><span></span></a></li>
<li class="chapter" data-level="17.1.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-1"><i class="fa fa-check"></i><b>17.1.2</b> <code>if</code> / <code>else</code><span></span></a></li>
<li class="chapter" data-level="17.1.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-else-if-else"><i class="fa fa-check"></i><b>17.1.3</b> “<code>if</code>” / “<code>else if</code>” / “<code>else</code>”<span></span></a></li>
<li class="chapter" data-level="17.1.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#construction-de-conditions-complexes"><i class="fa fa-check"></i><b>17.1.4</b> Construction de conditions complexes<span></span></a></li>
<li class="chapter" data-level="17.1.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#différence-entre-if-else-et-ifelse"><i class="fa fa-check"></i><b>17.1.5</b> Différence entre <code>if</code> / <code>else</code> et <code>ifelse</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution-et-gestion-des-erreurs"><i class="fa fa-check"></i><b>17.2</b> Contrôle de l’exécution et gestion des erreurs<span></span></a><ul>
<li class="chapter" data-level="17.2.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#utilisation-de-return-pour-sortir-de-la-fonction"><i class="fa fa-check"></i><b>17.2.1</b> Utilisation de <code>return</code> pour sortir de la fonction<span></span></a></li>
<li class="chapter" data-level="17.2.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#warning"><i class="fa fa-check"></i><b>17.2.2</b> <code>warning</code><span></span></a></li>
<li class="chapter" data-level="17.2.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#stop-et-stopifnot"><i class="fa fa-check"></i><b>17.2.3</b> <code>stop</code> et <code>stopifnot</code><span></span></a></li>
<li class="chapter" data-level="17.2.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#test-arg"><i class="fa fa-check"></i><b>17.2.4</b> Tester la présence d’un argument facultatif<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for-et-while-répéter-des-instructions-dans-une-boucle"><i class="fa fa-check"></i><b>17.3</b> <code>for</code> et <code>while</code> : répéter des instructions dans une boucle<span></span></a><ul>
<li class="chapter" data-level="17.3.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#for"><i class="fa fa-check"></i><b>17.3.1</b> <code>for</code><span></span></a></li>
<li class="chapter" data-level="17.3.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#while"><i class="fa fa-check"></i><b>17.3.2</b> <code>while</code><span></span></a></li>
<li class="chapter" data-level="17.3.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#next-et-break"><i class="fa fa-check"></i><b>17.3.3</b> <code>next</code> et <code>break</code><span></span></a></li>
<li class="chapter" data-level="17.3.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#no-boucles"><i class="fa fa-check"></i><b>17.3.4</b> Quand (ne pas) utiliser des boucles<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.4" data-path="17-if-boucles.html"><a href="17-if-boucles.html#ressources-boucles"><i class="fa fa-check"></i><b>17.4</b> Ressources<span></span></a></li>
<li class="chapter" data-level="17.5" data-path="17-if-boucles.html"><a href="17-if-boucles.html#exercices-10"><i class="fa fa-check"></i><b>17.5</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="17.5.1" data-path="17-if-boucles.html"><a href="17-if-boucles.html#if-et-else"><i class="fa fa-check"></i><b>17.5.1</b> <code>if</code> et <code>else</code><span></span></a></li>
<li class="chapter" data-level="17.5.2" data-path="17-if-boucles.html"><a href="17-if-boucles.html#contrôle-de-lexécution"><i class="fa fa-check"></i><b>17.5.2</b> Contrôle de l’exécution<span></span></a></li>
<li class="chapter" data-level="17.5.3" data-path="17-if-boucles.html"><a href="17-if-boucles.html#boucles"><i class="fa fa-check"></i><b>17.5.3</b> Boucles<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="18-purrr.html"><a href="18-purrr.html"><i class="fa fa-check"></i><b>18</b> Itérer avec <code>purrr</code><span></span></a><ul>
<li class="chapter" data-level="18.1" data-path="18-purrr.html"><a href="18-purrr.html#exemple-dapplication"><i class="fa fa-check"></i><b>18.1</b> Exemple d’application<span></span></a></li>
<li class="chapter" data-level="18.2" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes"><i class="fa fa-check"></i><b>18.2</b> <code>map</code> et ses variantes<span></span></a><ul>
<li class="chapter" data-level="18.2.1" data-path="18-purrr.html"><a href="18-purrr.html#modes-dappel-de-map"><i class="fa fa-check"></i><b>18.2.1</b> Modes d’appel de <code>map</code><span></span></a></li>
<li class="chapter" data-level="18.2.2" data-path="18-purrr.html"><a href="18-purrr.html#variantes-de-map"><i class="fa fa-check"></i><b>18.2.2</b> Variantes de <code>map</code><span></span></a></li>
<li class="chapter" data-level="18.2.3" data-path="18-purrr.html"><a href="18-purrr.html#map_dfr-et-map_dfc"><i class="fa fa-check"></i><b>18.2.3</b> <code>map_dfr()</code> et <code>map_dfc()</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="18-purrr.html"><a href="18-purrr.html#itérer-sur-les-colonnes-dun-tableau-de-données"><i class="fa fa-check"></i><b>18.3</b> Itérer sur les colonnes d’un tableau de données<span></span></a></li>
<li class="chapter" data-level="18.4" data-path="18-purrr.html"><a href="18-purrr.html#modify"><i class="fa fa-check"></i><b>18.4</b> <code>modify</code><span></span></a></li>
<li class="chapter" data-level="18.5" data-path="18-purrr.html"><a href="18-purrr.html#imap"><i class="fa fa-check"></i><b>18.5</b> <code>imap</code><span></span></a></li>
<li class="chapter" data-level="18.6" data-path="18-purrr.html"><a href="18-purrr.html#walk"><i class="fa fa-check"></i><b>18.6</b> <code>walk</code><span></span></a></li>
<li class="chapter" data-level="18.7" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap-itérer-sur-plusieurs-vecteurs-en-parallèle"><i class="fa fa-check"></i><b>18.7</b> <code>map2</code> et <code>pmap</code> : itérer sur plusieurs vecteurs en parallèle<span></span></a></li>
<li class="chapter" data-level="18.8" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération"><i class="fa fa-check"></i><b>18.8</b> Répéter une opération<span></span></a></li>
<li class="chapter" data-level="18.9" data-path="18-purrr.html"><a href="18-purrr.html#quand-ne-pas-utiliser-map"><i class="fa fa-check"></i><b>18.9</b> Quand (ne pas) utiliser <code>map</code><span></span></a></li>
<li class="chapter" data-level="18.10" data-path="18-purrr.html"><a href="18-purrr.html#purrr-vs-apply"><i class="fa fa-check"></i><b>18.10</b> <code>purrr</code> vs <code>*apply</code><span></span></a></li>
<li class="chapter" data-level="18.11" data-path="18-purrr.html"><a href="18-purrr.html#ressources-9"><i class="fa fa-check"></i><b>18.11</b> Ressources<span></span></a></li>
<li class="chapter" data-level="18.12" data-path="18-purrr.html"><a href="18-purrr.html#exercices-11"><i class="fa fa-check"></i><b>18.12</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="18.12.1" data-path="18-purrr.html"><a href="18-purrr.html#map-et-ses-variantes-1"><i class="fa fa-check"></i><b>18.12.1</b> <code>map</code> et ses variantes<span></span></a></li>
<li class="chapter" data-level="18.12.2" data-path="18-purrr.html"><a href="18-purrr.html#modify-et-itération-sur-les-colonnes-dun-tableau"><i class="fa fa-check"></i><b>18.12.2</b> <code>modify</code> et itération sur les colonnes d’un tableau<span></span></a></li>
<li class="chapter" data-level="18.12.3" data-path="18-purrr.html"><a href="18-purrr.html#imap-et-walk"><i class="fa fa-check"></i><b>18.12.3</b> <code>imap</code> et <code>walk</code><span></span></a></li>
<li class="chapter" data-level="18.12.4" data-path="18-purrr.html"><a href="18-purrr.html#map2-et-pmap"><i class="fa fa-check"></i><b>18.12.4</b> <code>map2</code> et <code>pmap</code><span></span></a></li>
<li class="chapter" data-level="18.12.5" data-path="18-purrr.html"><a href="18-purrr.html#répéter-une-opération-1"><i class="fa fa-check"></i><b>18.12.5</b> Répéter une opération<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html"><i class="fa fa-check"></i><b>19</b> Programmer avec le <em>tidyverse</em><span></span></a><ul>
<li class="chapter" data-level="19.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#spécificités-du-tidyverse"><i class="fa fa-check"></i><b>19.1</b> Spécificités du <em>tidyverse</em><span></span></a><ul>
<li class="chapter" data-level="19.1.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#data-masking"><i class="fa fa-check"></i><b>19.1.1</b> <em>data masking</em><span></span></a></li>
<li class="chapter" data-level="19.1.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#tidy-selection"><i class="fa fa-check"></i><b>19.1.2</b> <em>tidy selection</em><span></span></a></li>
<li class="chapter" data-level="19.1.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utilisation-dans-des-fonctions"><i class="fa fa-check"></i><b>19.1.3</b> Utilisation dans des fonctions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.2</b> Programmer avec <code>dplyr</code> et <code>tidyr</code><span></span></a><ul>
<li class="chapter" data-level="19.2.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-colonne-passée-en-argument"><i class="fa fa-check"></i><b>19.2.1</b> Utiliser une colonne passée en argument<span></span></a></li>
<li class="chapter" data-level="19.2.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#utiliser-une-sélection-de-colonnes-passée-en-argument"><i class="fa fa-check"></i><b>19.2.2</b> Utiliser une sélection de colonnes passée en argument<span></span></a></li>
<li class="chapter" data-level="19.2.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#nommer-de-nouvelles-colonnes-à-partir-dun-argument"><i class="fa fa-check"></i><b>19.2.3</b> Nommer de nouvelles colonnes à partir d’un argument<span></span></a></li>
<li class="chapter" data-level="19.2.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#désambiguïser-data-et-env"><i class="fa fa-check"></i><b>19.2.4</b> Désambiguïser data et env<span></span></a></li>
<li class="chapter" data-level="19.2.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#quand-les-arguments-sont-des-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.2.5</b> Quand les arguments sont des chaînes de caractères<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#programmer-avec-ggplot2"><i class="fa fa-check"></i><b>19.3</b> Programmer avec <code>ggplot2</code><span></span></a><ul>
<li class="chapter" data-level="19.3.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#sélection-de-colonnes-avec-aes"><i class="fa fa-check"></i><b>19.3.1</b> Sélection de colonnes avec <code>aes()</code><span></span></a></li>
<li class="chapter" data-level="19.3.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#faceting-1"><i class="fa fa-check"></i><b>19.3.2</b> Faceting<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#aide-mémoire"><i class="fa fa-check"></i><b>19.4</b> Aide-mémoire<span></span></a></li>
<li class="chapter" data-level="19.5" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ressources-10"><i class="fa fa-check"></i><b>19.5</b> Ressources<span></span></a></li>
<li class="chapter" data-level="19.6" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#exercices-12"><i class="fa fa-check"></i><b>19.6</b> Exercices<span></span></a><ul>
<li class="chapter" data-level="19.6.1" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#dplyr-et-tidyr"><i class="fa fa-check"></i><b>19.6.1</b> <code>dplyr</code> et <code>tidyr</code><span></span></a></li>
<li class="chapter" data-level="19.6.2" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#noms-de-colonnes-en-chaînes-de-caractères"><i class="fa fa-check"></i><b>19.6.2</b> Noms de colonnes en chaînes de caractères<span></span></a></li>
<li class="chapter" data-level="19.6.3" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ambiguïté-data-env"><i class="fa fa-check"></i><b>19.6.3</b> Ambiguïté <code>data</code> / <code>env</code><span></span></a></li>
<li class="chapter" data-level="19.6.4" data-path="19-programmer-tidyverse.html"><a href="19-programmer-tidyverse.html#ggplot2-1"><i class="fa fa-check"></i><b>19.6.4</b> <code>ggplot2</code><span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html"><i class="fa fa-check"></i><b>20</b> Débuggage et performance<span></span></a><ul>
<li class="chapter" data-level="20.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#débugguer-une-fonction"><i class="fa fa-check"></i><b>20.1</b> Débugguer une fonction<span></span></a><ul>
<li class="chapter" data-level="20.1.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#print"><i class="fa fa-check"></i><b>20.1.1</b> print()<span></span></a></li>
<li class="chapter" data-level="20.1.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#localiser-une-erreur"><i class="fa fa-check"></i><b>20.1.2</b> Localiser une erreur<span></span></a></li>
<li class="chapter" data-level="20.1.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#browser"><i class="fa fa-check"></i><b>20.1.3</b> browser()<span></span></a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#benchmarking-mesurer-et-comparer-les-temps-dexécution"><i class="fa fa-check"></i><b>20.2</b> benchmarking : mesurer et comparer les temps d’exécution<span></span></a></li>
<li class="chapter" data-level="20.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#quelques-conseils-doptimisation"><i class="fa fa-check"></i><b>20.3</b> Quelques conseils d’optimisation<span></span></a><ul>
<li class="chapter" data-level="20.3.1" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#privilégier-les-fonctions-vectorisées"><i class="fa fa-check"></i><b>20.3.1</b> Privilégier les fonctions vectorisées<span></span></a></li>
<li class="chapter" data-level="20.3.2" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-le-minimum-dopérations-dans-les-boucles"><i class="fa fa-check"></i><b>20.3.2</b> Mettre le minimum d’opérations dans les boucles<span></span></a></li>
<li class="chapter" data-level="20.3.3" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#choisir-un-format-de-fichier-adapté"><i class="fa fa-check"></i><b>20.3.3</b> Choisir un format de fichier adapté<span></span></a></li>
<li class="chapter" data-level="20.3.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#repérer-les-opérations-coûteuses-avec-du-profiling"><i class="fa fa-check"></i><b>20.3.4</b> Repérer les opérations coûteuses avec du <em>profiling</em><span></span></a></li>
<li class="chapter" data-level="20.3.5" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#mettre-en-cache-des-résultats-intermédiaires"><i class="fa fa-check"></i><b>20.3.5</b> Mettre en cache des résultats intermédiaires<span></span></a></li>
<li class="chapter" data-level="20.3.6" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#utiliser-dautres-extensions"><i class="fa fa-check"></i><b>20.3.6</b> Utiliser d’autres extensions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="20-debuggage-performance.html"><a href="20-debuggage-performance.html#ressources-11"><i class="fa fa-check"></i><b>20.4</b> Ressources<span></span></a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="21-targets.html"><a href="21-targets.html"><i class="fa fa-check"></i><b>21</b> Organiser un projet avec <code>targets</code><span></span></a><ul>
<li class="chapter" data-level="21.1" data-path="21-targets.html"><a href="21-targets.html#définition-du-pipeline"><i class="fa fa-check"></i><b>21.1</b> Définition du pipeline<span></span></a><ul>
<li class="chapter" data-level="21.1.1" data-path="21-targets.html"><a href="21-targets.html#projet-dexemple"><i class="fa fa-check"></i><b>21.1.1</b> Projet d’exemple<span></span></a></li>
<li class="chapter" data-level="21.1.2" data-path="21-targets.html"><a href="21-targets.html#targets.r"><i class="fa fa-check"></i><b>21.1.2</b> <code>_targets.R</code><span></span></a></li>
</ul></li>
<li class="chapter" data-level="21.2" data-path="21-targets.html"><a href="21-targets.html#exécution-du-pipeline"><i class="fa fa-check"></i><b>21.2</b> Exécution du pipeline<span></span></a></li>
<li class="chapter" data-level="21.3" data-path="21-targets.html"><a href="21-targets.html#modification-du-pipeline"><i class="fa fa-check"></i><b>21.3</b> Modification du pipeline<span></span></a></li>
<li class="chapter" data-level="21.4" data-path="21-targets.html"><a href="21-targets.html#rmarkdown"><i class="fa fa-check"></i><b>21.4</b> RMarkdown<span></span></a></li>
<li class="chapter" data-level="21.5" data-path="21-targets.html"><a href="21-targets.html#gestion-des-données-en-cache"><i class="fa fa-check"></i><b>21.5</b> Gestion des données en cache<span></span></a></li>
<li class="chapter" data-level="21.6" data-path="21-targets.html"><a href="21-targets.html#avantages-et-limites"><i class="fa fa-check"></i><b>21.6</b> Avantages et limites<span></span></a><ul>
<li class="chapter" data-level="21.6.1" data-path="21-targets.html"><a href="21-targets.html#avantages"><i class="fa fa-check"></i><b>21.6.1</b> Avantages<span></span></a></li>
<li class="chapter" data-level="21.6.2" data-path="21-targets.html"><a href="21-targets.html#interactivité-et-développement-du-pipeline"><i class="fa fa-check"></i><b>21.6.2</b> Interactivité et développement du pipeline<span></span></a></li>
</ul></li>
<li class="chapter" data-level="21.7" data-path="21-targets.html"><a href="21-targets.html#ressources-12"><i class="fa fa-check"></i><b>21.7</b> Ressources<span></span></a></li>
</ul></li>
<li class="appendix"><span><b>Annexes<span></span></b></span></li>
<li class="chapter" data-level="A" data-path="22-ressources.html"><a href="22-ressources.html"><i class="fa fa-check"></i><b>A</b> Ressources<span></span></a><ul>
<li class="chapter" data-level="A.1" data-path="22-ressources.html"><a href="22-ressources.html#aide"><i class="fa fa-check"></i><b>A.1</b> Aide<span></span></a><ul>
<li class="chapter" data-level="A.1.1" data-path="22-ressources.html"><a href="22-ressources.html#aide-de-r-et-rstudio"><i class="fa fa-check"></i><b>A.1.1</b> Aide de R et RStudio<span></span></a></li>
<li class="chapter" data-level="A.1.2" data-path="22-ressources.html"><a href="22-ressources.html#aide-en-ligne"><i class="fa fa-check"></i><b>A.1.2</b> Aide en ligne<span></span></a></li>
<li class="chapter" data-level="A.1.3" data-path="22-ressources.html"><a href="22-ressources.html#antisèches"><i class="fa fa-check"></i><b>A.1.3</b> Antisèches<span></span></a></li>
<li class="chapter" data-level="A.1.4" data-path="22-ressources.html"><a href="22-ressources.html#où-poser-des-questions"><i class="fa fa-check"></i><b>A.1.4</b> Où poser des questions<span></span></a></li>
</ul></li>
<li class="chapter" data-level="A.2" data-path="22-ressources.html"><a href="22-ressources.html#ouvrages-blogs-moocs"><i class="fa fa-check"></i><b>A.2</b> Ouvrages, blogs, MOOCs…<span></span></a><ul>
<li class="chapter" data-level="A.2.1" data-path="22-ressources.html"><a href="22-ressources.html#francophones"><i class="fa fa-check"></i><b>A.2.1</b> Francophones<span></span></a></li>
<li class="chapter" data-level="A.2.2" data-path="22-ressources.html"><a href="22-ressources.html#anglophones"><i class="fa fa-check"></i><b>A.2.2</b> Anglophones<span></span></a></li>
</ul></li>
<li class="chapter" data-level="A.3" data-path="22-ressources.html"><a href="22-ressources.html#extensions-1"><i class="fa fa-check"></i><b>A.3</b> Extensions<span></span></a><ul>
<li class="chapter" data-level="A.3.1" data-path="22-ressources.html"><a href="22-ressources.html#où-trouver-des-extensions-intéressantes"><i class="fa fa-check"></i><b>A.3.1</b> Où trouver des extensions intéressantes ?<span></span></a></li>
<li class="chapter" data-level="A.3.2" data-path="22-ressources.html"><a href="22-ressources.html#lextension-questionr"><i class="fa fa-check"></i><b>A.3.2</b> L’extension <code>questionr</code><span></span></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Introduction à R et au tidyverse</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ggplot2" class="section level1 hasAnchor">
<h1><span class="header-section-number">Partie 8</span> Visualiser avec <code>ggplot2</code><a href="08-ggplot2.html#ggplot2" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><code>ggplot2</code> est une extension du <em>tidyverse</em> qui permet de générer des graphiques avec une syntaxe cohérente et puissante. Elle nécessite l’apprentissage d’un “mini-langage” supplémentaire, mais permet la construction de graphiques complexes de manière efficace.</p>
<p>Une des particularités de <code>ggplot2</code> est qu’elle part du principe que les données relatives à un graphique sont stockées dans un tableau de données (<em>data frame</em>, <em>tibble</em> ou autre).</p>
<div id="préparation" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.1</span> Préparation<a href="08-ggplot2.html#préparation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>ggplot2</code> fait partie du coeur du <em>tidyverse</em>, elle est donc chargée automatiquement avec :</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="08-ggplot2.html#cb180-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<p>On peut également la charger explicitement avec :</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="08-ggplot2.html#cb181-1"></a><span class="kw">library</span>(ggplot2)</span></code></pre></div>
<p>Dans ce qui suit on utilisera le jeu de données issu du recensement de la population de 2018 inclus dans l’extension <code>questionr</code> (résultats partiels concernant les communes de plus de 2000 habitants de France métropolitaine). On charge ces données et on en extrait les données de 5 départements (l’utilisation de la fonction <code>filter</code> sera expliquée dans la section <a href="10-dplyr.html#filter">10.2.2</a> de la <a href="10-dplyr.html#dplyr">partie sur <code>dplyr</code></a> :</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="08-ggplot2.html#cb182-1"></a><span class="kw">library</span>(questionr)</span>
<span id="cb182-2"><a href="08-ggplot2.html#cb182-2"></a><span class="kw">data</span>(rp2018)</span>
<span id="cb182-3"><a href="08-ggplot2.html#cb182-3"></a></span>
<span id="cb182-4"><a href="08-ggplot2.html#cb182-4"></a>rp &lt;-<span class="st"> </span><span class="kw">filter</span>(</span>
<span id="cb182-5"><a href="08-ggplot2.html#cb182-5"></a>  rp2018,</span>
<span id="cb182-6"><a href="08-ggplot2.html#cb182-6"></a>  departement <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Oise&quot;</span>, <span class="st">&quot;Rhône&quot;</span>, <span class="st">&quot;Hauts-de-Seine&quot;</span>, <span class="st">&quot;Lozère&quot;</span>, <span class="st">&quot;Bouches-du-Rhône&quot;</span>)</span>
<span id="cb182-7"><a href="08-ggplot2.html#cb182-7"></a>)</span></code></pre></div>
</div>
<div id="initialisation" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.2</span> Initialisation<a href="08-ggplot2.html#initialisation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Un graphique <code>ggplot2</code> s’initialise à l’aide de la fonction <code>ggplot()</code>. Les données représentées graphiquement sont toujours issues d’un tableau de données (<em>data frame</em> ou <em>tibble</em>), qu’on passe en argument <code>data</code> à la fonction :</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="08-ggplot2.html#cb183-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp)</span>
<span id="cb183-2"><a href="08-ggplot2.html#cb183-2"></a><span class="co">## Ou, équivalent</span></span>
<span id="cb183-3"><a href="08-ggplot2.html#cb183-3"></a><span class="kw">ggplot</span>(rp)</span></code></pre></div>
<p>On a défini la source de données, il faut maintenant ajouter des éléments de représentation graphique. Ces éléments sont appelés des <code>geom</code>, et on les ajoute à l’objet graphique de base avec l’opérateur <code>+</code>.</p>
<p>Un des <code>geom</code> les plus simples est <code>geom_histogram</code>. On peut l’ajouter de la manière suivante :</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="08-ggplot2.html#cb184-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>()</span></code></pre></div>
<p>Reste à indiquer quelle donnée nous voulons représenter sous forme d’histogramme. Cela se fait à l’aide d’arguments passés via la fonction <code>aes()</code>. Ici nous avons un paramètre à renseigner, <code>x</code>, qui indique la variable à représenter sur l’axe des x (l’axe horizontal). Ainsi, si on souhaite représenter la distribution des communes du jeu de données selon le pourcentage de cadres dans leur population active (variable <code>cadres</code>), on pourra faire :</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="08-ggplot2.html#cb185-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-203-1.png" width="672" /></p>
<p>Si on veut représenter une autre variable, il suffit de changer la valeur de <code>x</code> :</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="08-ggplot2.html#cb186-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> ouvr))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-204-1.png" width="672" /></p>
<div class="rmdnote">
<p>
Quand on spécifie une variable, inutile d’indiquer le nom du tableau de données sous la forme <code>rp$ouvr</code>, car <code>ggplot2</code> recherche automatiquement la variable dans le tableau de données indiqué avec le paramètre <code>data</code>. On peut donc se contenter de <code>ouvr</code>.
</p>
</div>
<p>Certains <code>geom</code> prennent plusieurs paramètres. Ainsi, si on veut représenter un nuage de points, on peut le faire en ajoutant un <code>geom_point</code>. On doit alors indiquer à la fois la position en <code>x</code> (la variable sur l’axe horizontal) et en <code>y</code> (la variable sur l’axe vertical) de ces points, il faut donc passer ces deux arguments à <code>aes()</code> :</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="08-ggplot2.html#cb187-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-206-1.png" width="672" /></p>
<p>On peut modifier certains attributs graphiques d’un <code>geom</code> en lui passant des arguments supplémentaires. Par exemple, pour un nuage de points, on peut modifier la couleur des points avec l’argument <code>color</code>, leur taille avec l’argument <code>size</code>, et leur transparence avec l’argument <code>alpha</code> :</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="08-ggplot2.html#cb188-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb188-2"><a href="08-ggplot2.html#cb188-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb188-3"><a href="08-ggplot2.html#cb188-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres),</span>
<span id="cb188-4"><a href="08-ggplot2.html#cb188-4"></a>    <span class="dt">color =</span> <span class="st">&quot;darkgreen&quot;</span>, <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">alpha =</span> <span class="fl">0.3</span></span>
<span id="cb188-5"><a href="08-ggplot2.html#cb188-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-207-1.png" width="672" /></p>
<p>On notera que dans ce cas les arguments sont dans la fonction <code>geom</code> mais à l’extérieur du <code>aes()</code>. Plus d’explications sur ce point dans quelques instants.</p>
</div>
<div id="exemples-de-geom" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.3</span> Exemples de <code>geom</code><a href="08-ggplot2.html#exemples-de-geom" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Il existe un grand nombre de <code>geom</code>, décrits en détail dans la <a href="http://ggplot2.tidyverse.org/reference/">documentation officielle</a>. Outre les <code>geom_histogram</code> et <code>geom_point</code> que l’on vient de voir, on pourra noter les <code>geom</code> suivants.</p>
<div id="geom_boxplot" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.1</span> <code>geom_boxplot</code><a href="08-ggplot2.html#geom_boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_boxplot</code> permet de représenter des boîtes à moustaches. On lui passe en <code>y</code> la variable numérique dont on veut étudier la répartition, et en <code>x</code> la variable qualitative contenant les classes qu’on souhaite comparer. Ainsi, si on veut comparer la répartition du pourcentage de maisons en fonction du département de la commune, on pourra faire :</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="08-ggplot2.html#cb189-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-208-1.png" width="672" /></p>
<p>On peut personnaliser la présentation avec différents argument supplémentaires comme <code>fill</code> ou <code>color</code> :</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="08-ggplot2.html#cb190-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb190-2"><a href="08-ggplot2.html#cb190-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(</span>
<span id="cb190-3"><a href="08-ggplot2.html#cb190-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison),</span>
<span id="cb190-4"><a href="08-ggplot2.html#cb190-4"></a>    <span class="dt">fill =</span> <span class="st">&quot;wheat&quot;</span>, <span class="dt">color =</span> <span class="st">&quot;tomato4&quot;</span></span>
<span id="cb190-5"><a href="08-ggplot2.html#cb190-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-209-1.png" width="672" /></p>
<p>Un autre argument utile, <code>varwidth</code>, permet de faire varier la largeur des boîtes en fonction des effectifs de la classe (donc, ici, en fonction du nombre de communes de chaque département) :</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="08-ggplot2.html#cb191-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb191-2"><a href="08-ggplot2.html#cb191-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison), <span class="dt">varwidth =</span> <span class="ot">TRUE</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-210-1.png" width="672" /></p>
</div>
<div id="geom_violin" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.2</span> <code>geom_violin</code><a href="08-ggplot2.html#geom_violin" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_violin</code> est très semblable à <code>geom_boxplot</code>, mais utilise des graphes en violon à la place des boîtes à moustache.</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="08-ggplot2.html#cb192-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-211-1.png" width="672" /></p>
<p>Les graphes en violon peuvent donner une lecture plus fine des différences de distribution selon les classes. Comme pour les graphiques de densité, on peut faire varier le niveau de “détail” de la représentation en utilisant l’argument <code>bw</code> (bande passante).</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="08-ggplot2.html#cb193-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb193-2"><a href="08-ggplot2.html#cb193-2"></a><span class="st">  </span><span class="kw">geom_violin</span>(</span>
<span id="cb193-3"><a href="08-ggplot2.html#cb193-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison),</span>
<span id="cb193-4"><a href="08-ggplot2.html#cb193-4"></a>    <span class="dt">bw =</span> <span class="dv">2</span></span>
<span id="cb193-5"><a href="08-ggplot2.html#cb193-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-212-1.png" width="672" /></p>
</div>
<div id="geom_bar-et-geom_col" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.3</span> <code>geom_bar</code> et <code>geom_col</code><a href="08-ggplot2.html#geom_bar-et-geom_col" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_bar</code> permet de produire un graphique en bâtons (<em>barplot</em>). On lui passe en <code>x</code> la variable qualitative dont on souhaite représenter l’effectif de chaque modalité.</p>
<p>Par exemple, si on veut afficher le nombre de communes de notre jeu de données pour chaque département :</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="08-ggplot2.html#cb194-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-213-1.png" width="672" /></p>
<p>Si on préfère avoir un graphique en barres horizontales, il suffit de passer la variable comme attribut <code>y</code> plutôt que <code>x</code>.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="08-ggplot2.html#cb195-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">y =</span> departement))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-214-1.png" width="672" /></p>
<p>Une autre possibilité est d’utiliser <code>coord_flip()</code>, qui permet d’intervertir l’axe horizontal et l’axe vertical.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="08-ggplot2.html#cb196-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb196-2"><a href="08-ggplot2.html#cb196-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement)) <span class="op">+</span></span>
<span id="cb196-3"><a href="08-ggplot2.html#cb196-3"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-215-1.png" width="672" /></p>
<p>À noter que <code>coord_flip()</code> peut s’appliquer à n’importe quel graphique <code>ggplot2</code>.</p>
<p>Parfois, on a déjà calculé le tri à plat de la variable à représenter. Dans ce cas on souhaite représenter les effectifs directement, sans les calculer.</p>
<p>C’est le cas par exemple si on a les données sous la forme suivante dans un tableau de données nommé <code>tab</code> :</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="08-ggplot2.html#cb197-1"></a>tab</span>
<span id="cb197-2"><a href="08-ggplot2.html#cb197-2"></a><span class="co">#&gt;        departement   n</span></span>
<span id="cb197-3"><a href="08-ggplot2.html#cb197-3"></a><span class="co">#&gt; 1 Bouches-du-Rhône 115</span></span>
<span id="cb197-4"><a href="08-ggplot2.html#cb197-4"></a><span class="co">#&gt; 2   Hauts-de-Seine  35</span></span>
<span id="cb197-5"><a href="08-ggplot2.html#cb197-5"></a><span class="co">#&gt; 3           Lozère   8</span></span>
<span id="cb197-6"><a href="08-ggplot2.html#cb197-6"></a><span class="co">#&gt; 4             Oise  76</span></span>
<span id="cb197-7"><a href="08-ggplot2.html#cb197-7"></a><span class="co">#&gt; 5            Rhône 132</span></span></code></pre></div>
<p>Dans ce cas on peut utiliser <code>geom_col</code>. Il faut alors spécifier, en plus de l’argument <code>x</code>, un argument <code>y</code> indiquant la variable contenant la hauteur des barres. Dans notre exemple, il s’agit de la variable <code>n</code>.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="08-ggplot2.html#cb198-1"></a><span class="kw">ggplot</span>(tab) <span class="op">+</span><span class="st"> </span><span class="kw">geom_col</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> n))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-218-1.png" width="672" /></p>
<p>Que ce soit pour <code>geom_bar</code> ou <code>geom_col</code>, on peut modifier l’apparence du graphique en passant des arguments supplémentaires comme <code>fill</code> ou <code>width</code>.</p>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="08-ggplot2.html#cb199-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb199-2"><a href="08-ggplot2.html#cb199-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(</span>
<span id="cb199-3"><a href="08-ggplot2.html#cb199-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement),</span>
<span id="cb199-4"><a href="08-ggplot2.html#cb199-4"></a>    <span class="dt">fill =</span> <span class="st">&quot;darkblue&quot;</span>, <span class="dt">width =</span> <span class="fl">.5</span></span>
<span id="cb199-5"><a href="08-ggplot2.html#cb199-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-219-1.png" width="672" /></p>
</div>
<div id="geom_text" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.4</span> <code>geom_text</code><a href="08-ggplot2.html#geom_text" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_text</code> permet d’afficher des étiquettes de texte. On doit lui fournir trois paramètres dans <code>aes</code> : <code>x</code> et <code>y</code> pour la position des étiquettes, et <code>label</code> pour leur texte.</p>
<p>Par exemple, si on souhaite représenter le nuage croisant la part des diplômés du supérieur et la part de cadres, mais en affichant le nom de la commune (variable <code>commune</code>) plutôt qu’un simple point, on peut faire :</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="08-ggplot2.html#cb200-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb200-2"><a href="08-ggplot2.html#cb200-2"></a><span class="st">  </span><span class="kw">geom_text</span>(</span>
<span id="cb200-3"><a href="08-ggplot2.html#cb200-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">label =</span> commune)</span>
<span id="cb200-4"><a href="08-ggplot2.html#cb200-4"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-220-1.png" width="672" /></p>
<p>On peut personnaliser l’apparence et la position du texte avec des arguments comme <code>size</code>, <code>color</code>, etc.</p>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="08-ggplot2.html#cb201-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb201-2"><a href="08-ggplot2.html#cb201-2"></a><span class="st">  </span><span class="kw">geom_text</span>(</span>
<span id="cb201-3"><a href="08-ggplot2.html#cb201-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">label =</span> commune),</span>
<span id="cb201-4"><a href="08-ggplot2.html#cb201-4"></a>    <span class="dt">color =</span> <span class="st">&quot;darkred&quot;</span>, <span class="dt">size =</span> <span class="dv">2</span></span>
<span id="cb201-5"><a href="08-ggplot2.html#cb201-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-221-1.png" width="672" /></p>
</div>
<div id="geom_label" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.5</span> <code>geom_label</code><a href="08-ggplot2.html#geom_label" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_label</code> est identique à <code>geom_text</code>, mais avec une présentation un peu différente.</p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="08-ggplot2.html#cb202-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_label</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">label =</span> commune))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-222-1.png" width="672" /></p>
</div>
<div id="geom_density" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.6</span> <code>geom_density</code><a href="08-ggplot2.html#geom_density" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_density</code> permet d’afficher l’estimation de densité d’une variable numérique. Son usage est similaire à celui de <code>geom_histogram</code>.</p>
<p>Ainsi, si on veut afficher la densité de la répartition de la part des cadres dans les communes de notre jeu de données :</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="08-ggplot2.html#cb203-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_density</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-223-1.png" width="672" /></p>
<p>On peut utiliser différents arguments pour ajuster le calcul de l’estimation de densité, parmi lesquels <code>kernel</code> et <code>bw</code> (voir la page d’aide de la fonction <code>density</code> pour plus de détails). <code>bw</code> (abbréviation de <em>bandwidth</em>, bande passante) permet de régler la “finesse” de l’estimation de densité, un peu comme le choix du nombre de classes dans un histogramme :</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="08-ggplot2.html#cb204-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_density</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres), <span class="dt">bw =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-224-1.png" width="672" /></p>
</div>
<div id="geom_line" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.7</span> <code>geom_line</code><a href="08-ggplot2.html#geom_line" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>geom_line</code> trace des lignes connectant les différentes observations entre elles. Il est notamment utilisé pour la représentation de séries temporelles. On passe à <code>geom_line</code> deux paramètres : <code>x</code> et <code>y</code>. Les observations sont alors connectées selon l’ordre des valeurs passées en <code>x</code>.</p>
<p>Comme il n’y a pas de données adaptées pour ce type de représentation dans notre jeu de données d’exemple, on va utiliser ici le jeu de données <code>economics</code> inclus dans <code>ggplot2</code> et représenter l’évolution du taux de chômage aux États-Unis (variable <code>unemploy</code>) dans le temps (variable <code>date</code>) :</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="08-ggplot2.html#cb205-1"></a><span class="kw">data</span>(<span class="st">&quot;economics&quot;</span>)</span>
<span id="cb205-2"><a href="08-ggplot2.html#cb205-2"></a>economics</span>
<span id="cb205-3"><a href="08-ggplot2.html#cb205-3"></a><span class="co">#&gt; # A tibble: 574 × 6</span></span>
<span id="cb205-4"><a href="08-ggplot2.html#cb205-4"></a><span class="co">#&gt;    date         pce    pop psavert uempmed unemploy</span></span>
<span id="cb205-5"><a href="08-ggplot2.html#cb205-5"></a><span class="co">#&gt;    &lt;date&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span id="cb205-6"><a href="08-ggplot2.html#cb205-6"></a><span class="co">#&gt;  1 1967-07-01  507. 198712    12.6     4.5     2944</span></span>
<span id="cb205-7"><a href="08-ggplot2.html#cb205-7"></a><span class="co">#&gt;  2 1967-08-01  510. 198911    12.6     4.7     2945</span></span>
<span id="cb205-8"><a href="08-ggplot2.html#cb205-8"></a><span class="co">#&gt;  3 1967-09-01  516. 199113    11.9     4.6     2958</span></span>
<span id="cb205-9"><a href="08-ggplot2.html#cb205-9"></a><span class="co">#&gt;  4 1967-10-01  512. 199311    12.9     4.9     3143</span></span>
<span id="cb205-10"><a href="08-ggplot2.html#cb205-10"></a><span class="co">#&gt;  5 1967-11-01  517. 199498    12.8     4.7     3066</span></span>
<span id="cb205-11"><a href="08-ggplot2.html#cb205-11"></a><span class="co">#&gt;  6 1967-12-01  525. 199657    11.8     4.8     3018</span></span>
<span id="cb205-12"><a href="08-ggplot2.html#cb205-12"></a><span class="co">#&gt;  7 1968-01-01  531. 199808    11.7     5.1     2878</span></span>
<span id="cb205-13"><a href="08-ggplot2.html#cb205-13"></a><span class="co">#&gt;  8 1968-02-01  534. 199920    12.3     4.5     3001</span></span>
<span id="cb205-14"><a href="08-ggplot2.html#cb205-14"></a><span class="co">#&gt;  9 1968-03-01  544. 200056    11.7     4.1     2877</span></span>
<span id="cb205-15"><a href="08-ggplot2.html#cb205-15"></a><span class="co">#&gt; 10 1968-04-01  544  200208    12.3     4.6     2709</span></span>
<span id="cb205-16"><a href="08-ggplot2.html#cb205-16"></a><span class="co">#&gt; # … with 564 more rows</span></span></code></pre></div>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="08-ggplot2.html#cb206-1"></a><span class="kw">ggplot</span>(economics) <span class="op">+</span><span class="st"> </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x =</span> date, <span class="dt">y =</span> unemploy))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-226-1.png" width="672" /></p>
</div>
<div id="geom_hex-et-geom_bin2d" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.3.8</span> <code>geom_hex</code> et <code>geom_bin2d</code><a href="08-ggplot2.html#geom_hex-et-geom_bin2d" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lorsque le nombre de points est important, la représentation sous forme de nuage peut vite devenir illisible : la superposition des données empêche de voir précisément leur répartition.</p>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="08-ggplot2.html#cb207-1"></a><span class="kw">ggplot</span>(rp2018) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres, <span class="dt">y =</span> dipl_sup))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-227-1.png" width="672" /></p>
<p>Dans ces cas-là, on peut utiliser <code>geom_bin2d</code>, qui va créer une grille sur toute la zone du graphique et colorier chaque carré selon le nombre de points qu’il contient (les carrés n’en contenant aucun restant transparents).</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="08-ggplot2.html#cb208-1"></a><span class="kw">ggplot</span>(rp2018) <span class="op">+</span></span>
<span id="cb208-2"><a href="08-ggplot2.html#cb208-2"></a><span class="st">  </span><span class="kw">geom_bin2d</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres, <span class="dt">y =</span> dipl_sup))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-228-1.png" width="672" /></p>
<p>Une variante fonctionnant de manière très semblable est <code>geom_hex</code>, qui elle crée une grille constituée d’hexagones.</p>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="08-ggplot2.html#cb209-1"></a><span class="kw">ggplot</span>(rp2018) <span class="op">+</span></span>
<span id="cb209-2"><a href="08-ggplot2.html#cb209-2"></a><span class="st">  </span><span class="kw">geom_hex</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres, <span class="dt">y =</span> dipl_sup))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-229-1.png" width="672" /></p>
<p>Dans les deux cas, on peut faire varier le nombre de zones, et donc la finesse du “quadrillage”, en utilisant l’argument <code>bins</code> (dont la valeur par défaut est 30).</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="08-ggplot2.html#cb210-1"></a><span class="kw">ggplot</span>(rp2018) <span class="op">+</span></span>
<span id="cb210-2"><a href="08-ggplot2.html#cb210-2"></a><span class="st">  </span><span class="kw">geom_bin2d</span>(</span>
<span id="cb210-3"><a href="08-ggplot2.html#cb210-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> cadres, <span class="dt">y =</span> dipl_sup),</span>
<span id="cb210-4"><a href="08-ggplot2.html#cb210-4"></a>    <span class="dt">bins =</span> <span class="dv">50</span></span>
<span id="cb210-5"><a href="08-ggplot2.html#cb210-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-230-1.png" width="672" /></p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="08-ggplot2.html#cb211-1"></a><span class="kw">ggplot</span>(rp2018) <span class="op">+</span></span>
<span id="cb211-2"><a href="08-ggplot2.html#cb211-2"></a><span class="st">  </span><span class="kw">geom_hex</span>(</span>
<span id="cb211-3"><a href="08-ggplot2.html#cb211-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> cadres, <span class="dt">y =</span> dipl_sup),</span>
<span id="cb211-4"><a href="08-ggplot2.html#cb211-4"></a>    <span class="dt">bins =</span> <span class="dv">70</span></span>
<span id="cb211-5"><a href="08-ggplot2.html#cb211-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-231-1.png" width="672" /></p>
</div>
</div>
<div id="mappages" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.4</span> Mappages<a href="08-ggplot2.html#mappages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Un <em>mappage</em>, dans <code>ggplot2</code>, est une mise en relation entre un <strong>attribut graphique</strong> du <code>geom</code> (position, couleur, taille…) et une <strong>variable</strong> du tableau de données.</p>
<p>Ces mappages sont passés aux différents <code>geom</code> via la fonction <code>aes()</code> (abbréviation d’<em>aesthetic</em>).</p>
<div id="exemples-de-mappages" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.4.1</span> Exemples de mappages<a href="08-ggplot2.html#exemples-de-mappages" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>On a déjà vu les mappages <code>x</code> et <code>y</code> pour un nuage de points. Ceux-ci signifient que la position d’un point donné horizontalement (<code>x</code>) et verticalement (<code>y</code>) dépend de la valeur des variables passées comme arguments <code>x</code> et <code>y</code> dans <code>aes()</code>.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="08-ggplot2.html#cb212-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb212-2"><a href="08-ggplot2.html#cb212-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb212-3"><a href="08-ggplot2.html#cb212-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)</span>
<span id="cb212-4"><a href="08-ggplot2.html#cb212-4"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-232-1.png" width="672" /></p>
<p>Mais on peut ajouter d’autres mappages. Par exemple, <code>color</code> permet de faire varier la couleur des points automatiquement en fonction des valeurs d’une troisième variable. Ainsi, on peut vouloir colorer les points selon le département de la commune correspondante.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="08-ggplot2.html#cb213-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb213-2"><a href="08-ggplot2.html#cb213-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb213-3"><a href="08-ggplot2.html#cb213-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> departement)</span>
<span id="cb213-4"><a href="08-ggplot2.html#cb213-4"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-233-1.png" width="672" /></p>
<p>On peut aussi faire varier la taille des points avec <code>size</code>. Ici, la taille dépend de la population totale de la commune :</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="08-ggplot2.html#cb214-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb214-2"><a href="08-ggplot2.html#cb214-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb214-3"><a href="08-ggplot2.html#cb214-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> departement, <span class="dt">size =</span> pop_tot)</span>
<span id="cb214-4"><a href="08-ggplot2.html#cb214-4"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-234-1.png" width="672" /></p>
<p>On peut même associer la transparence des points à une variable avec <code>alpha</code> :</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="08-ggplot2.html#cb215-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb215-2"><a href="08-ggplot2.html#cb215-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb215-3"><a href="08-ggplot2.html#cb215-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> departement, <span class="dt">size =</span> pop_tot, <span class="dt">alpha =</span> maison)</span>
<span id="cb215-4"><a href="08-ggplot2.html#cb215-4"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-235-1.png" width="672" /></p>
<p>Chaque <code>geom</code> possède sa propre liste de mappages.</p>
</div>
<div id="aes-or-not-aes" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.4.2</span> <code>aes()</code> or not <code>aes()</code> ?<a href="08-ggplot2.html#aes-or-not-aes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Comme on l’a déjà vu, parfois on souhaite changer un attribut sans le relier à une variable : c’est le cas par exemple si on veut représenter tous les points en rouge. Dans ce cas on utilise toujours l’attribut <code>color</code>, mais comme il ne s’agit pas d’un mappage, on le définit <strong>à l’extérieur</strong> de la fonction <code>aes()</code>.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="08-ggplot2.html#cb216-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb216-2"><a href="08-ggplot2.html#cb216-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb216-3"><a href="08-ggplot2.html#cb216-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres),</span>
<span id="cb216-4"><a href="08-ggplot2.html#cb216-4"></a>    <span class="dt">color =</span> <span class="st">&quot;red&quot;</span></span>
<span id="cb216-5"><a href="08-ggplot2.html#cb216-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-236-1.png" width="672" /></p>
<p>Par contre, si on veut faire varier la couleur en fonction des valeurs prises par une variable, on réalise un mappage, et on doit donc placer l’attribut <code>color</code> <strong>à l’intérieur</strong> de <code>aes()</code>.</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="08-ggplot2.html#cb217-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb217-2"><a href="08-ggplot2.html#cb217-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb217-3"><a href="08-ggplot2.html#cb217-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> departement)</span>
<span id="cb217-4"><a href="08-ggplot2.html#cb217-4"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-237-1.png" width="672" /></p>
<p>On peut mélanger attributs liés à une variable (mappage, donc dans <code>aes()</code>) et attributs constants (donc à l’extérieur). Dans l’exemple suivant, la taille varie en fonction de la variable <code>pop_tot</code>, mais la couleur est constante pour tous les points.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="08-ggplot2.html#cb218-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb218-2"><a href="08-ggplot2.html#cb218-2"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb218-3"><a href="08-ggplot2.html#cb218-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">size =</span> pop_tot),</span>
<span id="cb218-4"><a href="08-ggplot2.html#cb218-4"></a>    <span class="dt">color =</span> <span class="st">&quot;royalblue&quot;</span></span>
<span id="cb218-5"><a href="08-ggplot2.html#cb218-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-238-1.png" width="672" /></p>
<div class="rmdimportant">
<p>
<strong>La règle est donc simple mais très importante :</strong>
</p>
<p>
Si on établit un lien entre les valeurs d’une variable et un attribut graphique, on définit un mappage, et on le déclare dans <code>aes()</code>. Sinon, on modifie l’attribut de la même manière pour tous les points, et on le définit en-dehors de la fonction <code>aes()</code>.
</p>
</div>
</div>
<div id="geom_bar-et-position" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.4.3</span> <code>geom_bar</code> et <code>position</code><a href="08-ggplot2.html#geom_bar-et-position" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un des mappages possibles de <code>geom_bar</code> est l’attribut <code>fill</code>, qui permet de tracer des barres de couleur différentes selon les modalités d’une deuxième variable :</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="08-ggplot2.html#cb219-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">fill =</span> pop_cl))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-240-1.png" width="672" /></p>
<p>L’attribut <code>position</code> de <code>geom_bar</code> permet d’indiquer comment les différentes barres doivent être positionnées. Par défaut l’argument vaut <code>position = "stack"</code> et elles sont donc “empilées”. Mais on peut préciser <code>position = "dodge"</code> pour les mettre côte à côte.</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="08-ggplot2.html#cb220-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb220-2"><a href="08-ggplot2.html#cb220-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(</span>
<span id="cb220-3"><a href="08-ggplot2.html#cb220-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">fill =</span> pop_cl),</span>
<span id="cb220-4"><a href="08-ggplot2.html#cb220-4"></a>    <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span></span>
<span id="cb220-5"><a href="08-ggplot2.html#cb220-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-241-1.png" width="672" /></p>
<p>Ou encore <code>position = "fill"</code> pour représenter non plus des effectifs, mais des proportions.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="08-ggplot2.html#cb221-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb221-2"><a href="08-ggplot2.html#cb221-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(</span>
<span id="cb221-3"><a href="08-ggplot2.html#cb221-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">fill =</span> pop_cl),</span>
<span id="cb221-4"><a href="08-ggplot2.html#cb221-4"></a>    <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span></span>
<span id="cb221-5"><a href="08-ggplot2.html#cb221-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-242-1.png" width="672" /></p>
<p>Là encore, on peut utiliser <code>coord_flip()</code> si on souhaite une visualisation avec des barres horizontales.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="08-ggplot2.html#cb222-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb222-2"><a href="08-ggplot2.html#cb222-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(</span>
<span id="cb222-3"><a href="08-ggplot2.html#cb222-3"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">fill =</span> pop_cl),</span>
<span id="cb222-4"><a href="08-ggplot2.html#cb222-4"></a>    <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span></span>
<span id="cb222-5"><a href="08-ggplot2.html#cb222-5"></a>  ) <span class="op">+</span></span>
<span id="cb222-6"><a href="08-ggplot2.html#cb222-6"></a><span class="st">  </span><span class="kw">coord_flip</span>()</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-243-1.png" width="672" /></p>
</div>
</div>
<div id="représentation-de-plusieurs-geom" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.5</span> Représentation de plusieurs <code>geom</code><a href="08-ggplot2.html#représentation-de-plusieurs-geom" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>On peut représenter plusieurs <code>geom</code> simultanément sur un même graphique, il suffit de les ajouter à tour de rôle avec l’opérateur <code>+</code>.</p>
<p>Par exemple, on peut superposer la position des points au-dessus d’un boxplot. On va pour cela ajouter un <code>geom_point</code> après avoir ajouté notre <code>geom_boxplot</code>.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="08-ggplot2.html#cb223-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb223-2"><a href="08-ggplot2.html#cb223-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison)) <span class="op">+</span></span>
<span id="cb223-3"><a href="08-ggplot2.html#cb223-3"></a><span class="st">  </span><span class="kw">geom_point</span>(</span>
<span id="cb223-4"><a href="08-ggplot2.html#cb223-4"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison),</span>
<span id="cb223-5"><a href="08-ggplot2.html#cb223-5"></a>    <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span></span>
<span id="cb223-6"><a href="08-ggplot2.html#cb223-6"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-244-1.png" width="672" /></p>
<div class="rmdnote">
<p>
Quand une commande <code>ggplot2</code> devient longue, il peut être plus lisible de la répartir sur plusieurs lignes. Dans ce cas, il faut penser à placer l’opérateur <code>+</code> en fin de ligne, afin que R comprenne que la commande n’est pas complète et qu’il prenne en compte la suite.
</p>
</div>
<p>Pour un résultat un peu plus lisible, on peut remplacer <code>geom_point</code> par <code>geom_jitter</code>, qui disperse les points horizontalement et facilite leur visualisation.</p>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="08-ggplot2.html#cb224-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb224-2"><a href="08-ggplot2.html#cb224-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison)) <span class="op">+</span></span>
<span id="cb224-3"><a href="08-ggplot2.html#cb224-3"></a><span class="st">  </span><span class="kw">geom_jitter</span>(</span>
<span id="cb224-4"><a href="08-ggplot2.html#cb224-4"></a>    <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison),</span>
<span id="cb224-5"><a href="08-ggplot2.html#cb224-5"></a>    <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span></span>
<span id="cb224-6"><a href="08-ggplot2.html#cb224-6"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-246-1.png" width="672" /></p>
<p>Pour simplifier un peu le code, plutôt que de déclarer les mappages dans chaque <code>geom</code>, on peut les déclarer dans l’appel à <code>ggplot()</code>. Ils seront automatiquement “hérités” par les <code>geom</code> ajoutés (sauf s’ils redéfinissent les mêmes mappages).</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="08-ggplot2.html#cb225-1"></a><span class="kw">ggplot</span>(rp, <span class="kw">aes</span>(<span class="dt">x =</span> departement, <span class="dt">y =</span> maison)) <span class="op">+</span></span>
<span id="cb225-2"><a href="08-ggplot2.html#cb225-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>() <span class="op">+</span></span>
<span id="cb225-3"><a href="08-ggplot2.html#cb225-3"></a><span class="st">  </span><span class="kw">geom_jitter</span>(<span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-247-1.png" width="672" /></p>
<p>Autre exemple, on peut vouloir ajouter à un nuage de points une ligne de régression linéaire à l’aide de <code>geom_smooth</code> :</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="08-ggplot2.html#cb226-1"></a><span class="kw">ggplot</span>(rp, <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)) <span class="op">+</span></span>
<span id="cb226-2"><a href="08-ggplot2.html#cb226-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb226-3"><a href="08-ggplot2.html#cb226-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</span>
<span id="cb226-4"><a href="08-ggplot2.html#cb226-4"></a><span class="co">#&gt; `geom_smooth()` using formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-248-1.png" width="672" /></p>
<p>Et on peut même superposer une troisième visualisation de la répartition des points dans l’espace avec <code>geom_density2d</code> :</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="08-ggplot2.html#cb227-1"></a><span class="kw">ggplot</span>(rp, <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)) <span class="op">+</span></span>
<span id="cb227-2"><a href="08-ggplot2.html#cb227-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb227-3"><a href="08-ggplot2.html#cb227-3"></a><span class="st">  </span><span class="kw">geom_density2d</span>(<span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></span>
<span id="cb227-4"><a href="08-ggplot2.html#cb227-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</span>
<span id="cb227-5"><a href="08-ggplot2.html#cb227-5"></a><span class="co">#&gt; `geom_smooth()` using formula &#39;y ~ x&#39;</span></span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-249-1.png" width="672" /></p>
<div id="plusieurs-sources-de-données" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.5.1</span> Plusieurs sources de données<a href="08-ggplot2.html#plusieurs-sources-de-données" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>On peut associer à différents <code>geom</code> des sources de données différentes. Supposons qu’on souhaite afficher sur un nuage de points les noms des communes de plus de 50000 habitants. On commencer par créer un tableau de données contenant uniquement ces communes à l’aide de la fonction <code>filter</code>.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="08-ggplot2.html#cb228-1"></a>com50 &lt;-<span class="st"> </span><span class="kw">filter</span>(rp, pop_tot <span class="op">&gt;=</span><span class="st"> </span><span class="dv">50000</span>)</span></code></pre></div>
<p>On fait ensuite le nuage de points comme précédemment :</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="08-ggplot2.html#cb229-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp, <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)) <span class="op">+</span></span>
<span id="cb229-2"><a href="08-ggplot2.html#cb229-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-251-1.png" width="672" /></p>
<p>Pour superposer les noms de communes de plus de 50 000 habitants, on peut ajouter un <code>geom_text</code>, mais en spécifiant que les données proviennent du nouveau tableau <code>com50</code> et non de notre tableau initial <code>rp</code>. On le fait en passant un argument <code>data</code> spécifique à <code>geom_text</code> :</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="08-ggplot2.html#cb230-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp, <span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)) <span class="op">+</span></span>
<span id="cb230-2"><a href="08-ggplot2.html#cb230-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.2</span>) <span class="op">+</span></span>
<span id="cb230-3"><a href="08-ggplot2.html#cb230-3"></a><span class="st">  </span><span class="kw">geom_text</span>(</span>
<span id="cb230-4"><a href="08-ggplot2.html#cb230-4"></a>    <span class="dt">data =</span> com50, <span class="kw">aes</span>(<span class="dt">label =</span> commune),</span>
<span id="cb230-5"><a href="08-ggplot2.html#cb230-5"></a>    <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">size =</span> <span class="dv">3</span></span>
<span id="cb230-6"><a href="08-ggplot2.html#cb230-6"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-252-1.png" width="672" /></p>
<p>Ainsi, on obtient un graphique avec deux <code>geom</code> superposés, mais dont les données proviennent de deux tableaux différents.</p>
</div>
</div>
<div id="faceting" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.6</span> Faceting<a href="08-ggplot2.html#faceting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Le <em>faceting</em> permet d’effectuer plusieurs fois le même graphique selon les valeurs d’une ou plusieurs variables qualitatives.</p>
<p>Par exemple, on a vu qu’on peut représenter l’histogramme du pourcentage de cadres dans nos communes avec le code suivant :</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="08-ggplot2.html#cb231-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span></span>
<span id="cb231-2"><a href="08-ggplot2.html#cb231-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-253-1.png" width="672" /></p>
<p>On souhaite comparer cette distribution de la part des cadres selon le département, et donc faire un histogramme pour chacun de ces départements. C’est ce que permettent les fonctions <code>facet_wrap</code> et <code>facet_grid</code>.</p>
<p><code>facet_wrap</code> prend un paramètre de la forme <code>vars(variable)</code>, où <code>variable</code> est le nom de la variable en fonction de laquelle on souhaite faire les différents graphiques. Ceux-ci sont alors affichés les uns à côté des autres et répartis automatiquement dans la page.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="08-ggplot2.html#cb232-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span></span>
<span id="cb232-2"><a href="08-ggplot2.html#cb232-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres)) <span class="op">+</span></span>
<span id="cb232-3"><a href="08-ggplot2.html#cb232-3"></a><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="kw">vars</span>(departement))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-254-1.png" width="672" /></p>
<p>Pour <code>facet_grid</code>, les graphiques sont disposés selon une grille. La fonction prend alors deux arguments, <code>rows</code> et <code>cols</code>, auxquels on passe les variables à afficher en ligne ou en colonne via la fonction <code>vars()</code>.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="08-ggplot2.html#cb233-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span></span>
<span id="cb233-2"><a href="08-ggplot2.html#cb233-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres)) <span class="op">+</span></span>
<span id="cb233-3"><a href="08-ggplot2.html#cb233-3"></a><span class="st">  </span><span class="kw">facet_grid</span>(<span class="dt">rows =</span> <span class="kw">vars</span>(departement))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-255-1.png" width="672" /></p>
<p>Un des intérêts du faceting dans <code>ggplot2</code> est que tous les graphiques générés ont les mêmes échelles, ce qui permet une comparaison directe.</p>
<p>Enfin, notons qu’on peut même faire du faceting sur plusieurs variables à la fois. On peut par exemple faire des histogrammes de la répartition de la part des cadres pour chaque croisement des variables <code>departement</code> et <code>pop_cl</code> :</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="08-ggplot2.html#cb234-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span></span>
<span id="cb234-2"><a href="08-ggplot2.html#cb234-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres)) <span class="op">+</span></span>
<span id="cb234-3"><a href="08-ggplot2.html#cb234-3"></a><span class="st">  </span><span class="kw">facet_grid</span>(</span>
<span id="cb234-4"><a href="08-ggplot2.html#cb234-4"></a>    <span class="dt">rows =</span> <span class="kw">vars</span>(departement), <span class="dt">cols =</span> <span class="kw">vars</span>(pop_cl)</span>
<span id="cb234-5"><a href="08-ggplot2.html#cb234-5"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-256-1.png" width="672" /></p>
<p>L’histogramme en haut à gauche représente la répartition du pourcentage de cadres parmi les communes de 2000 à 3000 habitants dans les Bouches-du-Rhône, etc.</p>
</div>
<div id="scales" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.7</span> Scales<a href="08-ggplot2.html#scales" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>On a vu qu’avec <code>ggplot2</code> on définit des mappages entre des attributs graphiques (position, taille, couleur, etc.) et des variables d’un tableau de données. Ces mappages sont définis, pour chaque <code>geom</code>, via la fonction <code>aes()</code>.</p>
<p>Les <em>scales</em> dans <code>ggplot2</code> permettent de modifier la manière dont un attribut graphique va être relié aux valeurs d’une variable, et dont la légende correspondante va être affichée. Par exemple, pour l’attribut <code>color</code>, on pourra définir la palette de couleur utilisée. Pour <code>size</code>, les tailles minimales et maximales, etc.</p>
<p>Pour modifier une <em>scale</em> existante, on ajoute un nouvel élément à notre objet <code>ggplot2</code> avec l’opérateur <code>+</code>. Cet élément prend la forme <code>scale_&lt;attribut&gt;_&lt;type&gt;</code>.</p>
<p>Voyons tout de suite quelques exemples.</p>
<div id="scale_size" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.7.1</span> <code>scale_size</code><a href="08-ggplot2.html#scale_size" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Si on souhaite modifier les tailles minimales et maximales des objets quand on a effectué un mappage de type <code>size</code>, on peut utiliser la fonction <code>scale_size</code> et son argument <code>range</code>.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="08-ggplot2.html#cb235-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb235-2"><a href="08-ggplot2.html#cb235-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">size =</span> pop_tot)) <span class="op">+</span></span>
<span id="cb235-3"><a href="08-ggplot2.html#cb235-3"></a><span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">20</span>))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-257-1.png" width="672" /></p>
<p>À comparer par exemple à :</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="08-ggplot2.html#cb236-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb236-2"><a href="08-ggplot2.html#cb236-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">size =</span> pop_tot)) <span class="op">+</span></span>
<span id="cb236-3"><a href="08-ggplot2.html#cb236-3"></a><span class="st">  </span><span class="kw">scale_size</span>(<span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">8</span>))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-258-1.png" width="672" /></p>
<p>On peut ajouter d’autres paramètres à <code>scale_size</code>. Le premier argument est toujours le titre donné à la légende.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="08-ggplot2.html#cb237-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb237-2"><a href="08-ggplot2.html#cb237-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">size =</span> pop_tot)) <span class="op">+</span></span>
<span id="cb237-3"><a href="08-ggplot2.html#cb237-3"></a><span class="st">  </span><span class="kw">scale_size</span>(</span>
<span id="cb237-4"><a href="08-ggplot2.html#cb237-4"></a>    <span class="st">&quot;Population&quot;</span>,</span>
<span id="cb237-5"><a href="08-ggplot2.html#cb237-5"></a>    <span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">15</span>)</span>
<span id="cb237-6"><a href="08-ggplot2.html#cb237-6"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-259-1.png" width="672" /></p>
<p>On peut aussi définir manuellement les éléments de légende représentés.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="08-ggplot2.html#cb238-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb238-2"><a href="08-ggplot2.html#cb238-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">size =</span> pop_tot)) <span class="op">+</span></span>
<span id="cb238-3"><a href="08-ggplot2.html#cb238-3"></a><span class="st">  </span><span class="kw">scale_size</span>(</span>
<span id="cb238-4"><a href="08-ggplot2.html#cb238-4"></a>    <span class="st">&quot;Population&quot;</span>,</span>
<span id="cb238-5"><a href="08-ggplot2.html#cb238-5"></a>    <span class="dt">range =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">15</span>),</span>
<span id="cb238-6"><a href="08-ggplot2.html#cb238-6"></a>    <span class="dt">breaks =</span> <span class="kw">c</span>(<span class="dv">1000</span>, <span class="dv">5000</span>, <span class="dv">10000</span>, <span class="dv">50000</span>)</span>
<span id="cb238-7"><a href="08-ggplot2.html#cb238-7"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-260-1.png" width="672" /></p>
</div>
<div id="scale_x-scale_y" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.7.2</span> <code>scale_x</code>, <code>scale_y</code><a href="08-ggplot2.html#scale_x-scale_y" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Les <em>scales</em> <code>scale_x_&lt;type&gt;</code> et <code>scale_y_&lt;type&gt;</code> modifient les axes <code>x</code> et <code>y</code> du graphique.</p>
<p><code>scale_x_continuous</code> et <code>scale_y_continuous</code> s’appliquent lorsque la variable <code>x</code> ou <code>y</code> est numérique (quantitative).</p>
<p>C’est le cas de notre nuage de points croisant part de cadres et part de diplômés du supérieur.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="08-ggplot2.html#cb239-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb239-2"><a href="08-ggplot2.html#cb239-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-261-1.png" width="672" /></p>
<p>Comme on représente des pourcentages, on peut vouloir forcer les axes <code>x</code> et <code>y</code> à s’étendre des valeurs 0 à 100. On peut le faire en ajoutant un élément <code>scale_x_continuous</code> et un élément <code>scale_y_continuous</code>, et en utilisant leur argument <code>limits</code>.</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="08-ggplot2.html#cb240-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb240-2"><a href="08-ggplot2.html#cb240-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)) <span class="op">+</span></span>
<span id="cb240-3"><a href="08-ggplot2.html#cb240-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb240-4"><a href="08-ggplot2.html#cb240-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">100</span>))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-262-1.png" width="672" /></p>
<p>Là aussi, on peut modifier les étiquettes des axes en indiquant une chaîne de caractères en premier argument.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="08-ggplot2.html#cb241-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb241-2"><a href="08-ggplot2.html#cb241-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)) <span class="op">+</span></span>
<span id="cb241-3"><a href="08-ggplot2.html#cb241-3"></a><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="st">&quot;Part des diplômés du supérieur (%)&quot;</span>, <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">100</span>)) <span class="op">+</span></span>
<span id="cb241-4"><a href="08-ggplot2.html#cb241-4"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="st">&quot;Part des cadres (%)&quot;</span>, <span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">100</span>))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-263-1.png" width="672" /></p>
<p>On peut utiliser <code>scale_x_log10</code> et <code>scale_y_log10</code> pour passer un axe à une échelle logarithmique.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="08-ggplot2.html#cb242-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb242-2"><a href="08-ggplot2.html#cb242-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres)) <span class="op">+</span></span>
<span id="cb242-3"><a href="08-ggplot2.html#cb242-3"></a><span class="st">  </span><span class="kw">scale_x_log10</span>(<span class="st">&quot;Diplômés du supérieur&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-264-1.png" width="672" /></p>
<p><code>scale_x_discrete</code> et <code>scale_y_discrete</code> s’appliquent lorsque l’axe correspond à une variable discrète (qualitative). C’est le cas par exemple de l’axe des <code>x</code> dans un diagramme en barres.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="08-ggplot2.html#cb243-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb243-2"><a href="08-ggplot2.html#cb243-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement)) <span class="op">+</span></span>
<span id="cb243-3"><a href="08-ggplot2.html#cb243-3"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="st">&quot;Département&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-265-1.png" width="672" /></p>
<p>L’argument <code>limits</code> de <code>scale_x_discrete</code> permet d’indiquer quelles valeurs sont affichées et dans quel ordre.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="08-ggplot2.html#cb244-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb244-2"><a href="08-ggplot2.html#cb244-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> departement)) <span class="op">+</span></span>
<span id="cb244-3"><a href="08-ggplot2.html#cb244-3"></a><span class="st">  </span><span class="kw">scale_x_discrete</span>(<span class="st">&quot;Département&quot;</span>, <span class="dt">limits =</span> <span class="kw">c</span>(<span class="st">&quot;Oise&quot;</span>, <span class="st">&quot;Lozère&quot;</span>, <span class="st">&quot;Rhône&quot;</span>))</span>
<span id="cb244-4"><a href="08-ggplot2.html#cb244-4"></a><span class="co">#&gt; Warning: Removed 150 rows containing non-finite values (stat_count).</span></span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-266-1.png" width="672" /></p>
</div>
<div id="scalecolor" class="section level3 hasAnchor">
<h3><span class="header-section-number">8.7.3</span> <code>scale_color</code>, <code>scale_fill</code><a href="08-ggplot2.html#scalecolor" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Ces <em>scales</em> permettent, entre autre, de modifier les palettes de couleur utilisées pour le dessin (<code>color</code>) ou le remplissage (<code>fill</code>) des éléments graphiques. Dans ce qui suit, pour chaque fonction <code>scale_color</code> présentée il existe une fonction <code>scale_fill</code> équivalente et avec en général les mêmes arguments.</p>
<div id="variables-quantitatives" class="section level4 hasAnchor">
<h4><span class="header-section-number">8.7.3.1</span> Variables quantitatives<a href="08-ggplot2.html#variables-quantitatives" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Le graphique suivant colore les points selon la valeur d’une variable numérique quantitative (ici la part de chômeurs) :</p>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="08-ggplot2.html#cb245-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb245-2"><a href="08-ggplot2.html#cb245-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> chom))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-267-1.png" width="672" /></p>
<p>On peut modifier les couleurs utilisées avec les arguments <code>low</code> et <code>high</code> de la fonction <code>scale_color_gradient</code>. Ici on souhaite que la valeur la plus faible soit blanche, et la plus élevée rouge :</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="08-ggplot2.html#cb246-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb246-2"><a href="08-ggplot2.html#cb246-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> chom)) <span class="op">+</span></span>
<span id="cb246-3"><a href="08-ggplot2.html#cb246-3"></a><span class="st">  </span><span class="kw">scale_color_gradient</span>(<span class="st">&quot;Taux de chômage&quot;</span>, <span class="dt">low =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">high =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-268-1.png" width="672" /></p>
<p>On peut aussi utiliser des palettes prédéfinies. L’une des plus populaires est la palette <em>viridis</em>, accessible en utilisant <code>scale_color_viridis_c</code> :</p>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="08-ggplot2.html#cb247-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb247-2"><a href="08-ggplot2.html#cb247-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> chom)) <span class="op">+</span></span>
<span id="cb247-3"><a href="08-ggplot2.html#cb247-3"></a><span class="st">  </span><span class="kw">scale_color_viridis_c</span>(<span class="st">&quot;Taux de chômage&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-269-1.png" width="672" /></p>
<p><em>viridis</em> propose également trois autres palettes, <em>magma</em>, <em>inferno</em> et <em>plasma</em>, accessibles via l’argument <code>option</code> :</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="08-ggplot2.html#cb248-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb248-2"><a href="08-ggplot2.html#cb248-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> chom)) <span class="op">+</span></span>
<span id="cb248-3"><a href="08-ggplot2.html#cb248-3"></a><span class="st">  </span><span class="kw">scale_color_viridis_c</span>(<span class="st">&quot;Taux de chômage&quot;</span>, <span class="dt">option =</span> <span class="st">&quot;plasma&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-270-1.png" width="672" /></p>
<p>On peut aussi utiliser <code>scale_color_distiller</code>, qui transforme une des palettes pour variable qualitative de <code>scale_color_brewer</code> en palette continue pour variable numérique :</p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="08-ggplot2.html#cb249-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb249-2"><a href="08-ggplot2.html#cb249-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> chom)) <span class="op">+</span></span>
<span id="cb249-3"><a href="08-ggplot2.html#cb249-3"></a><span class="st">  </span><span class="kw">scale_color_distiller</span>(<span class="st">&quot;Taux de chômage&quot;</span>, <span class="dt">palette =</span> <span class="st">&quot;Spectral&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-271-1.png" width="672" /></p>
<p>La liste des palettes de <code>scale_color_brewer</code> est indiquée en fin de section suivante.</p>
</div>
<div id="variables-qualitatives" class="section level4 hasAnchor">
<h4><span class="header-section-number">8.7.3.2</span> Variables qualitatives<a href="08-ggplot2.html#variables-qualitatives" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Si on a fait un mappage avec une variable discrète (qualitative), comme ici avec le département :</p>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="08-ggplot2.html#cb250-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb250-2"><a href="08-ggplot2.html#cb250-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> departement))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-272-1.png" width="672" /></p>
<p>Une première possibilité est de modifier la palette manuellement avec <code>scale_color_manual</code> et son argument <code>values</code> :</p>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="08-ggplot2.html#cb251-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb251-2"><a href="08-ggplot2.html#cb251-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> departement)) <span class="op">+</span></span>
<span id="cb251-3"><a href="08-ggplot2.html#cb251-3"></a><span class="st">  </span><span class="kw">scale_color_manual</span>(</span>
<span id="cb251-4"><a href="08-ggplot2.html#cb251-4"></a>    <span class="st">&quot;Département&quot;</span>,</span>
<span id="cb251-5"><a href="08-ggplot2.html#cb251-5"></a>    <span class="dt">values =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;#FFDD45&quot;</span>, <span class="kw">rgb</span>(<span class="fl">0.1</span>,<span class="fl">0.2</span>,<span class="fl">0.6</span>), <span class="st">&quot;darkgreen&quot;</span>, <span class="st">&quot;grey80&quot;</span>)</span>
<span id="cb251-6"><a href="08-ggplot2.html#cb251-6"></a>  )</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-273-1.png" width="672" /></p>
<div class="rmdnote">
<p>
L’exemple précédent montre plusieurs manières de définir manuellement des couleurs dans R :
</p>
<ul>
<li>
Par code hexadécimal : <code>“#FFDD45”</code>
</li>
<li>
En utilisant la fonction <code>rgb</code> et en spécifiant les composantes rouge, vert, bleu par des nombres entre 0 et 1 (et optionnellement une quatrième composante d’opacité, toujours entre 0 et 1) : <code>rgb(0.1,0.2,0.6)</code>
</li>
<li>
En donnant un nom de couleur : <code>“red”</code>, <code>“darkgreen”</code>
</li>
</ul>
<p>
La liste complète des noms de couleurs connus par R peut être obtenu avec la fonction <code>colors()</code>. Vous pouvez aussi retrouver en ligne <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">la liste des couleurs et leur nom</a> (PDF).
</p>
</div>
<p>Il est cependant souvent plus pertinent d’utiliser des palettes prédéfinies. Celles du site <a href="http://colorbrewer2.org/">Colorbrewer</a>, initialement prévues pour la cartographie, permettent une bonne lisibilité, et peuvent être adaptées pour certains types de daltonisme.</p>
<p>Ces palettes s’utilisent via la fonction <code>scale_color_brewer</code>, en passant le nom de la palette via l’argument <code>palette</code>. Par exemple, si on veut utiliser la palette <code>Set1</code> :</p>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="08-ggplot2.html#cb252-1"></a><span class="kw">ggplot</span>(rp) <span class="op">+</span></span>
<span id="cb252-2"><a href="08-ggplot2.html#cb252-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_sup, <span class="dt">y =</span> cadres, <span class="dt">color =</span> departement)) <span class="op">+</span></span>
<span id="cb252-3"><a href="08-ggplot2.html#cb252-3"></a><span class="st">  </span><span class="kw">scale_color_brewer</span>(<span class="st">&quot;Département&quot;</span>, <span class="dt">palette =</span> <span class="st">&quot;Set1&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-275-1.png" width="672" /></p>
<p>Le graphique suivant, accessible via la fonction <code>display.brewer.all()</code>, montre la liste de toutes les palettes disponibles via <code>scale_color_brewer</code>. Elles sont réparties en trois familles : les palettes séquentielles (pour une variable quantitative), les palettes qualitatives, et les palettes divergentes (typiquement pour une variable quantitative avec une valeur de référence, souvent 0, et deux palettes continues distinctes pour les valeurs inférieures et pour les valeurs supérieures).</p>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="08-ggplot2.html#cb253-1"></a>RColorBrewer<span class="op">::</span><span class="kw">display.brewer.all</span>()</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-277-1.png" width="384" /></p>
<p>Il existe d’autres méthodes pour définir les couleurs : pour plus d’informations on pourra se reporter à <a href="http://ggplot2.tidyverse.org/articles/ggplot2-specs.html#colour">l’article de la documentation officielle sur ce sujet</a>.</p>
</div>
</div>
</div>
<div id="thèmes" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.8</span> Thèmes<a href="08-ggplot2.html#thèmes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Les thèmes permettent de contrôler l’affichage de tous les éléments du graphique qui ne sont pas reliés aux données : titres, grilles, fonds, etc.</p>
<p>Il existe un certain nombre de thèmes préexistants, par exemple le thème <code>theme_bw</code> :</p>
<div class="sourceCode" id="cb254"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb254-1"><a href="08-ggplot2.html#cb254-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span></span>
<span id="cb254-2"><a href="08-ggplot2.html#cb254-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres)) <span class="op">+</span></span>
<span id="cb254-3"><a href="08-ggplot2.html#cb254-3"></a><span class="st">  </span><span class="kw">theme_bw</span>()</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-278-1.png" width="672" /></p>
<p>Ou le thème <code>theme_minimal</code> :</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="08-ggplot2.html#cb255-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span></span>
<span id="cb255-2"><a href="08-ggplot2.html#cb255-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres)) <span class="op">+</span></span>
<span id="cb255-3"><a href="08-ggplot2.html#cb255-3"></a><span class="st">  </span><span class="kw">theme_minimal</span>()</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-279-1.png" width="672" /></p>
<p>On peut cependant modifier manuellement les différents éléments. Par exemple, les fonctions <code>ggtitle</code>, <code>xlab</code> et <code>ylab</code> permettent d’ajouter ou de modifier le titre du graphique, ainsi que les étiquettes des axes <code>x</code> et <code>y</code> :</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="08-ggplot2.html#cb256-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span></span>
<span id="cb256-2"><a href="08-ggplot2.html#cb256-2"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres)) <span class="op">+</span></span>
<span id="cb256-3"><a href="08-ggplot2.html#cb256-3"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Un bien bel histogramme&quot;</span>) <span class="op">+</span></span>
<span id="cb256-4"><a href="08-ggplot2.html#cb256-4"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Pourcentage de cadres&quot;</span>) <span class="op">+</span></span>
<span id="cb256-5"><a href="08-ggplot2.html#cb256-5"></a><span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Effectif&quot;</span>)</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-280-1.png" width="672" /></p>
<p>Les éléments personnalisables étant nombreux, un bon moyen de se familiariser avec tous les arguments est sans doute l’addin RStudio <code>ggThemeAssist</code>. Pour l’utiliser il suffit d’installer le package du même nom, de sélectionner dans son script RStudio le code correspondant à un graphique <code>ggplot2</code>, puis d’aller dans le menu <em>Addins</em> et choisir <em>ggplot Theme Assistant</em>. Une interface graphique s’affiche alors permettant de modifier les différents éléments. Si on clique sur <em>Done</em>, le code sélectionné dans le script est alors automatiquement mis à jour pour correspondre aux modifications effectuées.</p>
<p>Ce qui permet d’obtenir très facilement des résultats extrêmement moches :</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="08-ggplot2.html#cb257-1"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> rp) <span class="op">+</span><span class="st"> </span><span class="kw">geom_histogram</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres)) <span class="op">+</span></span>
<span id="cb257-2"><a href="08-ggplot2.html#cb257-2"></a><span class="st"> </span><span class="kw">theme</span>(<span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">colour =</span> <span class="st">&quot;dodgerblue&quot;</span>,</span>
<span id="cb257-3"><a href="08-ggplot2.html#cb257-3"></a>    <span class="dt">size =</span> <span class="fl">0.5</span>, <span class="dt">linetype =</span> <span class="st">&quot;dotdash&quot;</span>), <span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">family =</span> <span class="st">&quot;serif&quot;</span>,</span>
<span id="cb257-4"><a href="08-ggplot2.html#cb257-4"></a>    <span class="dt">size =</span> <span class="dv">18</span>, <span class="dt">face =</span> <span class="st">&quot;italic&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;white&quot;</span>),</span>
<span id="cb257-5"><a href="08-ggplot2.html#cb257-5"></a>    <span class="dt">axis.text =</span> <span class="kw">element_text</span>(<span class="dt">family =</span> <span class="st">&quot;serif&quot;</span>,</span>
<span id="cb257-6"><a href="08-ggplot2.html#cb257-6"></a>        <span class="dt">size =</span> <span class="dv">15</span>, <span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>), <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">family =</span> <span class="st">&quot;mono&quot;</span>),</span>
<span id="cb257-7"><a href="08-ggplot2.html#cb257-7"></a>    <span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">family =</span> <span class="st">&quot;serif&quot;</span>),</span>
<span id="cb257-8"><a href="08-ggplot2.html#cb257-8"></a>    <span class="dt">legend.text =</span> <span class="kw">element_text</span>(<span class="dt">family =</span> <span class="st">&quot;serif&quot;</span>),</span>
<span id="cb257-9"><a href="08-ggplot2.html#cb257-9"></a>    <span class="dt">legend.title =</span> <span class="kw">element_text</span>(<span class="dt">family =</span> <span class="st">&quot;serif&quot;</span>),</span>
<span id="cb257-10"><a href="08-ggplot2.html#cb257-10"></a>    <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;coral&quot;</span>),</span>
<span id="cb257-11"><a href="08-ggplot2.html#cb257-11"></a>    <span class="dt">plot.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;blueviolet&quot;</span>))</span></code></pre></div>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-281-1.png" width="672" /></p>
</div>
<div id="ladd-in-esquisse" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.9</span> L’add-in <code>esquisse</code><a href="08-ggplot2.html#ladd-in-esquisse" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>esquisse</code> est un package développé notamment par <a href="https://twitter.com/_pvictorr">Victor Perrier</a> de <a href="https://www.dreamrs.fr/">dreamRs</a> et qui fournit une interface graphique pour la construction de graphiques avec <code>ggplot2</code>.</p>
<p>Pour l’utiliser, il faut évidemment préalablement installer l’extension :</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="08-ggplot2.html#cb258-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;esquisse&quot;</span>)</span></code></pre></div>
<p>Pour lancer l’interface, ouvrez le menu <em>Addins</em> dans la barre d’outils de RStudio, et cliquez sur <em>‘ggplot2’ builder</em><a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>.</p>
<p><img src="resources/screenshots/esquisse_addin_menu.png" /></p>
<p>Une fenêtre s’ouvre : la première étape consiste à choisir un <em>data frame</em> de votre environnement, et éventuellement à ne sélectionner que certaines de ses variables.</p>
<p><img src="resources/screenshots/esquisse_choose_dataset.png" alt="Choix d’un data frame" />
Une fois le choix effectué, cliquez sur <em>Validate imported data</em>.</p>
<p>L’interface principale s’affiche alors. La liste des variables du <em>data frame</em> apparaît en haut, et vous pouvez les faire glisser dans les zones <em>X</em>, <em>Y</em>, <em>Fill</em>, <em>Color</em>, <em>Size</em> et <em>Facet</em> pour créer des mappages. Le graphique se met automatiquement à jour.</p>
<p><img src="resources/screenshots/esquisse_plot.png" /></p>
<p>Par défaut, <code>esquisse</code> sélectionne le type de graphique le plus approprié selon la nature de vos variables. Mais vous pouvez choisir un autre type de graphique à l’aide de l’icône en haut à gauche, parmi onze disponibles (dont <em>Auto</em>):</p>
<p><img src="resources/screenshots/esquisse_chart_type.png" />.</p>
<p>Enfin, une série de menus en bas de l’interface vous permet de personnaliser les titres, les annotations (<em>labels</em>), la présentation ou de filtrer des valeurs de vos variables.</p>
<p>Quand vous avez généré un graphique que vous souhaitez conserver, ouvrez le menu <em>Export &amp; code</em> :</p>
<p><img src="resources/screenshots/esquisse_export.png" /></p>
<p>Vous y trouverez le code R correspondant au graphique actuellement affiché. Vous pouvez dès lors le copier pour le coller dans votre script, ou cliquer sur <em>Insert code in script</em> pour l’insérer directement dans votre script à l’endroit où se trouve votre curseur.</p>
<p><code>esquisse</code> ne propose pas (encore) tous les <code>geom</code> ou toutes les possibilités de <code>ggplot2</code>, mais ça peut être un outil très utile et pratique pour une exploration rapide de données ou lorsqu’on est un peu perdu dans la syntaxe et les fonctions de l’extension.</p>
<p>Pour plus d’informations, vous pouvez vous référer à la <a href="https://github.com/dreamRs/esquisse">page du projet sur GitHub</a> (en anglais).</p>
</div>
<div id="ressources-1" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.10</span> Ressources<a href="08-ggplot2.html#ressources-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="http://ggplot2.tidyverse.org/index.html">La documentation officielle</a> (en anglais) de <code>ggplot2</code> est très complète et accessible en ligne.</p>
<p>Une “antisèche” (en anglais) résumant en deux pages l’ensemble des fonctions et arguments et disponible soit directement depuis RStudio (menu <em>Help &gt; Cheatsheets &gt; Data visualization with ggplot2</em>) ou <a href="https://www.rstudio.com/resources/cheatsheets/">en ligne</a>.</p>
<p>Les parties <a href="http://r4ds.had.co.nz/data-visualisation.html">Data visualisation</a> et <a href="http://r4ds.had.co.nz/graphics-for-communication.html">Graphics for communication</a> de l’ouvrage en ligne <em>R for data science</em>, de Hadley Wickham, sont une très bonne introduction à <code>ggplot2</code>.</p>
<p>Plusieurs ouvrages, toujours en anglais, abordent en détail l’utilisation de <code>ggplot2</code>, en particulier <a href="http://www.amazon.fr/ggplot2-Elegant-Graphics-Data-Analysis/dp/0387981403/">ggplot2: Elegant Graphics for Data Analysis</a>, toujours de Hadley Wickham, et le <a href="http://www.amazon.fr/R-Graphics-Cookbook-Winston-Chang/dp/1449316956">R Graphics Cookbook</a> de Winston Chang.</p>
<p>Le <a href="http://www.cookbook-r.com/Graphs/">site associé</a> à ce dernier ouvrage comporte aussi pas mal d’exemples et d’informations intéressantes.</p>
<p>Enfin, si <code>ggplot2</code> présente déjà un très grand nombre de fonctionnalités, il existe aussi un système d’extensions permettant d’ajouter des <code>geom</code>, des thèmes, etc. Le site <a href="https://exts.ggplot2.tidyverse.org/">ggplot2 extensions</a> est une très bonne ressource pour les parcourir et les découvrir, notamment grâce à sa <a href="https://exts.ggplot2.tidyverse.org/gallery/">galerie</a>.</p>
</div>
<div id="exercices-3" class="section level2 hasAnchor">
<h2><span class="header-section-number">8.11</span> Exercices<a href="08-ggplot2.html#exercices-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour les exercices qui suivent, on commence par charger les extensions nécessaires et les données du jeu de données <code>rp2018</code>. On crée alors un objet <code>rp69</code> comprenant uniquement les communes du Rhône et de la Loire.</p>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="08-ggplot2.html#cb259-1"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb259-2"><a href="08-ggplot2.html#cb259-2"></a><span class="kw">library</span>(questionr)</span>
<span id="cb259-3"><a href="08-ggplot2.html#cb259-3"></a><span class="kw">data</span>(rp2018)</span>
<span id="cb259-4"><a href="08-ggplot2.html#cb259-4"></a></span>
<span id="cb259-5"><a href="08-ggplot2.html#cb259-5"></a>rp69 &lt;-<span class="st"> </span><span class="kw">filter</span>(rp2018, departement <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Rhône&quot;</span>, <span class="st">&quot;Loire&quot;</span>))</span></code></pre></div>
<p><strong>Exercice 1</strong></p>
<p>Faire un nuage de points croisant le pourcentage de sans diplôme (<code>dipl_aucun</code>) et le pourcentage d’ouvriers (<code>ouvr</code>).</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-284-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb260"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb260-1"><a href="08-ggplot2.html#cb260-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_aucun, <span class="dt">y =</span> ouvr))</span></code></pre></div>
</div>

<p><strong>Exercice 2</strong></p>
<p>Faire un nuage de points croisant le pourcentage de sans diplôme et le pourcentage d’ouvriers, avec les points en rouge et de transparence 0.2.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-285-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="08-ggplot2.html#cb261-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb261-2"><a href="08-ggplot2.html#cb261-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_aucun, <span class="dt">y =</span> ouvr), <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">alpha =</span> <span class="fl">0.2</span>)</span></code></pre></div>
</div>

<p><strong>Exercice 3</strong></p>
<p>Représenter la répartition du pourcentage de propriétaires (variable <code>proprio</code>) selon la taille de la commune en classes (variable <code>pop_cl</code>) sous forme de boîtes à moustaches.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-286-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="08-ggplot2.html#cb262-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span><span class="st"> </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> pop_cl, <span class="dt">y =</span> proprio))</span></code></pre></div>
</div>

<p><strong>Exercice 4</strong></p>
<p>Représenter la répartition du nombre de communes selon la taille de la commune en classes sous la forme d’un diagramme en bâtons.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-287-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="08-ggplot2.html#cb263-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> pop_cl))</span></code></pre></div>
</div>

<p><strong>Exercice 5</strong></p>
<p>Faire un nuage de points croisant le pourcentage de sans diplôme et le pourcentage d’ouvriers. Faire varier la couleur selon le département (<code>departement</code>).</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-288-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="08-ggplot2.html#cb264-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb264-2"><a href="08-ggplot2.html#cb264-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_aucun, <span class="dt">y =</span> ouvr, <span class="dt">color =</span> departement))</span></code></pre></div>
</div>

<p>Sur le même graphique, faire varier la taille des points selon la population totale de la commune (<code>pop_tot</code>).</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-289-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb265"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb265-1"><a href="08-ggplot2.html#cb265-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb265-2"><a href="08-ggplot2.html#cb265-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_aucun, <span class="dt">y =</span> ouvr, <span class="dt">color =</span> departement, <span class="dt">size =</span> pop_tot))</span></code></pre></div>
</div>

<p>Enfin, toujours sur le même graphique, rendre les points transparents en plaçant leur opacité à 0.5.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-290-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="08-ggplot2.html#cb266-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb266-2"><a href="08-ggplot2.html#cb266-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> dipl_aucun, <span class="dt">y =</span> ouvr, <span class="dt">color =</span> departement, <span class="dt">size =</span> pop_tot), <span class="dt">alpha =</span> <span class="fl">0.5</span>)</span></code></pre></div>
</div>

<p><strong>Exercice 6</strong></p>
<p>Représenter la répartition du pourcentage de propriétaires (variable <code>proprio</code>) selon la taille de la commune en classes (variable <code>pop_cl</code>) sous forme de boîtes à moustaches. Faire varier la couleur de remplissage (attribut <code>fill</code>) selon le département.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-291-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="08-ggplot2.html#cb267-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb267-2"><a href="08-ggplot2.html#cb267-2"></a><span class="st">  </span><span class="kw">geom_boxplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> pop_cl, <span class="dt">y =</span> proprio, <span class="dt">fill =</span> departement))</span></code></pre></div>
</div>

<p><strong>Exercice 7</strong></p>
<p>Représenter la répartition du nombre de communes selon la taille de la commune en classes (variable <code>pop_cl</code>) sous forme de diagramme en bâtons empilés, avec une couleur différente selon le département.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-292-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="08-ggplot2.html#cb268-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> pop_cl, <span class="dt">fill =</span> departement))</span></code></pre></div>
</div>

<p>Faire varier la valeur du paramètre <code>position</code> pour afficher les barres les unes à côté des autres.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-293-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="08-ggplot2.html#cb269-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb269-2"><a href="08-ggplot2.html#cb269-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> pop_cl, <span class="dt">fill =</span> departement),</span>
<span id="cb269-3"><a href="08-ggplot2.html#cb269-3"></a>           <span class="dt">position =</span> <span class="st">&quot;dodge&quot;</span>)</span></code></pre></div>
</div>

<p>Changer à nouveau la valeur du paramètre <code>position</code> pour représenter les proportions de communes de chaque département pour chaque catégorie de taille.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-294-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb270"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb270-1"><a href="08-ggplot2.html#cb270-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb270-2"><a href="08-ggplot2.html#cb270-2"></a><span class="st">  </span><span class="kw">geom_bar</span>(<span class="kw">aes</span>(<span class="dt">x =</span> pop_cl, <span class="dt">fill =</span> departement),</span>
<span id="cb270-3"><a href="08-ggplot2.html#cb270-3"></a>           <span class="dt">position =</span> <span class="st">&quot;fill&quot;</span>)</span></code></pre></div>
</div>

<p><strong>Exercice 8</strong></p>
<p>Faire un nuage de points représentant en abscisse le pourcentage de cadres (<code>cadres</code>) et en ordonnée le pourcentage de diplômés du supérieur (<code>dipl_sup</code>). Représenter ce nuage par deux graphiques différents selon le département en utilisant <code>facet_grid</code>.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-295-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="08-ggplot2.html#cb271-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb271-2"><a href="08-ggplot2.html#cb271-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres, <span class="dt">y =</span> dipl_sup)) <span class="op">+</span></span>
<span id="cb271-3"><a href="08-ggplot2.html#cb271-3"></a><span class="st">  </span><span class="kw">facet_grid</span>(<span class="dt">cols =</span> <span class="kw">vars</span>(departement))</span></code></pre></div>
</div>

<p>Sur le même graphique, faire varier la taille des points selon la population totale de la communes (variable <code>pop_tot</code>) et rendre les points transparents.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-296-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb272"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb272-1"><a href="08-ggplot2.html#cb272-1"></a><span class="kw">ggplot</span>(rp69) <span class="op">+</span></span>
<span id="cb272-2"><a href="08-ggplot2.html#cb272-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> cadres, <span class="dt">y =</span> dipl_sup, <span class="dt">size =</span> pop_tot), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></span>
<span id="cb272-3"><a href="08-ggplot2.html#cb272-3"></a><span class="st">  </span><span class="kw">facet_grid</span>(<span class="dt">cols =</span> <span class="kw">vars</span>(departement))</span></code></pre></div>
</div>

<p><strong>Exercice 9</strong></p>
<p>Faire le nuage de points croisant pourcentage de chômeurs (<code>chom</code>) et pourcentage de sans diplôme. Y ajouter les noms des communes correspondant (variable <code>commune</code>), en rouge et en taille 2.5 :</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-297-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="08-ggplot2.html#cb273-1"></a><span class="kw">ggplot</span>(rp69, <span class="kw">aes</span>(<span class="dt">x =</span> chom, <span class="dt">y =</span> dipl_aucun)) <span class="op">+</span></span>
<span id="cb273-2"><a href="08-ggplot2.html#cb273-2"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></span>
<span id="cb273-3"><a href="08-ggplot2.html#cb273-3"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="kw">aes</span>(<span class="dt">label =</span> commune), <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>, <span class="dt">size =</span> <span class="fl">2.5</span>)</span></code></pre></div>
</div>

<p><strong>Exercice 10</strong></p>
<p>Dans le graphique précédent, n’afficher que le nom des communes ayant plus de 15% de chômage.</p>
<p><img src="introduction_au_tidyverse_files/figure-html/unnamed-chunk-298-1.png" width="672" /></p>

<div class="solution-exo">
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="08-ggplot2.html#cb274-1"></a>chom15 &lt;-<span class="st"> </span><span class="kw">filter</span>(rp69, chom <span class="op">&gt;</span><span class="st"> </span><span class="dv">15</span>)</span>
<span id="cb274-2"><a href="08-ggplot2.html#cb274-2"></a><span class="kw">ggplot</span>(rp69, <span class="kw">aes</span>(<span class="dt">x =</span> chom, <span class="dt">y =</span> dipl_aucun)) <span class="op">+</span></span>
<span id="cb274-3"><a href="08-ggplot2.html#cb274-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">alpha =</span> <span class="fl">0.15</span>) <span class="op">+</span></span>
<span id="cb274-4"><a href="08-ggplot2.html#cb274-4"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">data =</span> chom15, <span class="kw">aes</span>(<span class="dt">label =</span> commune), <span class="dt">color=</span><span class="st">&quot;red&quot;</span>, <span class="dt">size=</span><span class="dv">3</span>)</span></code></pre></div>
</div>


</div>
</div>
<div class="footnotes">
<hr />
<ol start="13">
<li id="fn13"><p>Vous pouvez aussi lancer la commande <code>esquisser::esquisse()</code> dans la Console.<a href="08-ggplot2.html#fnref13" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script src="js/tidyverse.js"></script>
            </section>

          </div>
        </div>
      </div>
<a href="07-import.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="09-recodages.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"],
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/juba/tidyverse/blob/main/08-ggplot2.Rmd",
"text": "Source"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["introduction_au_tidyverse.epub", "introduction_au_tidyverse.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
